{"version":3,"file":"bundle.js","sources":["../../src/GameConfig.ts","../../src/dMyGame/Control/ConManager.ts","../../src/aTGame/Console/ConsoleConst.ts","../../src/aTGame/Console/ConsoleEx.ts","../../src/aTGame/Res/ResLoad.ts","../../src/aTGame/Utils/V3Utils.ts","../../src/aTGame/3D/SceneUtils.ts","../../src/aTGame/Root/RootClassProxy.ts","../../src/aTGame/3D/GlobalUnitClassProxy.ts","../../src/aTGame/Res/EKeyResName.ts","../../src/aTGame/Res/KeyResManager.ts","../../src/aTGame/Res/EssentialResUrls.ts","../../src/aTGame/Utils/ArrayUtils.ts","../../src/aTGame/3D/Scene.ts","../../src/cFrameBridge/Config/ELevelSceneName.ts","../../src/aTGame/3D/SceneManagerProxy.ts","../../src/dMyGame/_config/LevelConfig.ts","../../src/aTGame/Config/RootDataProxy.ts","../../src/dMyGame/ConfigProxy/LevelConfigProxy.ts","../../src/dMyGame/_config/OtherLevelConfig.ts","../../src/dMyGame/ConfigProxy/OtherLevelConfigProxy.ts","../../src/cFrameBridge/Config/FrameLevelConfig.ts","../../src/cFrameBridge/Config/FrameLevelConst.ts","../../src/aTGame/3D/SceneManager.ts","../../src/dMyGame/Common/Const.ts","../../src/dMyGame/PrefabProcessor/z_T/RootProManager.ts","../../src/dMyGame/PrefabProcessor/c_Enum/EProcessor.ts","../../src/dMyGame/PrefabProcessor/z_T/ProScriptLink.ts","../../src/dMyGame/PrefabProcessor/z_T/pro/ProStampScript.ts","../../src/dMyGame/PrefabProcessor/z_T/pro/BasePrefabPro.ts","../../src/dMyGame/PrefabProcessor/z_T/scr/RootScript.ts","../../src/dMyGame/PrefabProcessor/z_T/scr/BaseProScript.ts","../../src/dMyGame/PrefabProcessor/b_Script/CameraScr.ts","../../src/dMyGame/Common/ValueConst.ts","../../src/aTGame/Utils/ColorUtils.ts","../../src/aTGame/Utils/Dictionary.ts","../../src/cFrameBridge/Physics/OimoConst.ts","../../src/aTGame/Physics/oimo/OimoManager.ts","../../src/aTGame/Physics/oimo/OimoSystem.ts","../../src/bTGameConfig/MainConfig.ts","../../src/bTGameConfig/MainGameConfig.ts","../../src/aTGame/Debug/RootDebug.ts","../../src/aTGame/Debug/EnvironmentDebug.ts","../../src/aTGame/3D/Global3D.ts","../../src/dMyGame/EventEnum/EEventScene.ts","../../src/dMyGame/Manager/MesManager.ts","../../src/aTGame/Commom/CommonLeveEnum.ts","../../src/aTGame/Utils/StringUtils.ts","../../src/aTGame/Data/Md5.ts","../../src/aTGame/Data/RootDataManger.ts","../../src/aTGame/Data/Base64.ts","../../src/aTGame/Data/RootLocalStorageProxy.ts","../../src/aTGame/Data/RootGameData.ts","../../src/aTGame/Data/RootLocalStorageData.ts","../../src/dMyGame/GameData/GameData.ts","../../src/dMyGame/GameData/GameDataProxy.ts","../../src/dMyGame/_config/EnvironmentConfig.ts","../../src/dMyGame/ConfigProxy/EnvironmentConfigProxy.ts","../../src/dMyGame/_config/OtherEnvironmentConfig.ts","../../src/dMyGame/ConfigProxy/OtherEnvironmentProxy.ts","../../src/dMyGame/Manager/EnvironmentManager.ts","../../src/dMyGame/PrefabProcessor/d_SpecialPro/CameraPro.ts","../../src/dMyGame/PrefabProcessor/d_SpecialPro/HeightFogCubePro.ts","../../src/dMyGame/PrefabProcessor/ProManagerProxy.ts","../../src/dMyGame/_prefabsName/_PrefabsPrefabNames.ts","../../src/dMyGame/ResList/PrefabNames.ts","../../src/dMyGame/PrefabProcessor/ProManager.ts","../../src/dMyGame/EventEnum/EEventUI.ts","../../src/dMyGame/Manager/CustomsManager.ts","../../src/aTGame/UI/FGUI/ESpecialUIIndex.ts","../../src/aTGame/UI/FGUI/EUILayer.ts","../../src/aTGame/UI/FGUI/RootUIConst.ts","../../src/aTGame/UI/FGUI/FGuiRootManager.ts","../../src/aTGame/UI/FGUI/BaseUIMediator.ts","../../src/dMyGame/EventEnum/EEventGlobal.ts","../../src/FGUI/GameMain/FGUI_PGameLoading.ts","../../src/dMyGame/UIMediator/PGameLoadingMediator.ts","../../src/FGUI/GameMain/FGUI_PGameMain.ts","../../src/dMyGame/UIMediator/PGameMainMediator.ts","../../src/FGUI/GameMain/FGUI_PGamePlay.ts","../../src/dMyGame/UIMediator/PGamePlayMediator.ts","../../src/FGUI/GameMain/FGUI_PGameStart.ts","../../src/dMyGame/UIMediator/PGameStartMediator.ts","../../src/dMyGame/Enum/EUI.ts","../../src/aTGame/UI/FGUI/RootUIStateManagerProxy.ts","../../src/dMyGame/Manager/Proxy/UIManagerProxy.ts","../../src/FGUI/GameMain/FGUI_PGameCustomsLoading.ts","../../src/dMyGame/UIMediator/PGameCustomsLoadingMediator.ts","../../src/FGUI/GameMain/FGUI_PGamePause.ts","../../src/dMyGame/UIMediator/PGamePauseMediator.ts","../../src/FGUI/GameMain/FGUI_PGameSet.ts","../../src/dMyGame/UIMediator/PGameSetMediator.ts","../../src/FGUI/GameMain/FGUI_PGameCom.ts","../../src/dMyGame/UIMediator/PGameComMediator.ts","../../src/FGUI/GameMain/FGUI_PGameEnd.ts","../../src/dMyGame/UIMediator/PGameEndMediator.ts","../../src/FGUI/GameMain/FGUI_PGameTestMain.ts","../../src/dMyGame/UIMediator/_test/PGameTestMainMediator.ts","../../src/aTGame/Platform/Data/PlatformData.ts","../../src/cFrameBridge/Platform/Data/BDData.ts","../../src/cFrameBridge/Platform/Data/OPPOData.ts","../../src/cFrameBridge/Platform/Data/QQData.ts","../../src/cFrameBridge/Platform/Data/QTTData.ts","../../src/cFrameBridge/Platform/Data/TTData.ts","../../src/cFrameBridge/Platform/Data/WXData.ts","../../src/aTGame/Platform/Common/PlatformCommonEventId.ts","../../src/aTGame/Platform/T/EPlatformType.ts","../../src/aTGame/Async/Awaiters.ts","../../src/aTGame/Platform/Device/DefaultDevice.ts","../../src/aTGame/Platform/Device/WXDevice.ts","../../src/aTGame/Platform/PlatformManagerProxy.ts","../../src/aTGame/Platform/Record/DefaultRecordManager.ts","../../src/aTGame/Utils/MathUtils.ts","../../src/aTGame/Platform/T/ShareInfo.ts","../../src/aTGame/Platform/ShareManager.ts","../../src/aTGame/Platform/PlatformClass/WXPlatform.ts","../../src/aTGame/Platform/PlatformClass/BDPlatform.ts","../../src/aTGame/Platform/Record/WebRecordManager.ts","../../src/aTGame/Platform/PlatformClass/DefaultPlatform.ts","../../src/aTGame/Platform/PlatformClass/OppoPlatform.ts","../../src/aTGame/Platform/PlatformClass/QQPlatform.ts","../../src/aTGame/Platform/PlatformClass/QTTPlatform.ts","../../src/aTGame/Platform/Device/TTDevice.ts","../../src/aTGame/Platform/Record/TTRecordManager.ts","../../src/aTGame/Platform/PlatformClass/TTPlatform.ts","../../src/aTGame/Platform/PlatformManager.ts","../../src/FGUI/GameMain/FGUI_PGameTestPlatform.ts","../../src/dMyGame/UIMediator/_test/PGameTestPlatformMediator.ts","../../src/aTGame/UI/FGUI/BaseUIManager.ts","../../src/dMyGame/Manager/UIManager.ts","../../src/dMyGame/Manager/GlobalStateManager.ts","../../src/aTGame/Data/RootShortProxy.ts","../../src/dMyGame/GameData/shortData/GameOnCustomData.ts","../../src/dMyGame/GameData/GameShortData.ts","../../src/dMyGame/GameData/GameShortDataProxy.ts","../../src/dMyGame/Manager/GameManager.ts","../../src/dMyGame/_config/TestConst.ts","../../src/dMyGame/ConfigProxy/TestConstProxy.ts","../../src/dMyGame/EventEnum/EEventAudio.ts","../../src/aTGame/Res/ResUrl.ts","../../src/aTGame/Audio/AudioUtils.ts","../../src/dMyGame/Proxy/AudioProxy.ts","../../src/dMyGame/Manager/AudioManager.ts","../../src/dMyGame/Main/Game/Game3D.ts","../../src/aTGame/Config/ConfigManager.ts","../../src/dMyGame/_config/GameConst.ts","../../src/aTGame/UI/FGUI/LoadUIPack.ts","../../src/aTGame/Commom/ComData.ts","../../src/aTGame/Commom/CommonDataProxy.ts","../../src/cFrameBridge/FrameSubpackages.ts","../../src/aTGame/Main/RootGameLoad.ts","../../src/dMyGame/_config/SkinConfig.ts","../../src/FGUI/InitLoad/FGUI_splash.ts","../../src/dMyGame/_config/GameStateConst.ts","../../src/FGUI/GameCommon/GameCommonBinder.ts","../../src/FGUI/GameMain/GameMainBinder.ts","../../src/FGUI/InitEmptyScreen/FGUI_EmptyScreen.ts","../../src/FGUI/InitEmptyScreen/InitEmptyScreenBinder.ts","../../src/FGUI/InitLoad/InitLoadBinder.ts","../../src/dMyGame/ResList/ESounds.ts","../../src/dMyGame/_config/CameraConst.ts","../../src/dMyGame/_config/LightingConst.ts","../../src/dMyGame/GameData/GamePropData.ts","../../src/dMyGame/GameData/GamePropDataProxy.ts","../../src/dMyGame/GameData/GameSkinData.ts","../../src/dMyGame/GameData/GameSkinDataProxy.ts","../../src/dMyGame/GameData/GameSignData.ts","../../src/dMyGame/GameData/GameSignDataProxy.ts","../../src/dMyGame/_config/LevelPropConfig.ts","../../src/dMyGame/_config/OtherConst.ts","../../src/dMyGame/ResList/EBGMs.ts","../../src/dMyGame/GameData/GameNewHandData.ts","../../src/dMyGame/GameData/GameNewHandDataProxy.ts","../../src/dMyGame/GameData/GameTestData.ts","../../src/dMyGame/GameData/GameTestDataProxy.ts","../../src/dMyGame/Main/GameLoad.ts","../../src/dMyGame/Main/Game/Game2D.ts","../../src/aTGame/Test/RootTest.ts","../../src/aTGame/Test/ConsoleTest.ts","../../src/aTGame/Test/MainTest.ts","../../src/eTest/AsyncTest.ts","../../src/eTest/OIMODebug.ts","../../src/eTest/MyMainTest.ts","../../src/aTGame/Debug/MainDebug.ts","../../src/fDebug/CustomDebug.ts","../../src/fDebug/MyMainDebug.ts","../../src/dMyGame/MainStart.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=750;\r\n    static height:number=1334;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n\r\n    }\r\n}\r\nGameConfig.init();","/**\r\n * 控制器管理器\r\n */\r\nexport default class ConManager {\r\n    /**\r\n     * 为场景添加所有脚本控制器\r\n     * @param _scene 场景\r\n     */\r\n    public static addScrCon(_scene: Laya.Sprite3D) {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 为场景添加所有普通控制器\r\n     */\r\n    public static addCommonCon() {\r\n        //\r\n    }\r\n}\r\n","/**\r\n * 打印台常用配置\r\n */\r\nexport default class ConsoleConst {\r\n    /** 打印台Log样式 */\r\n    public static logStyle: string = `\r\n        color: #fff;\r\n        background-color: #8d93ab;\r\n        border-radius: 3px;\r\n        line-height: 15px;\r\n        `;\r\n\r\n    /** 打印台Log样式 */\r\n    public static comStyle: string = `\r\n        color: #fff;\r\n        background-color: #ade498;\r\n        border-radius: 3px;\r\n        line-height: 15px;\r\n        `;\r\n\r\n    /** 打印台Log样式 */\r\n    public static warnStyle: string = `\r\n        color: #5c6e06;\r\n        background-color: #ffa931;\r\n        border-radius: 3px;\r\n        line-height: 15px;\r\n        `;\r\n\r\n    /** 打印台Log样式 */\r\n    public static errorStyle: string = `\r\n        color: #fff;\r\n        background-color: #ec0101;\r\n        border-radius: 3px;\r\n        line-height: 15px;\r\n        `;\r\n\r\n    // * ---------- *//\r\n\r\n    /** 打印台Log样式 */\r\n    public static platformStyle: string = `\r\n        color: #52575d;\r\n        background-color: #e3fdfd;\r\n        border-radius: 3px;\r\n        line-height: 15px;\r\n        `;\r\n}","import ConsoleConst from \"./ConsoleConst\";\r\n\r\n/**\r\n * 打印台扩展\r\n */\r\nexport default class ConsoleEx {\r\n    /**\r\n     * 打印普通消息\r\n     * @param any 内容\r\n     */\r\n    public static log(...any) {\r\n        console.log(`%c ${any}`, ConsoleConst.logStyle);\r\n    }\r\n\r\n    /**\r\n     * 打印警告消息\r\n     * @param any 内容\r\n     */\r\n    public static warn(...any) {\r\n        console.log(`%c ${any}`, ConsoleConst.warnStyle);\r\n    }\r\n\r\n    /**\r\n     * 打印错误消息\r\n     * @param any 内容\r\n     */\r\n    public static error(...any) {\r\n        console.log(`%c ${any}`, ConsoleConst.errorStyle);\r\n    }\r\n\r\n    //* ---------- *//\r\n\r\n    /**\r\n     * 包装普通消息\r\n     * @param any 内容\r\n     */\r\n    public static packLog(...any) {\r\n        return [`%c ${any} `, ConsoleConst.logStyle];\r\n    }\r\n\r\n    /**\r\n     * 包装成功消息\r\n     * @param any 内容\r\n     */\r\n    public static comLog(...any) {\r\n        return [`%c ${any} `, ConsoleConst.comStyle];\r\n    }\r\n\r\n    /**\r\n     * 包装警告消息\r\n     * @param any 内容\r\n     */\r\n    public static packWarn(...any) {\r\n        return [`%c 警告: ${any} `, ConsoleConst.warnStyle];\r\n    }\r\n\r\n    /**\r\n     * 包装错误消息\r\n     * @param any 内容\r\n     */\r\n    public static packError(...any) {\r\n        return [`%c 错误: ${any} `, ConsoleConst.errorStyle];\r\n    }\r\n\r\n    // * ---------- * //\r\n\r\n    /**\r\n     * 包装平台消息\r\n     * @param any 内容\r\n     */\r\n    public static packPlatform(...any) {\r\n        return [`%c 平台: ${any} `, ConsoleConst.platformStyle];\r\n    }\r\n}","import ConsoleEx from \"../Console/ConsoleEx\";\r\n\r\n/**\r\n * 资源加载类\r\n */\r\nexport default class ResLoad {\r\n    /**\r\n     * 加载资源\r\n     * @param urls 资源路径\r\n     * @param onCompleted 完成回调\r\n     * @param onProgress \r\n     */\r\n    public static Load(urls: string | string[], onCompleted: Laya.Handler, onProgress: Laya.Handler = null) {\r\n        if (onProgress && onProgress.once) {\r\n            onProgress.once = false;\r\n        }\r\n        //判断是否有内容需要加载\r\n        if (!urls || urls.length == 0) {\r\n            onCompleted.run();\r\n            onProgress.run();\r\n            return;\r\n        }\r\n        Laya.loader.create(urls, onCompleted, onProgress);\r\n    }\r\n\r\n    /**\r\n     * 加载2D资源\r\n     * @param urls 资源路径 \r\n     * @param onCompleted 完成时回调\r\n     * @param onProgress \r\n     */\r\n    public static Load2d(urls: string | string[], onCompleted: Laya.Handler, onProgress: Laya.Handler = null) {\r\n        if (onProgress && onProgress.once) {\r\n            onProgress.once = false;\r\n        }\r\n        //判断是否有内容需要加载\r\n        if (!urls || urls.length == 0) {\r\n            onCompleted.run();\r\n            onProgress.run();\r\n            return;\r\n        }\r\n        Laya.loader.load(urls, onCompleted, onProgress);\r\n    }\r\n\r\n    /**\r\n     * 异步加载资源\r\n     * @param urls 资源路径\r\n     * @param onProgress \r\n     */\r\n    public static LoadAsync(urls: string | string[], onProgress: Laya.Handler = null): Promise<void> {\r\n        //\r\n        return new Promise((resolve) => {\r\n            ResLoad.Load(urls, Laya.Handler.create(null, () => {\r\n                resolve();\r\n            }), onProgress);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 异步加载2D资源\r\n     * @param urls 资源路径\r\n     * @param onProgress \r\n     */\r\n    public static Load2dAsync(urls: string | string[], onProgress: Laya.Handler = null): Promise<void> {\r\n        //\r\n        return new Promise(function (resolve) {\r\n            ResLoad.Load2d(urls, Laya.Handler.create(null, () => {\r\n                resolve();\r\n            }), onProgress);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取资源\r\n     * @param resUrl 资源路径\r\n     * @param noClone 是否不获取克隆的资源\r\n     */\r\n    public static Get(resUrl: string, noClone: boolean = false): any {\r\n        let getRes = Laya.loader.getRes(resUrl);\r\n        if (getRes == null) {\r\n            console.log(...ConsoleEx.packError(\"资源尚未加载\", resUrl));\r\n            return null;\r\n        }\r\n        return noClone ? getRes : getRes.clone();\r\n    }\r\n\r\n    /**\r\n     * 加载并获取资源\r\n     * @param resUrl 资源路径\r\n     * @param noClone 是否获取克隆的资源\r\n     */\r\n    public static LoadAndGet(resUrl: string, noClone: boolean = false): Promise<any> {\r\n        return new Promise<any>((r: Function) => {\r\n            ResLoad.LoadAsync(resUrl).then((_data: any) => {\r\n                r(ResLoad.Get(resUrl, noClone));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 清理指定资源地址缓存。\r\n     * @param resUrl 资源路径\r\n     */\r\n    public static Unload(resUrl: string) {\r\n        Laya.loader.clearRes(resUrl);\r\n    }\r\n}","/**\r\n * 关于v3向量的工具\r\n */\r\nexport default class V3Utils {\r\n    /**\r\n     * 通过一个字符串构建v3向量\r\n     * @param str \r\n     */\r\n    public static parseVector3(str: string): Laya.Vector3 {\r\n        var strs = str.split(',');\r\n        return new Laya.Vector3(Number(strs[0]), Number(strs[1]), Number(strs[2]));\r\n    }\r\n\r\n    /**\r\n     * 设置V3向量长度\r\n     * @param _v3 目标向量\r\n     * @param _l 目标长度\r\n     */\r\n    public static setV3Length(_v3: Laya.Vector3, _l: number) {\r\n        let _a: number = _l / Laya.Vector3.scalarLength(_v3);\r\n        _v3.x = _v3.x * _a;\r\n        _v3.y = _v3.y * _a;\r\n        _v3.z = _v3.z * _a;\r\n    }\r\n\r\n    /**\r\n     * 一个点插值移动到另一个点\r\n     * @param _pos 当前点\r\n     * @param _tragetPot 目标点\r\n     * @param _lerp 插值移动比例\r\n     * @param _outV3 输出向量\r\n     * @param _initialLength 初始长度\r\n     */\r\n    public static PotLerpMove(_pos: Laya.Vector3, _tragetPot: Laya.Vector3, _lerp: number, _outV3: Laya.Vector3, _initialLength: number): number {\r\n        if (!_outV3) {\r\n            console.error('必须有一个输出的向量！');\r\n            return;\r\n        }\r\n        //\r\n        let _distance: number = Laya.Vector3.distance(_pos, _tragetPot);\r\n        //\r\n        Laya.Vector3.lerp(_pos, _tragetPot, _lerp, _outV3);\r\n        //返回进度\r\n        return 1 - (_distance / _initialLength);\r\n    }\r\n\r\n    /**\r\n     * 一个点匀速移动到另一个点\r\n     * @param _pos 当前点\r\n     * @param _tragetPot 目标点\r\n     * @param _speed 速度\r\n     * @param _outV3 输出向量\r\n     */\r\n    public static PotConstantSpeedMove(_pos: Laya.Vector3, _tragetPot: Laya.Vector3, _speed: number, _outV3: Laya.Vector3): boolean {\r\n        if (!_outV3) {\r\n            console.error('必须有一个输出的向量！');\r\n            return;\r\n        }\r\n        //\r\n        let _ifEnd: boolean;\r\n        let _differV3: Laya.Vector3 = new Laya.Vector3();\r\n        //\r\n        Laya.Vector3.subtract(_tragetPot, _pos, _differV3);\r\n        let _distance: number = Laya.Vector3.scalarLength(_differV3);\r\n        if (_distance > _speed) {\r\n            this.setV3Length(_differV3, _speed);\r\n            _ifEnd = false;\r\n        } else {\r\n            _ifEnd = true;\r\n        }\r\n        //相加\r\n        Laya.Vector3.add(_pos, _differV3, _outV3);\r\n        //\r\n        return _ifEnd;\r\n    }\r\n}","import V3Utils from \"../Utils/V3Utils\";\r\n\r\n/**\r\n * 节点\r\n */\r\nexport interface ISceneNode {\r\n    name: string;\r\n    child: ISceneNode[] | IScenePrefab[];\r\n    position: string;\r\n    euler: string;\r\n    scale: string;\r\n}\r\n\r\n/**\r\n * 预制体\r\n */\r\nexport interface IScenePrefab {\r\n    name: string;\r\n    prefabName: string;\r\n    position: string;\r\n    euler: string;\r\n    scale: string;\r\n}\r\n\r\n/**\r\n * 场景实用工具类\r\n */\r\nexport default class SceneUtils {\r\n    /**\r\n     * 根据spr精灵初始化节点\r\n     * @param _spr 精灵\r\n     * @param _target 目标节点\r\n     */\r\n    public static initNode(_spr: Laya.Sprite3D, _target: ISceneNode | IScenePrefab) {\r\n        _spr.name = _target.name;\r\n        //设置位置\r\n        if (!_target.position) {\r\n            //默认位置\r\n            _spr.transform.localPosition = new Laya.Vector3(0, 0, 0);\r\n        } else {\r\n            _spr.transform.localPosition = V3Utils.parseVector3(_target.position);\r\n        }\r\n        //设置旋转\r\n        if (!_target.euler) {\r\n            //默认旋转\r\n            _spr.transform.localRotationEuler = new Laya.Vector3(0, 0, 0);\r\n        } else {\r\n            _spr.transform.localRotationEuler = V3Utils.parseVector3(_target.euler);\r\n        }\r\n        //设置缩放\r\n        if (!_target.scale) {\r\n            //默认缩放\r\n            _spr.transform.localScale = new Laya.Vector3(1, 1, 1);\r\n        } else {\r\n            _spr.transform.localScale = V3Utils.parseVector3(_target.scale)\r\n        }\r\n    }\r\n}","/**\r\n * 类代理类基类 (为需要双向引用的类代理数据)\r\n * 在该类里面引入的其他类必须没有循环代理问题\r\n * ! 注意！只能处理静态或者单例类型，并且必须在使用前初始化\r\n * ! 初始化不要写到constructor方法里面,写到主动调用的方法里面\r\n */\r\nexport default class RootClassProxy {\r\n    //是否已经设置过代理\r\n    protected static m_ifSetProxy: boolean = false;\r\n\r\n    //代理数据\r\n    private static m_datas: IRootClassProxyData;\r\n\r\n    //代理方法\r\n    private static m_handlers: IRootClassProxyFunction;\r\n\r\n    /** 获取代理数据 */\r\n    public static get Datas(): IRootClassProxyData {\r\n        return this.m_datas;\r\n    }\r\n\r\n    /** 设置代理数据 */\r\n    public static set Datas(_data: IRootClassProxyData) {\r\n        this.m_datas = _data;\r\n    }\r\n\r\n    /** 获取代理数据 */\r\n    public static get Handlers(): IRootClassProxyFunction {\r\n        return this.m_handlers;\r\n    }\r\n\r\n    /** 设置代理数据 */\r\n    public static set Handlers(_handler: IRootClassProxyFunction) {\r\n        this.m_handlers = _handler;\r\n    }\r\n}\r\n\r\n/**\r\n * 代理类代理数据类型\r\n */\r\nexport interface IRootClassProxyData {\r\n    [index: string]: any,\r\n}\r\n\r\n/**\r\n * 代理类代理方法类型\r\n */\r\nexport interface IRootClassProxyFunction {\r\n    [index: string]: Laya.Handler,\r\n}\r\n\r\n/**\r\n * 踩坑\r\n * 循环依赖问题产生原因\r\n * 不是a导入了b，b又导入a引起的\r\n * 而是a文件实例化了b，b文件有实例化了a引起了\r\n */","import RootClassProxy from \"../Root/RootClassProxy\";\r\n\r\n/**\r\n * 全局内容类代理\r\n */\r\nexport default class GlobalUnitClassProxy extends RootClassProxy {\r\n    /** 3d场景 */\r\n    public static s3d: Laya.Scene3D;\r\n\r\n    /** 摄像机 */\r\n    public static camera: Laya.Camera;\r\n\r\n    /** 灯光 */\r\n    public static light: Laya.DirectionLight;\r\n}","/**\r\n * 关键资源点名字枚举\r\n */\r\nexport enum EKeyResName {\r\n    /** 根目录 */\r\n    RootRes = 'res',\r\n    /** 配置表目录 */\r\n    Config = 'Config',\r\n    /** FGUI资源目录 */\r\n    FGUI = 'FGUI',\r\n    /** 关卡配置表目录 */\r\n    LvConfig = 'LvConfig',\r\n    /** 预制体目录 */\r\n    Prefab = 'Prefab',\r\n    /** 其它目录 */\r\n    Other = 'Other',\r\n    /** icon目录 */\r\n    icon = 'icon',\r\n    /** img目录 */\r\n    img = 'img',\r\n    /** 音乐文件目录 */\r\n    music = 'music',\r\n    /** 音效文件目录 */\r\n    sound = 'sound',\r\n    /** 皮肤文件目录 */\r\n    skin = 'skin',\r\n}","import ConsoleEx from \"../Console/ConsoleEx\";\r\nimport { EKeyResName } from \"./EKeyResName\";\r\n\r\n/**\r\n * 关键资源点列表管理器\r\n */\r\nexport default class KeyResManager {\r\n    //\r\n    private static _instance: KeyResManager;\r\n    /** 单例 */\r\n    public static get instance(): KeyResManager {\r\n        if (this._instance == null) {\r\n            this._instance = new KeyResManager();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    //关键资源列表\r\n    private m_KeyResList: { [index: string]: string } = {};\r\n\r\n    //副本\r\n    private m_KeyResList_: { [index: string]: string } = {};\r\n\r\n    private constructor() {\r\n        //注册关键资源目录\r\n        this.m_KeyResList = {\r\n            [EKeyResName.RootRes]: EKeyResName.RootRes + '/',\r\n            [EKeyResName.Config]: EKeyResName.RootRes + '/' + EKeyResName.Config + '/',\r\n            [EKeyResName.FGUI]: EKeyResName.RootRes + '/' + EKeyResName.FGUI + '/',\r\n            [EKeyResName.LvConfig]: EKeyResName.RootRes + '/' + EKeyResName.LvConfig + '/',\r\n            [EKeyResName.Prefab]: EKeyResName.RootRes + '/' + EKeyResName.Prefab + '/',\r\n            [EKeyResName.Other]: EKeyResName.RootRes + '/' + EKeyResName.Other + '/',\r\n            [EKeyResName.icon]: EKeyResName.RootRes + '/' + EKeyResName.Other + '/' + EKeyResName.icon + '/',\r\n            [EKeyResName.img]: EKeyResName.RootRes + '/' + EKeyResName.Other + '/' + EKeyResName.img + '/',\r\n            [EKeyResName.music]: EKeyResName.RootRes + '/' + EKeyResName.Other + '/' + EKeyResName.music + '/',\r\n            [EKeyResName.sound]: EKeyResName.RootRes + '/' + EKeyResName.Other + '/' + EKeyResName.sound + '/',\r\n            [EKeyResName.skin]: EKeyResName.RootRes + '/' + EKeyResName.Other + '/' + EKeyResName.skin + '/',\r\n        };\r\n        //复制一个副本\r\n        for (let _i in this.m_KeyResList) {\r\n            this.m_KeyResList_[_i] = this.m_KeyResList[_i];\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 判断是否存在某个关键点key\r\n     * @param _key 关键点key\r\n     */\r\n    public ifKeyRes(_key: string): boolean {\r\n        let _if: boolean = false;\r\n        for (let _i in EKeyResName) {\r\n            if (_key == EKeyResName[_i]) {\r\n                _if = true;\r\n                break;\r\n            }\r\n        }\r\n        return _if;\r\n    }\r\n\r\n    /**\r\n     * 获取一个关键点资源的路径\r\n     * @param _key 关键点key\r\n     */\r\n    public getResURL(_key: EKeyResName): string {\r\n        return this.m_KeyResList[_key];\r\n    }\r\n\r\n    /**\r\n     * 修改关键点资源路径\r\n     * @param _key 关键点key\r\n     * @param _str 路径\r\n     */\r\n    public editKeyResList(_key: string, _str: string) {\r\n        let _replace: string = this.m_KeyResList_[_key];\r\n        if (!_replace) {\r\n            console.log(...ConsoleEx.packWarn('修改资源路径失败，没有' + _key + '这个关键路径！'));\r\n            return;\r\n        } else {\r\n            console.log(...ConsoleEx.packLog('修改关键点资源路径', _replace, '替换成', _str));\r\n        }\r\n        //替换所有资源路径中的关键点路径\r\n        for (let _i in this.m_KeyResList) {\r\n            this.m_KeyResList[_i] = this.m_KeyResList[_i].replace(_replace, _str);\r\n        }\r\n        //\r\n        this.m_KeyResList_[_key] = _str;\r\n    }\r\n}","import { EKeyResName } from './EKeyResName';\r\nimport KeyResManager from './KeyResManager';\r\n/**\r\n * 必要的游戏资源路径\r\n * 游戏必须要得资源，会在游戏加载时被默认加载\r\n */\r\nexport default class EssentialResUrls {\r\n\r\n    /**\r\n     * 获取所有的其他资源列表\r\n     * 资源列表必须在EssentialResUrls类中获取，便于清理\r\n     */\r\n    public static EssentialOtherResUrl(): string[] {\r\n        let _URLs: string[] = [];\r\n        //添加资源\r\n        //\r\n        //\r\n        return _URLs;\r\n    }\r\n\r\n    //* ----------单个资源---------- *//\r\n\r\n    /**\r\n     * 获取关卡配置文件\r\n     * @param _name 场景名字\r\n     */\r\n    public static levelConfigURL(_name: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.LvConfig) + _name + '.json';\r\n    }\r\n\r\n    /**\r\n     * 获取配置表RUL\r\n     * @param _name 配置表名字\r\n     */\r\n    public static ConfigURL(_name: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.Config) + _name;\r\n    }\r\n\r\n    /**\r\n     * FGUI包\r\n     * @param _name 包名\r\n     */\r\n    public static FGUIPack(_name: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.FGUI) + _name;\r\n    }\r\n\r\n    /**\r\n     * 预制体资源路径\r\n     * @param prefab 预制体名字\r\n     */\r\n    public static prefab_url(prefab: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.Prefab) + 'Conventional/' + prefab + '.lh';\r\n    }\r\n}","/**\r\n * 数组工具\r\n */\r\nexport default class ArrayUtils {\r\n\r\n    /**\r\n     * 数组去重保留靠前的内容\r\n     * @param arr 源数组\r\n     */\r\n    public static Unique<T>(arr: T[]): T[] {\r\n        return Array.from(new Set(arr));\r\n    }\r\n\r\n    /**\r\n     * 数组去重保留靠后的内容\r\n     * @param arr 源数组\r\n     */\r\n    public static ReverseReserveUnique<T>(arr: T[]): T[] {\r\n        return Array.from(new Set(arr.reverse())).reverse();\r\n    }\r\n\r\n    /**\r\n     * 对象数组去重\r\n     * @param arr 源数组\r\n     * @param _F 获取对比键值函数\r\n     */\r\n    public static ObjUnique<T>(arr: T[], _F: (o: T) => string): T[] {\r\n        for (let i = 0, len = arr.length; i < len; i++) {\r\n            for (let j = i + 1, len = arr.length; j < len; j++) {\r\n                if (_F(arr[i]) === _F(arr[j])) {\r\n                    arr.splice(j, 1);\r\n                    j--;        // 每删除一个数j的值就减1\r\n                    len--;      // j值减小时len也要相应减1（减少循环次数，节省性能）   \r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * 替换数组的某个元素\r\n     * @param arr 源数组\r\n     * @param oldObj 被替换的元素\r\n     * @param newObj 替换元素\r\n     */\r\n    public static Replace<T>(arr: T[], oldObj: T, newObj: T): boolean {\r\n        let index = arr.indexOf(oldObj);\r\n        if (index < 0) return false;\r\n        arr.splice(index, 1, newObj);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 删除一个元素并返回结果\r\n     * @param arr 源数组\r\n     * @param obj 删除目标对象\r\n     */\r\n    public static RemoveItem<T>(arr: T[], obj: T): boolean {\r\n        let index = arr.indexOf(obj);\r\n        if (index < 0) return false;\r\n        arr.splice(index, 1);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 根据索引删除一个数据\r\n     * @param arr 源数组\r\n     * @param index 索引\r\n     */\r\n    public static RemoveAt<T>(arr: T[], index: number): boolean {\r\n        if (arr.length <= index) return false;\r\n        arr.splice(index, 1);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 数组是否包含某个数据\r\n     * @param arr \r\n     * @param obj \r\n     */\r\n    public static Contains<T>(arr: T[], obj: T): boolean {\r\n        let index = arr.indexOf(obj);\r\n        return index >= 0;\r\n    }\r\n\r\n    /**\r\n     * 复制一个数组\r\n     * @param arr 源数组\r\n     */\r\n    public static Copy<T>(arr: T[]): T[] {\r\n        let result = [];\r\n        for (let i = 0; i < arr.length; ++i) {\r\n            result.push(arr[i]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 随机打乱数组\r\n     * @param _array 目标数组 \r\n     */\r\n    public static upsetArray<T>(_array: T[]) {\r\n        //乱序\r\n        _array.sort(() => {\r\n            return Math.random() - 0.5;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 随机获取数组中的随机值，可指定长度\r\n     * @param _array 原数组\r\n     * @param _n 随机个数\r\n     * @param _weight 权重列表\r\n     */\r\n    public static RandomGet<T>(_array: T[], _n: number = 1, _weight: number[] = _array.map((item) => { return 1; })): T[] {\r\n        if (_array.length <= 0) { return; }\r\n        let _rootArray: T[] = [];\r\n        let _newArray: T[] = [];\r\n        //权重索引列表\r\n        let _indexArray: number[] = [];\r\n        //找到最小的权重\r\n        let _minWeight: number = _weight[0];\r\n        _weight.forEach((item) => {\r\n            _minWeight = Math.min(_minWeight, item);\r\n        });\r\n        _weight = _weight.map((item) => {\r\n            return Math.floor(item * (1 / _minWeight));\r\n        });\r\n        _array.forEach((item, index) => {\r\n            _rootArray.push(item);\r\n            //\r\n            for (let _i = 0; _i < _weight[index]; _i++) {\r\n                _indexArray.push(index);\r\n            }\r\n        });\r\n        let _index: number;\r\n        for (let _i = 0; _i < _n; _i++) {\r\n            if (_rootArray.length <= 0) { break; }\r\n            _index = Math.floor(Math.random() * _indexArray.length);\r\n            _indexArray = _indexArray.filter((item) => {\r\n                return item != _index;\r\n            });\r\n            _newArray.push(_rootArray.splice(_indexArray[_index], 1)[0]);\r\n        }\r\n        //\r\n        return _newArray;\r\n    }\r\n}","import ResLoad from '../Res/ResLoad';\r\nimport SceneUtils, { ISceneNode, IScenePrefab } from \"./SceneUtils\";\r\nimport GlobalUnitClassProxy from \"./GlobalUnitClassProxy\";\r\nimport EssentialResUrls from '../Res/EssentialResUrls';\r\nimport ConsoleEx from '../Console/ConsoleEx';\r\nimport ArrayUtils from '../Utils/ArrayUtils';\r\nimport { IFrameLevelData } from '../../cFrameBridge/Config/FrameLevelConfig';\r\n/**\r\n * 场景类\r\n */\r\nexport default class Scene {\r\n    //\r\n    private _lvConfig: IFrameLevelData;//关卡数据\r\n    private sceneNode: { [index: string]: ISceneNode };//关卡加载节点\r\n    private sceneNode_: ISceneNode[];//关卡其他资源加载节点\r\n    //预制体资源列表\r\n    private _prefabRes: string[] = [];\r\n    //场景根节点\r\n    private _scene: Laya.Sprite3D;\r\n\r\n    //附属资源列表\r\n    private m_affiliateResURLs: string[] = [];\r\n\r\n    /** 根据预制体分类的物品列表 */\r\n    public prefabs: { [key: string]: Laya.Sprite3D[] } = {};\r\n\r\n    /** 所有的物品 */\r\n    public sprite3Ds: Laya.Sprite3D[] = [];\r\n\r\n    /**\r\n     * 初始化\r\n     * @param sceneNode 关卡构建节点\r\n     * @param sceneNode_ 关卡其他资源加载节点\r\n     */\r\n    constructor(sceneNode: { [index: string]: ISceneNode }, sceneNode_: ISceneNode[], _lvConfig: IFrameLevelData) {\r\n        this.sceneNode = sceneNode;\r\n        this.sceneNode_ = sceneNode_;\r\n        this._lvConfig = _lvConfig;\r\n    }\r\n\r\n    /** 获取是否清除 */\r\n    public get ifDestroy() {\r\n        return !Boolean(this._scene);\r\n    }\r\n\r\n    /** 获取场景 */\r\n    public get scene(): Laya.Sprite3D {\r\n        return this._scene;\r\n    }\r\n\r\n    /** 设置附属资源列表 */\r\n    public set affiliateResURLs(_URLs: string[]) {\r\n        this.m_affiliateResURLs = _URLs;\r\n    }\r\n\r\n    /** 获取附属资源列表 */\r\n    public get affiliateResURLs(): string[] {\r\n        return this.m_affiliateResURLs;\r\n    }\r\n\r\n    /** 获取所有的资源路径列表 */\r\n    public get allResURLs(): string[] {\r\n        let _URLs: string[] = this.scenePrefabUrl();\r\n        _URLs.push(...this.m_affiliateResURLs);\r\n        return _URLs;\r\n    }\r\n\r\n    /**\r\n     * 添加附属资源\r\n     * @param _URLs 资源列表\r\n     */\r\n    public addAffiliateResURLs(_URLs: string[]) {\r\n        if (_URLs.length <= 0) { return; }\r\n        this.m_affiliateResURLs.push(..._URLs);\r\n        //去重\r\n        this.m_affiliateResURLs = ArrayUtils.Unique<string>(this.m_affiliateResURLs);\r\n    }\r\n\r\n    /**\r\n     * 异步加载资源\r\n     * @param onProgress 加载进度回调\r\n     */\r\n    public loadRes(onProgress: Laya.Handler = null): Promise<void> {\r\n        return ResLoad.LoadAsync(this.allResURLs, onProgress);\r\n    }\r\n\r\n    /**\r\n     * 异步构建场景\r\n     * @param onProgress 构建进度\r\n     */\r\n    public buildScene(onProgress: Laya.Handler = null): Promise<Laya.Sprite3D> {\r\n        return new Promise<Laya.Sprite3D>((r: Function) => {\r\n            if (this._scene) {\r\n                console.log(...ConsoleEx.packWarn('重复构建关卡，请注意'));\r\n                r(this._scene);\r\n                return;\r\n            }\r\n            console.log(...ConsoleEx.packLog('开始构建关卡->' + this._lvConfig.key));\r\n            //同步加载资源\r\n            this.loadRes(onProgress).then(() => {\r\n                //\r\n                this._scene = new Laya.Sprite3D();\r\n                GlobalUnitClassProxy.s3d.addChild(this._scene);\r\n                //构建场景\r\n                for (let _i in this.sceneNode) {\r\n                    let _spr: Laya.Sprite3D = new Laya.Sprite3D();\r\n                    _spr.name = _i;\r\n                    this._scene.addChild(_spr);\r\n                    this._buildScene(this.sceneNode[_i], _spr);\r\n                }\r\n                //\r\n                console.log(...ConsoleEx.packLog('关卡->' + this._lvConfig.key + '构建完成'));\r\n                console.log('关卡->' + this._lvConfig.key, '\\n场景->', this._scene, '\\n预制体->', this.prefabs, '\\n物体->', this.sprite3Ds);\r\n                //返回场景\r\n                r(this._scene);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 清除场景\r\n     */\r\n    public clearScene() {\r\n        //判断是否有场景\r\n        if (this._scene) {\r\n            console.log(...ConsoleEx.packLog('清除关卡->' + this._lvConfig.key));\r\n            //\r\n            this._scene.destroy();\r\n            //\r\n            this._prefabRes = [];\r\n            this.prefabs = {};\r\n            this._scene = null;\r\n            this.sprite3Ds = [];\r\n        }\r\n    }\r\n\r\n    //* ---------- *//\r\n\r\n    /**\r\n     * 场景所有预制体资源地址列表\r\n     */\r\n    public scenePrefabUrl(): string[] {\r\n        let resUrl: string[] = [];\r\n        let resName: string[] = this.scenePrefabResName();\r\n        resName && resName.forEach((name: string) => {\r\n            resUrl.push(EssentialResUrls.prefab_url(name));\r\n        })\r\n        return resUrl;\r\n    }\r\n\r\n    /**\r\n     * 获取场景中所有直接加载预制体名字\r\n     */\r\n    public sceneDirectPrefabUrl(): string[] {\r\n        let resUrl: string[] = [];\r\n        let resName: string[] = this.sceneDirectPrefabResName();\r\n        resName && resName.forEach((name: string) => {\r\n            resUrl.push(EssentialResUrls.prefab_url(name));\r\n        })\r\n        return resUrl;\r\n    }\r\n\r\n    /**\r\n     * 获取场景中所有预加载预制体名字\r\n     */\r\n    public scenePreloadPrefabUrl(): string[] {\r\n        let resUrl: string[] = [];\r\n        let resName: string[] = this.scenePreloadPrefabResName();\r\n        resName && resName.forEach((name: string) => {\r\n            resUrl.push(EssentialResUrls.prefab_url(name));\r\n        })\r\n        return resUrl;\r\n    }\r\n\r\n    /**\r\n     * 关卡预制体资源名字列表\r\n     */\r\n    public scenePrefabResName(): string[] {\r\n        //判断长度\r\n        let _length: number = 0;\r\n        for (let _i in this.sceneNode) {\r\n            _length++;\r\n        }\r\n        if (_length == 0) { console.log(...ConsoleEx.packError('关卡->' + this._lvConfig.key + '<-不存在,或者是没有内容')); return; }\r\n        if (!this._prefabRes || this._prefabRes.length <= 0) {\r\n            //判断需要构建的节点\r\n            for (let _i in this.sceneNode) {\r\n                this._getPrefabName(this._prefabRes, this.sceneNode[_i]);\r\n            }\r\n            //判断是否有其它资源需要加载\r\n            if (this.sceneNode_ && this.sceneNode_.length > 0) {\r\n                //\r\n                this.sceneNode_.forEach((item) => {\r\n                    this._getPrefabName(this._prefabRes, item);\r\n                });\r\n            }\r\n        }\r\n        return this._prefabRes;\r\n    }\r\n\r\n    /**\r\n     * 获取场景中所有直接加载的预制体名字列表\r\n     */\r\n    public sceneDirectPrefabResName(): string[] {\r\n        let _prefabNames: string[] = [];\r\n        //\r\n        for (let _i in this.sceneNode) {\r\n            this._getPrefabName(_prefabNames, this.sceneNode[_i]);\r\n        }\r\n        //\r\n        return _prefabNames;\r\n    }\r\n\r\n    /**\r\n     * 获取场景中所有预加载预制体名字列表\r\n     */\r\n    public scenePreloadPrefabResName(): string[] {\r\n        let _prefabNames: string[] = [];\r\n        //\r\n        this.sceneNode_.forEach((item) => {\r\n            this._getPrefabName(_prefabNames, item);\r\n        });\r\n        //\r\n        return _prefabNames;\r\n    }\r\n\r\n    //* ------------------------------------------------------ *//\r\n\r\n    // 获取预制体名字\r\n    private _getPrefabName(spArr: string[], node: ISceneNode | IScenePrefab) {\r\n        if (node) {\r\n            let prefabName = node['prefabName'];\r\n            if (prefabName) {\r\n                node = node as IScenePrefab;\r\n                if (spArr.indexOf(prefabName) < 0) {\r\n                    spArr.push(prefabName);\r\n                }\r\n            }\r\n            else {\r\n                node = node as ISceneNode;\r\n                if (node.child) {\r\n                    node.child.forEach((nodeChild: ISceneNode | IScenePrefab) => {\r\n                        this._getPrefabName(spArr, nodeChild as any);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 构建场景\r\n    private _buildScene(node: ISceneNode | IScenePrefab, parent: Laya.Sprite3D) {\r\n        //获取预制体名字\r\n        let prefabName = node[\"prefabName\"];\r\n        if (prefabName) {\r\n            node = node as IScenePrefab;\r\n            let sprite: Laya.Sprite3D = ResLoad.Get(EssentialResUrls.prefab_url(prefabName));\r\n            if (sprite) {\r\n                SceneUtils.initNode(sprite, node);\r\n                parent.addChild(sprite);\r\n                this.prefabs[prefabName] = this.prefabs[prefabName] || [];\r\n                this.prefabs[prefabName].push(sprite);\r\n                this.sprite3Ds.push(sprite);\r\n            }\r\n        }\r\n        else {\r\n            node = node as ISceneNode;\r\n            if (node.child) {\r\n                let nodeSp = new Laya.Sprite3D();\r\n                SceneUtils.initNode(nodeSp, node);\r\n                parent.addChild(nodeSp);\r\n                node.child.forEach((nodeChild: ISceneNode | IScenePrefab) => {\r\n                    this._buildScene(nodeChild, nodeSp);\r\n                })\r\n            }\r\n        }\r\n    }\r\n}","/**\r\n * 关卡场景名字枚举列表，必须共用一套预制体\r\n */\r\nexport enum ELevelSceneName {\r\n    /** 默认导出关卡场景 */\r\n    Export = 'export',\r\n}\r\n\r\n/**\r\n * 关卡场景配置类\r\n */\r\nexport default class LevelSceneNameConst {\r\n    /** 默认关卡场景名字 */\r\n    public static get defaultLevelSceneName(): ELevelSceneName {\r\n        return ELevelSceneName.Export;\r\n    }\r\n}","import LevelSceneNameConst, { ELevelSceneName } from \"../../cFrameBridge/Config/ELevelSceneName\";\r\nimport SceneUtils, { ISceneNode } from \"./SceneUtils\";\r\n\r\n/**\r\n * SceneManager类代理类\r\n */\r\nexport default class SceneManagerProxy {\r\n    //关卡配置信息\r\n    private static m_sevelConfig: {\r\n        [_index: string]: { [index: string]: ISceneNode },\r\n    } = {};\r\n\r\n    /** 设置关卡配置信息 */\r\n    public static set sevelConfig(_data: {\r\n        [_index: string]: { [index: string]: ISceneNode },\r\n    }) {\r\n        this.m_sevelConfig = _data;\r\n    }\r\n\r\n    /**\r\n     * 根据场景配置数据初始化相机参数\r\n     * @param camera 相机\r\n     * @param _sceneName 场景名\r\n     */\r\n    public static initCamera(camera: Laya.Camera, _sceneName: ELevelSceneName = LevelSceneNameConst.defaultLevelSceneName) {\r\n        let cameraData = this.m_sevelConfig[_sceneName][\"camera\"];\r\n        if (cameraData) {\r\n            SceneUtils.initNode(camera, cameraData);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据场景配置数据初始化灯光参数\r\n     * @param light 灯光\r\n     * @param _sceneName 场景名\r\n     */\r\n    public static initLight(light: Laya.DirectionLight, _sceneName: ELevelSceneName = LevelSceneNameConst.defaultLevelSceneName) {\r\n        let lightData = this.m_sevelConfig[_sceneName][\"light\"];\r\n        if (lightData) {\r\n            SceneUtils.initNode(light, lightData);\r\n        }\r\n    }\r\n}","export namespace LevelConfig {\r\n    export class config {\r\n        /** 关卡id[必要] */ readonly id: number;\r\n        /** 根场景 */ readonly rootScene: string;\r\n        /** 场景名字列表[必要] */ readonly sceneName: string;\r\n        /** 需要加载的其他资源节点列表 */ readonly sceneOtherRes: string;\r\n    }\r\n    export var data : {[key: number]: LevelConfig.config};\r\n    export var dataList : LevelConfig.config[];\r\n    export var lastData : LevelConfig.config;\r\n    export const path = \"res/config/LevelConfig.json\";\r\n}\r\n\r\n\r\n","/**\r\n * 数据代理基类\r\n */\r\nclass BaseDataProxy {\r\n    //初始化\r\n    public constructor() {\r\n        this.initData();\r\n    }\r\n\r\n    /**\r\n     * 初始化 使用时覆盖\r\n     */\r\n    protected initData() {\r\n        //\r\n    }\r\n}\r\n\r\n/**\r\n * Config数据代理基类\r\n */\r\nexport default class BaseConfigDataProxy<Data> extends BaseDataProxy {\r\n    //配置数据列表\r\n    protected m_dataList: Data[];\r\n\r\n    /** 配置数据列表 */\r\n    public get dataList(): Data[] {\r\n        return this.m_dataList;\r\n    }\r\n}\r\n\r\n/**\r\n * Const数据代理基类\r\n */\r\nexport class BaseConstDataProxy<Data> extends BaseDataProxy {\r\n    //配置数据\r\n    protected m_data: Data;\r\n\r\n    /** 配置数据 */\r\n    public get data(): Data {\r\n        return this.m_data;\r\n    }\r\n}","import { LevelConfig } from \"../_config/LevelConfig\";\r\nimport BaseConfigDataProxy from '../../aTGame/Config/RootDataProxy';\r\n\r\n/**\r\n * 关卡数据处理类\r\n */\r\nexport default class LevelConfigProxy extends BaseConfigDataProxy<LevelConfig.config>{\r\n    //\r\n    private static _instance: LevelConfigProxy;\r\n    /** 单例 */\r\n    public static get instance(): LevelConfigProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new LevelConfigProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    // 初始化\r\n    protected initData() {\r\n        //\r\n        this.m_dataList = LevelConfig.dataList;\r\n    }\r\n\r\n    /**\r\n     * 获取关卡数量\r\n     */\r\n    public getLevelNumber(): number {\r\n        let _number: number = 0;\r\n        this.m_dataList.forEach((item) => {\r\n            if (item.id > 0) {\r\n                _number++;\r\n            }\r\n        });\r\n        //\r\n        return _number;\r\n    }\r\n\r\n    /**\r\n     * 通过关卡id获取关卡数据\r\n     * @param _id id\r\n     */\r\n    public byIdGetData(_id: number): LevelConfig.config {\r\n        return this.m_dataList.find((item) => {\r\n            return item.id == _id;\r\n        });\r\n    }\r\n}","export namespace OtherLevelConfig {\r\n    export class config {\r\n        /** 关卡id[必要] */ readonly id: number;\r\n        /** 根场景 */ readonly rootScene: string;\r\n        /** 关卡名字 */ readonly name: string;\r\n        /** 场景名字列表[必要] */ readonly sceneName: string;\r\n        /** 需要加载的其他资源节点列表 */ readonly sceneOtherRes: string;\r\n    }\r\n    export var data : {[key: number]: OtherLevelConfig.config};\r\n    export var dataList : OtherLevelConfig.config[];\r\n    export var lastData : OtherLevelConfig.config;\r\n    export const path = \"res/config/OtherLevelConfig.json\";\r\n}\r\n\r\n\r\n","import BaseConfigDataProxy from '../../aTGame/Config/RootDataProxy';\r\nimport { OtherLevelConfig } from \"../_config/OtherLevelConfig\";\r\n\r\n/**\r\n * 其他非主关卡数据处理类\r\n */\r\nexport default class OtherLevelConfigProxy extends BaseConfigDataProxy<OtherLevelConfig.config>{\r\n    //\r\n    private static _instance: OtherLevelConfigProxy;\r\n    /** 单例 */\r\n    public static get instance(): OtherLevelConfigProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new OtherLevelConfigProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    // 初始化\r\n    protected initData() {\r\n        //\r\n        this.m_dataList = OtherLevelConfig.dataList;\r\n    }\r\n\r\n    /**\r\n     * 通过关卡id获取关卡数据\r\n     * @param _id id\r\n     */\r\n    public byIdGetData(_id: number): OtherLevelConfig.config {\r\n        return this.m_dataList.find((item) => {\r\n            return item.id == _id;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 通过关卡名字获取数据\r\n     * @param _name 关卡名字\r\n     */\r\n    public byNameGetData(_name: string): OtherLevelConfig.config {\r\n        return this.m_dataList.find((item) => {\r\n            return item.name == _name;\r\n        });\r\n    }\r\n}","import LevelConfigProxy from \"../../dMyGame/ConfigProxy/LevelConfigProxy\";\r\nimport OtherLevelConfigProxy from \"../../dMyGame/ConfigProxy/OtherLevelConfigProxy\";\r\nimport { LevelConfig } from \"../../dMyGame/_config/LevelConfig\";\r\nimport { OtherLevelConfig } from \"../../dMyGame/_config/OtherLevelConfig\";\r\n\r\n/**\r\n * 框架依赖的关卡配置文件\r\n */\r\nexport default class FrameLevelConfig {\r\n    /**\r\n     * 根据关卡id获取关卡数据\r\n     * @param _id 关卡id\r\n     */\r\n    public static byLevelIdGetLevelData(_id: number): IFrameLevelData {\r\n        let _levelConfigData: LevelConfig.config = LevelConfigProxy.instance.byIdGetData(_id);\r\n        return this.getLevelData('ID', _levelConfigData.sceneName, _levelConfigData.sceneOtherRes, _levelConfigData.rootScene);\r\n    }\r\n\r\n    /**\r\n     * 通过其他关卡名字获取关卡数据\r\n     * @param _name 关卡名字\r\n     */\r\n    public static byLevelNameGetOtherLevelData(_name: string): IFrameLevelData {\r\n        let _levelConfigData: OtherLevelConfig.config = OtherLevelConfigProxy.instance.byNameGetData(_name);\r\n        return this.getLevelData('Name', _levelConfigData.sceneName, _levelConfigData.sceneOtherRes, _levelConfigData.rootScene);\r\n    }\r\n\r\n    //获取关卡数据\r\n    private static getLevelData(_key: string, _sceneName: string, _sceneOtherRes: string, _rootScene: string): IFrameLevelData {\r\n        //格式化，去空格和首尾逗号\r\n        _sceneName.replace(/\\s+/g, '').replace(/^,+/, '').replace(/,+$/, '').replace(/,+/g, ',');\r\n        _sceneOtherRes.replace(/\\s+/g, '').replace(/^,+/, '').replace(/,+$/, '').replace(/,+/g, ',');\r\n        return {\r\n            key: '$' + _rootScene + ':' + _key + '-' + _sceneName,\r\n            rootScene: _rootScene,\r\n            sceneName: _sceneName.split(','),\r\n            sceneOtherRes: _sceneOtherRes.split(','),\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * 框架依赖的关卡数据\r\n */\r\nexport interface IFrameLevelData {\r\n    /** 唯一键值 */\r\n    readonly key: string;\r\n\r\n    /** 根场景名字 */\r\n    readonly rootScene: string;\r\n\r\n    /** 关卡名字列表 */\r\n    readonly sceneName: string[],\r\n\r\n    /** 关卡其他资源名字列表 */\r\n    readonly sceneOtherRes: string[],\r\n}","/**\r\n * 关卡相关常量类\r\n */\r\nexport default class FrameLevelConst {\r\n    /** 预加载关卡名字列表,游戏最开始时加载的 */\r\n    public static PrestrainLeveId: string[] = ['prestrain'];\r\n}","import ResLoad from '../Res/ResLoad';\r\nimport Scene from \"./Scene\";\r\nimport SceneManagerProxy from \"./SceneManagerProxy\";\r\nimport FrameLevelConfig, { IFrameLevelData } from '../../cFrameBridge/Config/FrameLevelConfig';\r\nimport IRootManager from '../Manager/IRootManager';\r\nimport { ISceneNode } from './SceneUtils';\r\nimport ConsoleEx from '../Console/ConsoleEx';\r\nimport { ELevelSceneName } from '../../cFrameBridge/Config/ELevelSceneName';\r\nimport EssentialResUrls from '../Res/EssentialResUrls';\r\nimport FrameLevelConst from '../../cFrameBridge/Config/FrameLevelConst';\r\n\r\n/**\r\n * 场景3d可取出关卡中的所有东西\r\n */\r\nexport default class SceneManager implements IRootManager {\r\n    //\r\n    private static _instance: SceneManager;\r\n    /** 单例 */\r\n    public static get instance(): SceneManager {\r\n        if (this._instance == null) {\r\n            this._instance = new SceneManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    // 关卡配置数据\r\n    private _levelConfig: {\r\n        [_index: string]: { [index: string]: ISceneNode },\r\n    } = {};\r\n\r\n    // 场景实例缓存\r\n    private _scenes: { [index: string]: Scene } = {};\r\n\r\n    //初始化\r\n    private constructor() {\r\n        //设置代理类代理数据\r\n        SceneManagerProxy.sevelConfig = this._levelConfig;\r\n    }\r\n\r\n    //\r\n    public init() { }\r\n\r\n    /**\r\n     * 初始化配置\r\n     */\r\n    public initConfig() {\r\n        let url: string;\r\n        let config: any;\r\n        for (let _i in ELevelSceneName) {\r\n            url = ELevelSceneName[_i];\r\n            if (!url) {\r\n                continue;\r\n            }\r\n            url = EssentialResUrls.levelConfigURL(url);\r\n            //这里必须不使用克隆资源\r\n            config = ResLoad.Get(url, true);\r\n            //\r\n            if (config.root) {\r\n                this._levelConfig[ELevelSceneName[_i]] = {};\r\n                //获取根节点下的节点\r\n                for (let i = 0; i < config.root.length; i++) {\r\n                    let data: ISceneNode = config.root[i] as ISceneNode;\r\n                    this._levelConfig[ELevelSceneName[_i]][data.name] = data;\r\n                }\r\n            }\r\n            //清理资源缓存只使用一次\r\n            ResLoad.Unload(url);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取所有预加载资源路径列表,在游戏开始前加载\r\n     * @param urls 资源集\r\n     */\r\n    public Preload(urls: string[]) {\r\n        let _preloadUrls: string[] = [];\r\n        // 当前 关卡 初始化\r\n        FrameLevelConst.PrestrainLeveId.forEach((item) => {\r\n            _preloadUrls.push(...this.getOtherSceneByName(item).scenePrefabUrl());\r\n        });\r\n        //添加进数组\r\n        urls.push(..._preloadUrls);\r\n    }\r\n\r\n    /**\r\n     * 根据场景id预加载关卡资源\r\n     * @param id 关卡id\r\n     */\r\n    public preloadSceneRes(id: number) {\r\n        console.log(...ConsoleEx.packLog('预加载关卡->', id));\r\n        //\r\n        this.getSceneByLv(id).loadRes();\r\n    }\r\n\r\n    /**\r\n     * 根据场景名字预加载其它关卡资源\r\n     * @param name 关卡名字\r\n     */\r\n    public preloadOtherSceneRes(name: string) {\r\n        console.log(...ConsoleEx.packLog('预加载其它关卡->', name));\r\n        //\r\n        this.getOtherSceneByName(name).loadRes();\r\n    }\r\n\r\n    /**\r\n     * 通过id获取关卡\r\n     * @param id 关卡id\r\n     */\r\n    public getSceneByLv(id: number): Scene {\r\n        let lvConfig: IFrameLevelData = FrameLevelConfig.byLevelIdGetLevelData(id);\r\n        if (!lvConfig) {\r\n            console.log(...ConsoleEx.packError(\"不存在此关卡->\", id));\r\n        }\r\n        //查看缓存\r\n        if (!this._scenes[lvConfig.key]) {\r\n            //创建场景实例\r\n            this._scenes[lvConfig.key] = this.getSceneByData(lvConfig.key, lvConfig);\r\n        }\r\n        return this._scenes[lvConfig.key];\r\n    }\r\n\r\n    /**\r\n     * 通过关卡名字获取其他关卡\r\n     * @param _name 关卡名字\r\n     */\r\n    public getOtherSceneByName(_name: string): Scene {\r\n        let lvConfig: IFrameLevelData = FrameLevelConfig.byLevelNameGetOtherLevelData(_name);\r\n        if (!lvConfig) {\r\n            console.log(...ConsoleEx.packError(\"不存在此关卡->\", _name));\r\n        }\r\n        //查看缓存\r\n        if (!this._scenes[lvConfig.key]) {\r\n            //创建场景实例\r\n            this._scenes[lvConfig.key] = this.getSceneByData(lvConfig.key, lvConfig);\r\n        }\r\n        return this._scenes[lvConfig.key];\r\n    }\r\n\r\n    //通过关卡数据构建关卡\r\n    private getSceneByData(_key: string, _lvConfig: IFrameLevelData): Scene {\r\n        //获取该关卡名字\r\n        let sceneName: string[] = _lvConfig.sceneName;\r\n        //获取该关卡其他资源加载名字\r\n        let _sceneName_: string[] = _lvConfig.sceneOtherRes;\r\n        //\r\n        let sceneNodes: { [index: string]: ISceneNode } = {};\r\n        let sceneNodes_: ISceneNode[] = [];\r\n        //获取需要加载和预加载的节点\r\n        if (!this._levelConfig[_lvConfig.rootScene]) {\r\n            console.log(...ConsoleEx.packError('没有找到场景-', _lvConfig.rootScene, ' 请先注册。'));\r\n        }\r\n        for (let _i in this._levelConfig[_lvConfig.rootScene]) {\r\n            if (sceneName.findIndex((item) => { return item == _i }) != -1) {\r\n                sceneNodes[_i] = this._levelConfig[_lvConfig.rootScene][_i];\r\n            }\r\n            if (_sceneName_.findIndex((item) => { return item == _i }) != -1) {\r\n                sceneNodes_.push(this._levelConfig[_lvConfig.rootScene][_i]);\r\n            }\r\n        }\r\n        return new Scene(sceneNodes, sceneNodes_, _lvConfig);\r\n    }\r\n\r\n    /**\r\n     * 通过关卡id获取该关卡所有预制体资源名字\r\n     * @param id 关卡id\r\n     */\r\n    public getLvResName(id: number): string[] {\r\n        return this.getSceneByLv(id).scenePrefabResName();\r\n    }\r\n\r\n    /**\r\n     * 通过关卡id获取该关卡所有预制体资源路径列表\r\n     * @param id 关卡id\r\n     */\r\n    public getLvResUrl(id: number): string[] {\r\n        return this.getSceneByLv(id).scenePrefabUrl();\r\n    }\r\n}","/**\r\n * 项目配置\r\n */\r\nexport class Const {\r\n    /** 重力 */\r\n    public static gravity: number = -10;\r\n\r\n    /** 是否预加载关卡 */\r\n    public static ifPreloadCustoms: boolean = false;\r\n}","import BasePrefabPro from './pro/BasePrefabPro';\r\nimport { EProcessor } from '../c_Enum/EProcessor';\r\nimport { EOtherLevelName } from '../../Enum/EOtherLevelName';\r\n/**\r\n * 加工者管理类基类\r\n */\r\nexport default class RootProManager {\r\n    //加工者列表\r\n    protected m_proList: { [index: string]: BasePrefabPro };\r\n\r\n    /**\r\n     * 获取某个加工者\r\n     * @param _pro 加工者名字枚举\r\n     */\r\n    public getPro<_Pro extends BasePrefabPro>(_pro: EProcessor): _Pro {\r\n        return this.m_proList[_pro] as _Pro;\r\n    }\r\n\r\n    /**\r\n     * 初始化方法，在注册加工者前，初始化加工者列表后\r\n     */\r\n    protected init() {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 初始化加工者管理器\r\n     */\r\n    public constructor() {\r\n        this.m_proList = {};\r\n        //\r\n        this.init();\r\n        //注册所有的加工者\r\n        this.register();\r\n    }\r\n\r\n    //注册所有加工者\r\n    protected register() {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 分配场景中的所有精灵\r\n     * @param _prefabs 精灵列表\r\n     */\r\n    public AllotPre(_prefabs: ProManagerSprList) {\r\n        //分配预制体\r\n        this.allotPrefab(_prefabs);\r\n        //分配调度者\r\n        this.allotMediator();\r\n    }\r\n\r\n    //分配预制体\r\n    protected allotPrefab(_prefabs: ProManagerSprList) {\r\n        //\r\n    }\r\n\r\n    //分配调度者\r\n    protected allotMediator() {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 分配其他场景中的所有精灵\r\n     * @param _prefabs 精灵列表\r\n     */\r\n    public AllotOtherScenePre(_sceneName: EOtherLevelName, _prefabs: ProManagerSprList) {\r\n        //分配预制体\r\n        this.allotOtherScenePrefab(_sceneName, _prefabs);\r\n        //分配调度者\r\n        this.allotOtherSceneMediator(_sceneName);\r\n    }\r\n\r\n    //分配其他关卡预制体\r\n    protected allotOtherScenePrefab(_sceneName: EOtherLevelName, _prefabs: ProManagerSprList) {\r\n        //\r\n    }\r\n\r\n    //分配其他关卡调度者\r\n    protected allotOtherSceneMediator(_sceneName: EOtherLevelName) {\r\n        //\r\n    }\r\n}\r\n\r\n/**\r\n * 加工者管理精灵列表\r\n */\r\nexport interface ProManagerSprList {\r\n    [key: string]: Laya.Sprite3D[];\r\n}","/**\r\n * 所有加工者列表\r\n */\r\nexport enum EProcessor {\r\n    //默认\r\n    CameraPro = 'EProcessor_CameraPro',\r\n    HeightFogCubePro = 'EProcessor_HeightFogCubePro',\r\n    //其它加工者\r\n}","import BaseProScript from './scr/BaseProScript';\r\nimport { EProcessor } from '../c_Enum/EProcessor';\r\n/**\r\n * 脚本和加工者沟通的类\r\n */\r\nexport default class ProScriptLink {\r\n    //加工者类型\r\n    private m_proTypeof: EProcessor;\r\n\r\n    /**\r\n     * 初始化\r\n     * @param _plantTypeof 加工者类型\r\n     */\r\n    public constructor(_plantTypeof: EProcessor) {\r\n        this.m_proTypeof = _plantTypeof;\r\n    }\r\n\r\n    /** 获取加工者类型 */\r\n    public get proTypeof(): EProcessor {\r\n        return this.m_proTypeof;\r\n    }\r\n\r\n\r\n    /**\r\n     * 给一个预制体添加脚本链接\r\n     * @param _o 该预制体\r\n     * @param _com 需要添加的脚本\r\n     * @param _data 须有添加的数据\r\n     */\r\n    protected addScript<Com extends BaseProScript<ProScriptLink, any>>(_o: Laya.Sprite3D, _com: any, _data?: any): Com {\r\n        let _scr: Com = _o.addComponent(_com) as Com;\r\n        //设置该脚本的加工者\r\n        _scr.setPro(this);\r\n        //设置该脚本的标识数据\r\n        _scr.setData(_data);\r\n        //\r\n        return _scr;\r\n    }\r\n}","import { EProcessor } from '../../c_Enum/EProcessor';\r\n/**\r\n * 加工印记脚本，所有经过加工者加工过的精灵都有的脚本 (用来判断加工记录)\r\n */\r\nexport default class ProStampScript extends Laya.Script3D {\r\n    //加工印记\r\n    private m_proStamp: EProcessor[] = [];\r\n\r\n    /**\r\n     * 添加加工印记\r\n     * @param _pro 加工者标识\r\n     */\r\n    public addProStamp(_pro: EProcessor) {\r\n        if (this.m_proStamp.findIndex((item) => { return item == _pro }) == -1) {\r\n            this.m_proStamp.push(_pro);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取加工印记列表\r\n     */\r\n    public get proStamp(): EProcessor[] {\r\n        return this.m_proStamp;\r\n    }\r\n\r\n    /**\r\n     * 判断是否被某个加工者加工过\r\n     * @param _pro 某加工者标识\r\n     */\r\n    public ifAtPro(_pro: EProcessor): boolean {\r\n        return this.m_proStamp.findIndex((item) => { return item == _pro }) != -1;\r\n    }\r\n}","import ProScriptLink from '../ProScriptLink';\r\nimport ProStampScript from './ProStampScript';\r\nimport BaseProVo from '../vo/BaseProVo';\r\nimport BasePorMediator from '../mediator/BasePorMediator';\r\nimport { EProcessor } from '../../c_Enum/EProcessor';\r\n/**\r\n * 加工者基类\r\n */\r\nexport default class BasePrefabPro extends ProScriptLink {\r\n    //是否添加工者印记脚本\r\n    protected ifAddProStampScript: boolean = false;\r\n\r\n    //是否添加进父节点\r\n    protected ifAddParentNode: boolean = false;\r\n\r\n    //父节点\r\n    protected m_parentNode: Laya.Sprite3D;\r\n\r\n    //预制体列表\r\n    protected m_sprList: Laya.Sprite3D[];\r\n\r\n    //vo\r\n    protected m_vo: BaseProVo<BasePrefabPro>;\r\n\r\n    //调度者\r\n    protected m_mediator: BasePorMediator<BasePrefabPro>;\r\n\r\n    /** 获取预制体列表 */\r\n    public get sprList(): Laya.Sprite3D[] {\r\n        return this.m_sprList;\r\n    }\r\n\r\n    /** 父节点 */\r\n    public get parentNode(): Laya.Sprite3D {\r\n        return this.m_parentNode;\r\n    }\r\n\r\n    /** 设置数据Vo */\r\n    public set _vo(_vo: BaseProVo<BasePrefabPro>) {\r\n        this.m_vo = _vo;\r\n        this.m_vo._initPro(this);\r\n    }\r\n\r\n    /** 设置调度者 */\r\n    public set _mediator(_me: BasePorMediator<BasePrefabPro>) {\r\n        this.m_mediator = _me;\r\n        this.m_mediator._initPro(this);\r\n    }\r\n\r\n    //预制体Id分类列表，当加工多种预制体时便于区分\r\n    protected m_sprIdClassList: {\r\n        [index: string]: number[];\r\n    }\r\n\r\n    public constructor(_plantTypeof: EProcessor) {\r\n        super(_plantTypeof);\r\n        this.onlyInit();\r\n    }\r\n\r\n    /**\r\n     * 唯一的一次init\r\n     */\r\n    protected onlyInit() { }\r\n\r\n    // 初始化\r\n    private _init() {\r\n        //判断是否把内容添加进一个父节点\r\n        if (this.ifAddParentNode) {\r\n            //创建父节点\r\n            this.m_parentNode = new Laya.Sprite3D();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 开始加工物体\r\n     * @param _content\r\n     */\r\n    public startPor(_content: ProSetParameter) {\r\n        //\r\n        this._init();\r\n        this.initExtend();\r\n        this.init();\r\n        //保留这个列表\r\n        this.m_sprList = this.proSpr(_content);\r\n        //扩展\r\n        this.sprInitExtend();\r\n        //预制体初始化完毕\r\n        this.sprInit();\r\n    }\r\n\r\n    /**\r\n     * 添加物体并加工\r\n     * @param _content 物体列表包括分类 \r\n     */\r\n    public addSprAndPor(_content: ProSetParameter) {\r\n        let _sprList: Laya.Sprite3D[] = this.proSpr(_content);\r\n        this.m_sprList.push(..._sprList);\r\n        //添加完成\r\n        this.addSprAndProCom(_sprList);\r\n    }\r\n\r\n    /**\r\n     * 添加预制体并处理完成\r\n     */\r\n    protected addSprAndProCom(_sprs: Laya.Sprite3D[]) { }\r\n\r\n    /**\r\n     * 开始初始化 (使用时重写覆盖)\r\n     */\r\n    protected init() { }\r\n    /**\r\n     * 该生命周期的扩展方法，在原生命周期方法前执行 (使用时重写覆盖)\r\n     */\r\n    protected initExtend() { }\r\n\r\n    /**\r\n     * 对每个预制体进行设置 (使用时重写覆盖)\r\n     * @param _spr 每个预制体精灵\r\n     */\r\n    protected setSpr(_spr: Laya.Sprite3D) { }\r\n    /**\r\n     * 该生命周期的扩展方法，在原生命周期方法前执行 (使用时重写覆盖)\r\n     * @param _spr 每个预制体精灵\r\n     */\r\n    protected setSprExtend(_spr: Laya.Sprite3D) { }\r\n\r\n    /**\r\n     * 预制体初始化完成 (使用时重写覆盖)\r\n     */\r\n    protected sprInit() { }\r\n    /**\r\n     * 该生命周期的扩展方法，在原生命周期方法前执行 (使用时重写覆盖)\r\n     */\r\n    protected sprInitExtend() { }\r\n\r\n    /**\r\n     * 通过某个预制体查找该预制体的分类\r\n     * @param param 该预制体\r\n     */\r\n    public getSprClass({ id }: Laya.Sprite3D): string {\r\n        for (let _class in this.m_sprIdClassList) {\r\n            if (this.m_sprIdClassList[_class].findIndex((item) => { return item == id }) != -1) {\r\n                return _class;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取需要添加加工者印记脚本的精灵(默认是根节点精灵有且只有一个)\r\n     */\r\n    protected getAddCommonScrSpr(_spr: Laya.Sprite3D): Laya.Sprite3D {\r\n        return _spr;\r\n    }\r\n\r\n    /**\r\n     * 获取某个精灵的加工印记列表\r\n     * @param _spr 该精灵\r\n     */\r\n    protected static getProStamp(_spr: Laya.Sprite3D): EProcessor[] {\r\n        let _scr: ProStampScript = _spr.getComponent(ProStampScript) as ProStampScript;\r\n        if (_scr) {\r\n            return _scr.proStamp;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    //* ------------------------------私有方法-------------------------------- *//\r\n\r\n    //处理预制体\r\n    private proSpr(_content: ProSetParameter): Laya.Sprite3D[] {\r\n        let _sprList: Laya.Sprite3D[] = [];\r\n        for (let _class in _content) {\r\n            //检查是否有内容\r\n            if (_content[_class]) {\r\n                _sprList.push(..._content[_class]);\r\n                //设置工厂分类id\r\n                this.addSprIdClassList(_class, _content[_class]);\r\n            }\r\n        }\r\n        //遍历处理所有的预制体\r\n        _sprList.forEach((item) => {\r\n            //添加进父节点\r\n            if (this.ifAddParentNode) {\r\n                this.m_parentNode.addChild(item);\r\n            }\r\n            //添加加工者印记脚本\r\n            this.addProStampCommonScr(this.getAddCommonScrSpr(item));\r\n            //执行生命周期函数\r\n            this.setSprExtend(item);\r\n            this.setSpr(item);\r\n        });\r\n        //\r\n        return _sprList;\r\n    }\r\n\r\n    //添加预制体ID分类\r\n    private addSprIdClassList(_class: string, _sprs: Laya.Sprite3D[]) {\r\n        if (!_sprs) return;\r\n        if (!this.m_sprIdClassList) {\r\n            this.m_sprIdClassList = {};\r\n        }\r\n        if (!this.m_sprIdClassList[_class]) {\r\n            this.m_sprIdClassList[_class] = [];\r\n        }\r\n        let _ids: number[] = _sprs.map((item: Laya.Sprite3D): number => {\r\n            return item.id;\r\n        });\r\n        this.m_sprIdClassList[_class].push(..._ids);\r\n        //去重\r\n        let _sets: Set<number> = new Set(this.m_sprIdClassList[_class]);\r\n        this.m_sprIdClassList[_class] = Array.from(_sets);\r\n    }\r\n\r\n    //对每个精灵添加加工者印记脚本\r\n    private addProStampCommonScr(_spr: Laya.Sprite3D) {\r\n        if (!this.ifAddProStampScript) return;\r\n        let _scr: ProStampScript;\r\n        let __scr: ProStampScript;\r\n        //查看该物体是否已经添加过加工者脚本\r\n        __scr = _spr.getComponent(ProStampScript) as ProStampScript;\r\n        if (__scr) {\r\n            _scr = __scr;\r\n        } else {\r\n            _scr = _spr.addComponent(ProStampScript) as ProStampScript;\r\n        }\r\n        //添加加工印记\r\n        _scr.addProStamp(this.proTypeof);\r\n    }\r\n}\r\n\r\n/**\r\n * 加工精灵时传入的数据类型\r\n */\r\nexport interface ProSetParameter {\r\n    [_class: string]: Laya.Sprite3D[];\r\n}","/**\r\n * 预制体根脚本 (为需要添加脚本的物体添加一些公共状态和方法)\r\n */\r\nexport default class RootScript extends Laya.Script3D {\r\n    //\r\n}","import RootScript from './RootScript';\r\nimport ProScriptLink from '../ProScriptLink';\r\nimport ConsoleEx from '../../../../aTGame/Console/ConsoleEx';\r\n/**\r\n * 基类加工者脚本（继承这个脚本的脚本可以和加工者之间保持链接）\r\n */\r\nexport default class BaseProScript<Pro extends ProScriptLink, Data> extends RootScript {\r\n    //加工者\r\n    private m_Pro: Pro;\r\n    //数据\r\n    private m_data: Data;\r\n\r\n    /**\r\n     * 当前脚本的加工者对象\r\n     */\r\n    public get pro(): Pro {\r\n        if (this.m_Pro) {\r\n            return this.m_Pro;\r\n        } else {\r\n            console.log(...ConsoleEx.packWarn('->没有找到Pro!<-'));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取附带的数据\r\n     */\r\n    public get data(): Data {\r\n        return this.m_data;\r\n    }\r\n\r\n    /**\r\n     * 设置加工者\r\n     * @param _Pro 加工者\r\n     */\r\n    public setPro(_Pro: Pro) {\r\n        this.m_Pro = _Pro;\r\n    }\r\n\r\n    /**\r\n     * 设置数据\r\n     * @param _data 数据\r\n     */\r\n    public setData(_data: Data) {\r\n        this.m_data = _data;\r\n    }\r\n}","import BaseProScript from '../z_T/scr/BaseProScript';\r\nimport CameraPro from '../d_SpecialPro/CameraPro';\r\n/**\r\n * 相机脚本\r\n */\r\nexport default class CameraScr extends BaseProScript<CameraPro, any>{\r\n    private m_cameraNode: Laya.Sprite3D;//摄像机节点\r\n    //\r\n    private m_transform: Laya.Transform3D;//自身变换\r\n    private m_cameraNodeTransform: Laya.Transform3D;//节点变换\r\n    //\r\n\r\n    /** 设置节点 */\r\n    public set cameraNode(_spr: Laya.Sprite3D) {\r\n        this.m_cameraNode = _spr;\r\n        this.m_cameraNodeTransform = _spr.transform;\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    public init() {\r\n        //\r\n    }\r\n\r\n    public onAwake() {\r\n        //\r\n        this.m_transform = (this.owner as Laya.Sprite3D).transform;\r\n    }\r\n\r\n    //每帧执行\r\n    public onUpdate() {\r\n        //\r\n    }\r\n}","/**\r\n * 数值常量，不需要配表\r\n */\r\nexport default class ValueConst {\r\n    //零向量\r\n    private static readonly m_zeroV3: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private static readonly m_zeroV2: Laya.Vector2 = new Laya.Vector2(0, 0);\r\n\r\n    /** 零v3向量的克隆向量 */\r\n    public static get zeroV3(): Laya.Vector3 {\r\n        return ValueConst.m_zeroV3.clone();\r\n    }\r\n\r\n    /** 零v2向量的克隆向量 */\r\n    public static get zeroV2(): Laya.Vector2 {\r\n        return ValueConst.m_zeroV2.clone();\r\n    }\r\n}","/**\r\n * 颜色操作类\r\n */\r\nexport default class ColorUtils {\r\n    /**\r\n     * rgb数据转字符串\r\n     * @param r -\r\n     * @param g -\r\n     * @param b -\r\n     */\r\n    public static RgbToHex(r: number, g: number, b: number): string {\r\n        var color = r << 16 | g << 8 | b;\r\n        var str = color.toString(16);\r\n        while (str.length < 6) str = \"0\" + str;\r\n        return \"#\" + str;\r\n    }\r\n\r\n    /**\r\n     * laya.Color类转字符串\r\n     * @param color Laya.Color\r\n     */\r\n    public static ColorToHex(color: Laya.Color): string {\r\n        return this.RgbToHex(color.r * 255, color.g * 255, color.b * 255);\r\n    }\r\n\r\n    /**\r\n     * 字符串转laya.Color\r\n     * @param colorHex 颜色字符串\r\n     * @param alpha 透明度\r\n     */\r\n    public static HexToColor(colorHex: string, alpha: number = null): Laya.Color {\r\n        if (colorHex.startsWith(\"#\")) {\r\n            colorHex = colorHex.substring(1);\r\n        }\r\n        let cr = colorHex.substring(0, 2);\r\n        let cg = colorHex.substring(2, 4);\r\n        let cb = colorHex.substring(4, 6);\r\n        let ca = colorHex.substring(6, 8);\r\n        let nr = parseInt(cr, 16);\r\n        let ng = parseInt(cg, 16);\r\n        let nb = parseInt(cb, 16);\r\n        let na = alpha ? alpha : parseInt(ca, 16);\r\n        return new Laya.Color(nr / 255, ng / 255, nb / 255, na);\r\n    }\r\n\r\n    /**\r\n     * Laya.Color转v3\r\n     * @param color Laya.Color\r\n     */\r\n    public static ToV3(color: Laya.Color): Laya.Vector3 {\r\n        return new Laya.Vector3(color.r, color.g, color.b);\r\n    }\r\n\r\n    /**\r\n     * Laya.Color转v4\r\n     * @param color Laya.Color\r\n     */\r\n    public static ToV4(color: Laya.Color): Laya.Vector4 {\r\n        return new Laya.Vector4(color.r, color.g, color.b, color.a);\r\n    }\r\n\r\n    /**\r\n     * 字符串颜色转v3\r\n     * @param colorHex -\r\n     */\r\n    public static HexToV3(colorHex: string): Laya.Vector3 {\r\n        if (colorHex.startsWith(\"#\")) {\r\n            colorHex = colorHex.substring(1);\r\n        }\r\n        let cr = colorHex.substring(0, 2);\r\n        let cg = colorHex.substring(2, 4);\r\n        let cb = colorHex.substring(4, 6);\r\n        let nr = parseInt(cr, 16);\r\n        let ng = parseInt(cg, 16);\r\n        let nb = parseInt(cb, 16);\r\n        return new Laya.Vector3(nr / 255, ng / 255, nb / 255);\r\n    }\r\n\r\n    /**\r\n     * 字符串颜色转v4\r\n     * @param colorHex - \r\n     * @param alpha 透明度\r\n     */\r\n    public static HexToV4(colorHex: string, alpha: number = null): Laya.Vector4 {\r\n        if (colorHex.startsWith(\"#\")) {\r\n            colorHex = colorHex.substring(1);\r\n        }\r\n        let cr = colorHex.substring(0, 2);\r\n        let cg = colorHex.substring(2, 4);\r\n        let cb = colorHex.substring(4, 6);\r\n        let ca = colorHex.substring(6, 8);\r\n        let nr = parseInt(cr, 16);\r\n        let ng = parseInt(cg, 16);\r\n        let nb = parseInt(cb, 16);\r\n        let na = alpha ? alpha : parseInt(ca, 16);\r\n        return new Laya.Vector4(nr / 255, ng / 255, nb / 255, na);\r\n    }\r\n\r\n}","/**\r\n * 通用字典类\r\n */\r\nexport default class Dictionary<T1, T2> {\r\n    private items = {}\r\n\r\n    set(key, value) {\r\n        this.items[key] = value;\r\n        return true;\r\n    }\r\n\r\n    has(key) {\r\n        return this.items.hasOwnProperty(key)\r\n    }\r\n\r\n    remove(key) {\r\n        if (!this.has(key)) return false;\r\n        delete this.items[key]\r\n        return true\r\n    }\r\n\r\n    get(key) {\r\n        return this.has(key) ? this.items[key] : undefined;\r\n    }\r\n\r\n    keys() {\r\n        return Object.keys(this.items)\r\n    }\r\n\r\n    // values() {\r\n    // }\r\n\r\n    get length() {\r\n        return this.keys().length\r\n    }\r\n\r\n    clear() {\r\n        this.items = {}\r\n    }\r\n}","/**\r\n * Oimo物理常量\r\n */\r\nexport default class OimoConst {\r\n    /** 时间步长 */\r\n    public static timestep: number = 1 / 60;\r\n\r\n    /** 迭代次数 */\r\n    public static iterations: number = 24;\r\n\r\n    /** 1 brute force, 2 sweep and prune, 3 volume tree */\r\n    public static broadphase: number = 2;\r\n\r\n    /** scale full world  */\r\n    public static worldscale: number = 1;\r\n\r\n    /** randomize sample */\r\n    public static random: boolean = true;\r\n\r\n    /** calculate statistic or not */\r\n    public static info: boolean = false;\r\n\r\n    /** 重力 */\r\n    public static gravity: number[] = [0, -9.8, 0];\r\n}","import { OimoBaseShape } from \"./ShapeData/OimoBaseShape\";\r\nimport Dictionary from '../../Utils/Dictionary';\r\nimport OimoConst from \"../../../cFrameBridge/Physics/OimoConst\";\r\n/**\r\n * OIMO物理管理器\r\n */\r\nexport class OimoManager {\r\n    //刚体递增id\r\n    private static m_rigId: number = 0;\r\n    //\r\n    private constructor() { this._init() }\r\n\r\n    private _oimoWorld: OIMO.World;\r\n    public get oimoWorld(): OIMO.World {\r\n        return this._oimoWorld;\r\n    }\r\n\r\n    private static _instance: OimoManager;\r\n    public static get instance(): OimoManager {\r\n        if (!OimoManager._instance) {\r\n            OimoManager._instance = new OimoManager();\r\n        }\r\n        return OimoManager._instance;\r\n    }\r\n\r\n    private _oimoRigDic = new Dictionary<string, OIMO.RigidBody>();\r\n    private _transformDic = new Dictionary<string, Laya.Transform3D>();\r\n    private _oimoOffset = new Dictionary<string, Laya.Vector3>();\r\n\r\n    private _oimoRigDicR = new Dictionary<string, OIMO.RigidBody>();\r\n    private _transformDicR = new Dictionary<string, Laya.Transform3D>();\r\n    private _oimoOffsetR = new Dictionary<string, Laya.Vector3>();\r\n\r\n    private _init() {\r\n        this._oimoWorld = this.CreateWolrd();\r\n        window['oimoWorld'] = this._oimoWorld;\r\n    }\r\n\r\n    // 建造场景\r\n    CreateWolrd(): OIMO.World {\r\n        let wolrd = new OIMO.World({\r\n            timestep: OimoConst.timestep,\r\n            iterations: OimoConst.iterations,\r\n            broadphase: OimoConst.broadphase,// 1 brute force, 2 sweep and prune, 3 volume tree\r\n            worldscale: OimoConst.worldscale, // scale full world \r\n            random: OimoConst.random,  // randomize sample\r\n            info: OimoConst.info,   // calculate statistic or not\r\n            gravity: OimoConst.gravity,\r\n        });\r\n        return wolrd;\r\n    }\r\n\r\n    private _createRigBox(world: OIMO.World, pos: Laya.Vector3, eulerRot: Laya.Vector3, size: Laya.Vector3, isMove: boolean, type = 'box'): OIMO.RigidBody {\r\n        let addRig = world.add({\r\n            type: type, // type of shape : sphere, box, cylinder \r\n            size: [size.x, size.y, size.z], // size of shape\r\n            pos: [pos.x, pos.y, pos.z], // start position in degree\r\n            rot: [eulerRot.x, eulerRot.y, eulerRot.z], // start rotation in degree\r\n            move: isMove, // dynamic or statique\r\n            density: 10,\r\n            // friction: 0.89,\r\n            // restitution: 0.01,\r\n            belongsTo: 1, // The bits of the collision groups to which the shape belongs.\r\n            collidesWith: 0xffffffff // The bits of the collision groups with which the shape collides.\r\n        } as any) as OIMO.RigidBody;\r\n        return addRig;\r\n    }\r\n\r\n    /**\r\n     * 创建一个物理刚体\r\n     * @param ts \r\n     * @param shapes \r\n     * @param isMove \r\n     * @param update \r\n     * @param reverseUpdate \r\n     * @param isKinematic \r\n     * @param density \r\n     * @param belongsTo \r\n     * @param collidesWith \r\n     */\r\n    public CreateCompoundRig(\r\n        ts: Laya.Transform3D,\r\n        shapes: OimoBaseShape[],\r\n        isMove: boolean = true,\r\n        update = true,\r\n        reverseUpdate = false,\r\n        isKinematic = false,\r\n        density = 10,\r\n        belongsTo = 1,\r\n        collidesWith = 0xffffffff,\r\n    ): OIMO.RigidBody {\r\n        var type: string[] = [];\r\n        var posShape: number[] = [];\r\n        var rotShape: number[] = [];\r\n        var size: number[] = [];\r\n        for (var i = 0; i < shapes.length; i++) {\r\n            let shape = shapes[i];\r\n            type.push(shape.type);\r\n            posShape.push(shape.pos.x, shape.pos.y, shape.pos.z);\r\n            rotShape.push(shape.eular.x, shape.eular.y, shape.eular.z);\r\n            size.push(shape.size.x, shape.size.y, shape.size.z);\r\n        }\r\n        let rig = this.oimoWorld.add({\r\n            type: type,\r\n            pos: [ts.position.x, ts.position.y, ts.position.z],\r\n            rot: [ts.rotationEuler.x, ts.rotationEuler.y, ts.rotationEuler.z],\r\n            posShape: posShape,\r\n            rotShape: rotShape,\r\n            size: size,\r\n            move: isMove,\r\n            density: density,\r\n            friction: 0.999,\r\n            restitution: 0.1,\r\n            isKinematic: isKinematic,\r\n            belongsTo: belongsTo, // The bits of the collision groups to which the shape belongs.\r\n            collidesWith: collidesWith, // The bits of the collision groups with which the shape collides.\r\n\r\n        } as any) as OIMO.RigidBody;\r\n        //加一个不变的id\r\n        rig.id = OimoManager.m_rigId;\r\n        OimoManager.m_rigId++;\r\n        //\r\n        if (update) {\r\n            this._oimoRigDic.set(rig.id, rig);\r\n            this._transformDic.set(rig.id, ts);\r\n            this._oimoOffset.set(rig.id, new Laya.Vector3());\r\n        }\r\n        if (reverseUpdate) {\r\n            this._oimoRigDicR.set(rig.id, rig);\r\n            this._transformDicR.set(rig.id, ts);\r\n            this._oimoOffsetR.set(rig.id, new Laya.Vector3());\r\n        }\r\n        return rig;\r\n    }\r\n\r\n    /**\r\n     * 设置一个刚体的各个参数\r\n     * @param rig \r\n     * @param belongsTo \r\n     * @param collidesWith \r\n     * @param restitution \r\n     * @param friction \r\n     */\r\n    public static SetCollideData(rig: OIMO.RigidBody, belongsTo?: number, collidesWith?: number, restitution?: number, friction?: number) {\r\n        for (var shape = rig.shapes; shape !== null; shape = shape.next) {\r\n            if (belongsTo != null) shape.belongsTo = belongsTo;\r\n            if (collidesWith != null) shape.collidesWith = collidesWith;\r\n            if (restitution != null) shape.restitution = restitution;\r\n            if (friction != null) shape.friction = friction;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置是否是  静止物体\r\n     * @param rig \r\n     * @param can \r\n     */\r\n    public setCanMove(rig: OIMO.RigidBody, can: boolean) {\r\n        if (can) {\r\n            rig.setupMass(OIMO.BODY_DYNAMIC, false);\r\n        }\r\n        else {\r\n            rig.setupMass(OIMO.BODY_STATIC, false);\r\n        }\r\n    }\r\n\r\n    clearRig() {\r\n        this._oimoWorld.clear();\r\n\r\n        this._oimoRigDic.clear();\r\n        this._transformDic.clear();\r\n        this._oimoOffset.clear();\r\n        this._oimoRigDicR.clear();\r\n        this._transformDicR.clear();\r\n        this._oimoOffsetR.clear();\r\n    }\r\n\r\n    /**\r\n     * 添加刚体\r\n     * @param rig \r\n     * @param world \r\n     * @param stopUpdate 是否停止更新\r\n     */\r\n    addRig(rig: OIMO.RigidBody, world: OIMO.World = this._oimoWorld) {\r\n        if (rig) {\r\n            world.addRigidBody(rig);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 删除刚体\r\n     * @param rig \r\n     * @param world \r\n     * @param offList # 如果为true的话就是彻底删除，再添加也没有用了\r\n     */\r\n    RemoveRig(rig: OIMO.RigidBody, world: OIMO.World = this._oimoWorld, offList: boolean = false) {\r\n        if (rig) {\r\n            if (offList) {\r\n                this._oimoRigDic.remove(rig.id);\r\n                this._transformDic.remove(rig.id);\r\n                this._oimoOffset.remove(rig.id);\r\n                this._oimoRigDicR.remove(rig.id);\r\n                this._transformDicR.remove(rig.id);\r\n                this._oimoOffsetR.remove(rig.id);\r\n            }\r\n            world.removeRigidBody(rig);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加关节\r\n     * @param type \r\n     * @param rig1 \r\n     * @param rig2 \r\n     * @param pos1 \r\n     * @param pos2 \r\n     * @param spring \r\n     */\r\n    AddJoint(type: 'joint' | 'jointHinge' | 'jointDistance' | 'jointPrisme' | 'jointSlide' | 'jointBall' | 'jointWheel',\r\n        rig1: OIMO.RigidBody, rig2: OIMO.RigidBody, pos1?: Laya.Vector3, pos2?: Laya.Vector3, spring?: number[]): OIMO.Joint {\r\n        return this.oimoWorld.add({\r\n            type: type as string,\r\n            body1: rig1,\r\n            body2: rig2,\r\n            pos1: pos1 != null ? [pos1.x, pos1.y, pos1.z] : pos1,\r\n            pos2: pos2 != null ? [pos2.x, pos2.y, pos2.z] : pos2,\r\n            spring: spring,\r\n        } as any)\r\n    }\r\n\r\n    /**\r\n     * 删除一个关节\r\n     * @param joint \r\n     */\r\n    RemoveJoint(joint: OIMO.Joint) {\r\n        this.oimoWorld.removeJoint(joint);\r\n    }\r\n\r\n    updateAllTrans() {\r\n        let keys = this._oimoRigDic.keys();\r\n        keys.forEach((key: string) => {\r\n            this.UpdateTrans(this._transformDic.get(key), this._oimoRigDic.get(key), this._oimoOffset.get(key));\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 运动物体的  反向赋值\r\n     */\r\n    updateAllTransReverse() {\r\n        let keys = this._oimoRigDicR.keys();\r\n        keys.forEach((key: string) => {\r\n            this.UpdateTransReverse(this._transformDicR.get(key), this._oimoRigDicR.get(key));\r\n        })\r\n    }\r\n\r\n    private _tempOimoV3: OIMO.Vec3 = new OIMO.Vec3;\r\n    private _tempOimoQuat: OIMO.Quat = new OIMO.Quat;\r\n\r\n    UpdateTransReverse(transform: Laya.Transform3D, rig: OIMO.RigidBody) {\r\n        if (!transform || !rig || !rig.parent) return;\r\n        let pos = transform.position;\r\n        this._tempOimoV3.set(pos.x, pos.y, pos.z)\r\n        rig.awake();\r\n        rig.setPosition(this._tempOimoV3);\r\n        let rotate = transform.rotation;\r\n        this._tempOimoQuat.set(rotate.x, rotate.y, rotate.z, rotate.w);\r\n        rig.setQuaternion(this._tempOimoQuat);\r\n    }\r\n\r\n    private _tempQuaternion: Laya.Quaternion = new Laya.Quaternion();\r\n    UpdateTrans(transform: Laya.Transform3D, rig: OIMO.RigidBody, posOffset?: Laya.Vector3) {\r\n        if (!transform || !rig || !rig.parent) return;\r\n        let getPos = rig.getPosition() as any;\r\n        transform.position.x = getPos.x;\r\n        transform.position.y = getPos.y;\r\n        transform.position.z = getPos.z;\r\n\r\n        if (posOffset && !this.isZero(posOffset)) {\r\n            // LIUTODO  可以规避的计算\r\n            let offset = posOffset.clone() as Laya.Vector3;\r\n            Laya.Quaternion.createFromYawPitchRoll(this.deg2rad(transform.rotationEuler.y), this.deg2rad(transform.rotationEuler.x),\r\n                this.deg2rad(transform.rotationEuler.z), this._tempQuaternion);\r\n            Laya.Vector3.transformQuat(offset, this._tempQuaternion, offset);\r\n            Laya.Vector3.subtract(transform.position, offset, transform.position);\r\n        }\r\n        transform.position = transform.position;\r\n\r\n        let getRot = rig.getQuaternion() as any;\r\n        transform.rotation.x = getRot.x;\r\n        transform.rotation.y = getRot.y;\r\n        transform.rotation.z = getRot.z;\r\n        transform.rotation.w = getRot.w;\r\n        transform.rotation = transform.rotation;\r\n    }\r\n\r\n    isZero(pos: Laya.Vector3): boolean {\r\n        return Laya.MathUtils3D.isZero(pos.x) && Laya.MathUtils3D.isZero(pos.y) && Laya.MathUtils3D.isZero(pos.z);\r\n    }\r\n\r\n    deg2rad(p_y: number): number {\r\n        return p_y * Math.PI / 180.0;\r\n    }\r\n\r\n    public GetRig(name: string): OIMO.RigidBody {\r\n        return this._oimoRigDic.get(name);\r\n    }\r\n}\r\n\r\n\r\n","import { OimoManager } from \"./OimoManager\";\r\n/**\r\n * OIMO物理系统\r\n */\r\nexport class OimoSystem extends Laya.Script3D {\r\n    onUpdate() {\r\n        OimoManager.instance.oimoWorld.timeStep = Laya.timer.delta / 1000;\r\n        OimoManager.instance.oimoWorld.step();\r\n        OimoManager.instance.updateAllTrans();\r\n        OimoManager.instance.updateAllTransReverse();\r\n    }\r\n}","/**\r\n * 项目最高层不需要配表的配置\r\n */\r\nexport default class MainConfig {\r\n    /** 游戏所属团队 */\r\n    public static readonly GameWhatTeam: string = '小小游戏';\r\n\r\n    /** 游戏名字 */\r\n    public static readonly GameName: string = 'LayaMiniGame';\r\n\r\n    /** 中文名字 */\r\n    public static readonly GameName_: string = 'LayaBox小游戏';\r\n\r\n    /** 游戏说明 */\r\n    public static readonly GameExplain: string = 'LayaBox小游戏';\r\n\r\n    /** 数据版本 */\r\n    public static readonly versions: string = '0.0.0';\r\n\r\n    /** 是否上线为false则是开发环境 */\r\n    public static readonly OnLine: boolean = false;\r\n}","import MainConfig from \"./MainConfig\";\r\n\r\n/**\r\n * 游戏最高层不需要配表的配置\r\n */\r\nexport default class MainGameConfig {\r\n    /** 支持2D */\r\n    public static support2D: boolean = false;\r\n\r\n    /** 支持3D */\r\n    public static support3D: boolean = true;\r\n\r\n    /** 是否开启oimo物理 */\r\n    public static ifAddOimoSystem: boolean = false;\r\n\r\n    /** 是否开启游戏测试 */\r\n    public static ifGameTest: boolean = (!MainConfig.OnLine) && false;\r\n\r\n    /** 是否开启测试类 */\r\n    public static ifTest: boolean = (!MainConfig.OnLine) && false;\r\n\r\n    /** 是否开启调试类 */\r\n    public static ifDebug: boolean = (!MainConfig.OnLine) && false;\r\n}","import ConsoleEx from \"../Console/ConsoleEx\";\r\n\r\n/**\r\n * 根调试类，所有调试类必须由此继承\r\n */\r\nexport default class RootDebug {\r\n    /** 前缀 */\r\n    public static readonly prefix: string = '$Debug';\r\n\r\n    /** 名字，用 Window[前缀 + _name] 访问 */\r\n    protected _name: string;\r\n\r\n    /**\r\n     * 添加一个调试对象\r\n     * @param _key key\r\n     * @param _item 该对象\r\n     */\r\n    public static addItem(_key: string, _item: any) {\r\n        let _rootKey: string = this.prefix + ':' + _key;\r\n        if (this[_rootKey]) {\r\n            console.log(...ConsoleEx.packWarn('该调试对象已经存在了，将会被第二个覆盖', _rootKey));\r\n        }\r\n        this[_rootKey] = _item;\r\n    }\r\n\r\n    /** 开启调试 */\r\n    public startDebug() {\r\n        //注入到全局中\r\n        if (window[RootDebug.prefix][this._name]) {\r\n            console.log(...ConsoleEx.packWarn('有一个调试对象名字重名了，将会被第二个覆盖', this._name));\r\n        }\r\n        window[RootDebug.prefix][this._name] = this;\r\n        //\r\n        this._startDebug();\r\n    }\r\n\r\n    /**\r\n     * 添加一个调试对象\r\n     * @param _key key\r\n     * @param _item 该对象\r\n     */\r\n    public addItem(_key: string, _item: any) {\r\n        if (this[_key]) {\r\n            console.log(...ConsoleEx.packWarn('该调试对象已经存在了，将会被第二个覆盖', this._name, '-', _key));\r\n        }\r\n        this[_key] = _item;\r\n    }\r\n\r\n    /** 开启调试回调 */\r\n    protected _startDebug() { }\r\n}\r\n\r\n//注册全局调试对象\r\nwindow[RootDebug.prefix] = {};","import RootDebug from \"./RootDebug\";\r\n\r\n/**\r\n * 环境调试对象\r\n */\r\nexport default class EnvironmentDebug extends RootDebug {\r\n    protected _name: string = 'Environment';\r\n\r\n    //单例\r\n    private static _instance: EnvironmentDebug;\r\n    /** 单例对象 */\r\n    public static get instance(): EnvironmentDebug {\r\n        if (this._instance) {\r\n            return this._instance;\r\n        } else {\r\n            this._instance = new EnvironmentDebug();\r\n            return this._instance;\r\n        }\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    /** 3d场景 */\r\n    public s3d: Laya.Scene3D;\r\n\r\n    /** 摄像机 */\r\n    public camera: Laya.Camera;\r\n\r\n    /** 灯光 */\r\n    public light: Laya.DirectionLight;\r\n\r\n    //开启调试\r\n    protected _startDebug() { }\r\n}","import { OimoSystem } from '../Physics/oimo/OimoSystem';\r\nimport GlobalUnitClassProxy from \"./GlobalUnitClassProxy\";\r\nimport SceneManagerProxy from \"./SceneManagerProxy\";\r\nimport MainGameConfig from '../../bTGameConfig/MainGameConfig';\r\nimport ConsoleEx from '../Console/ConsoleEx';\r\nimport EnvironmentDebug from '../Debug/EnvironmentDebug';\r\n/**\r\n * 全局3D类\r\n */\r\nexport default class Global3D {\r\n\r\n    /** 3d场景 */\r\n    public static s3d: Laya.Scene3D;\r\n\r\n    /** 摄像机 */\r\n    public static camera: Laya.Camera;\r\n\r\n    /** 灯光 */\r\n    public static light: Laya.DirectionLight;\r\n\r\n    /**\r\n     * 场景初始化\r\n     */\r\n    public static InitAll() {\r\n        //判断是否支持3D\r\n        if (MainGameConfig.support3D) {\r\n            this.s3d = Laya.stage.addChildAt(new Laya.Scene3D(), 0) as Laya.Scene3D;\r\n            this.camera = new Laya.Camera();\r\n            this.s3d.addChild(this.camera);\r\n            SceneManagerProxy.initCamera(this.camera);\r\n            this.light = new Laya.DirectionLight;\r\n            this.s3d.addChild(this.light);\r\n            SceneManagerProxy.initLight(this.light);\r\n            //\r\n            //查看是否添加oimo物理\r\n            if (MainGameConfig.ifAddOimoSystem) {\r\n                this.addOimoSystem();\r\n            }\r\n            //设置代理类代理数据\r\n            GlobalUnitClassProxy.s3d = this.s3d;\r\n            GlobalUnitClassProxy.camera = this.camera;\r\n            GlobalUnitClassProxy.light = this.light;\r\n            //判断是否是调试模式\r\n            if (MainGameConfig.ifDebug) {\r\n                //添加环境调试\r\n                EnvironmentDebug.instance.s3d = this.s3d;\r\n                EnvironmentDebug.instance.camera = this.camera;\r\n                EnvironmentDebug.instance.light = this.light;\r\n            }\r\n        } else {\r\n            //\r\n            console.log(...ConsoleEx.packLog('请设置支持3D!'));\r\n        }\r\n    }\r\n\r\n    //添加oimo物理\r\n    private static addOimoSystem() {\r\n        //使用新物理系统\r\n        let oimoNode: Laya.Sprite3D = new Laya.Sprite3D();\r\n        this.s3d.addChild(oimoNode);\r\n        oimoNode.addComponent(OimoSystem);\r\n    }\r\n}","/**\r\n * 所有的场景事件\r\n * ! 都能抛出，但是不能被UI监听\r\n */\r\nexport enum EEventScene {\r\n    /** 看广告 */\r\n    LookAd = '_EEventScene_LookAd',\r\n    /** 看完广告 */\r\n    UnLookAd = '_EEventScene_UnLookAd',\r\n    /** 游戏关卡构建事件 */\r\n    GameLevelsBuild = '_EEventScene_GameLevelsBuild',\r\n    /** 游戏其他关卡构建事件 */\r\n    GameOtherLevelsBuild = '_EEventScene_GameOtherLevelsBuild',\r\n    /** 游戏关卡构建前事件 */\r\n    GameLevelsBuildBefore = '_EEventScene_GameLevelsBuildBefore',\r\n    /** 游戏关卡构建完成事件 */\r\n    GameLevelsOnBuild = '_EEventScene_GameLevelsOnBuild',\r\n    /** 游戏清除关卡事件 */\r\n    GameLevelsDelete = '_EEventScene_GameLevelsDelete',\r\n    /** 游戏清除其他关卡事件 */\r\n    GameOtherLevelsDelete = '_EEventScene_GameOtherLevelsDelete',\r\n    /** 游戏清除关卡前 */\r\n    GameLevelsDeleteBefore = '_EEventScene_GameLevelsDeleteBefore',\r\n    /** 游戏清除完成 */\r\n    GameLevelsOnDelete = '_EEventScene_GameLevelsOnDelete',\r\n    /** 游戏开始 */\r\n    GameStart = \"_EEventScene_Start\",\r\n    /** 游戏暂停 */\r\n    GameSuspend = '_EEventScene_GameSuspend',\r\n    /** 游戏继续 */\r\n    GameGoOn = '_EEventScene_GameGoOn',\r\n    /** 游戏重新开始 */\r\n    GameRestart = '_EEventScene_GameRestart',\r\n    /** 游戏结束 */\r\n    GameEnd = '_EEventScene_GameEnd',\r\n    /** 游戏完成 */\r\n    GameCom = '_EEventScene_GameCom',\r\n    /** 游戏胜利 */\r\n    GameWin = \"_EEventScene_gameWin\",\r\n    /** 游戏失败 */\r\n    GameFail = \"_EEventScene_gameFail\",\r\n    /** 角色死亡 */\r\n    RoleDie = '_EEventScene_RoleDie',\r\n    /** 角色复活 */\r\n    RoleRevive = '_EEventScene_Revive',\r\n\r\n    //其他道具\r\n\r\n    /** 鼠标点击事件 */\r\n    MouseClick = '_EEventScene_MouseClick',\r\n    /** 鼠标移动事件 */\r\n    MouseMove = '_EEventScene_MouseMove',\r\n    /** 鼠标离开 */\r\n    MouseUp = '_EEventScene_MouseUp',\r\n}","import IRootManager from '../../aTGame/Manager/IRootManager';\r\nimport { EEventAudio } from '../EventEnum/EEventAudio';\r\nimport { EEventGlobal } from '../EventEnum/EEventGlobal';\r\nimport { EEventScene } from '../EventEnum/EEventScene';\r\nimport { EEventUI } from '../EventEnum/EEventUI';\r\n/**\r\n * 简易信息处理类\r\n */\r\nexport default class MesManager extends Laya.EventDispatcher implements IRootManager {\r\n    private static _instance: MesManager;\r\n    /** 单例 */\r\n    public static get instance(): MesManager {\r\n        if (this._instance == null) {\r\n            this._instance = new MesManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //初始化\r\n    public init() { }\r\n\r\n    /**\r\n     * 发送全局事件\r\n     * @param event 全局事件枚举 \r\n     * @param data 数据\r\n     */\r\n    public eventGlobal(event: EEventGlobal, data?: any) {\r\n        // console.log('Global ' + event);\r\n        MesManager.instance.event(event, data);\r\n    }\r\n\r\n    /**\r\n     * 发送音效事件\r\n     * @param event 全局事件枚举 \r\n     * @param data 数据\r\n     */\r\n    public eventAudio(event: EEventAudio, data?: any) {\r\n        // console.log('Global ' + event);\r\n        MesManager.instance.event(event, data);\r\n    }\r\n\r\n    /**\r\n     * 发送UI事件\r\n     * @param event UI事件枚举 \r\n     * @param data 数据\r\n     */\r\n    public eventUI(event: EEventUI, data?: any) {\r\n        // console.log(\"UI \" + event);\r\n        MesManager.instance.event(event, data);\r\n    }\r\n\r\n    /**\r\n     * 发送3D事件\r\n     * @param event 3D事件枚举\r\n     * @param data 数据\r\n     */\r\n    public event3D(event: EEventScene, data?: any) {\r\n        // console.log(\"Scene \" + event);\r\n        MesManager.instance.event(event, data);\r\n    }\r\n\r\n    /**\r\n     * 监听Global事件\r\n     * @param type Global事件枚举\r\n     * @param caller 执行域\r\n     * @param listener 事件\r\n     * @param args 携带的数据\r\n     */\r\n    public onGlobal(type: EEventGlobal, caller: any, listener: Function, args?: any[]) {\r\n        MesManager.instance.on(type, caller, listener, args);\r\n    }\r\n\r\n    /**\r\n     * 监听音效事件\r\n     * @param type UI事件枚举\r\n     * @param caller 执行域\r\n     * @param listener 事件\r\n     * @param args 携带的数据\r\n     */\r\n    public onAudio(type: EEventAudio, caller: any, listener: Function, args?: any[]) {\r\n        MesManager.instance.on(type, caller, listener, args);\r\n    }\r\n\r\n    /**\r\n     * 监听UI事件\r\n     * @param type UI事件枚举\r\n     * @param caller 执行域\r\n     * @param listener 事件\r\n     * @param args 携带的数据\r\n     */\r\n    public onUI(type: EEventUI, caller: any, listener: Function, args?: any[]) {\r\n        MesManager.instance.on(type, caller, listener, args);\r\n    }\r\n\r\n    /**\r\n     * 监听3D事件\r\n     * @param type 3D事件枚举 \r\n     * @param caller 执行域\r\n     * @param listener 事件\r\n     * @param args 数据\r\n     */\r\n    public on3D(type: EEventScene, caller: any, listener: Function, args?: any[]) {\r\n        MesManager.instance.on(type, caller, listener, args);\r\n    }\r\n\r\n    /**\r\n     * 删除Global侦听器\r\n     * @param type Global侦听器枚举 \r\n     * @param caller 执行域\r\n     * @param listener 回调函数\r\n     */\r\n    public offGlobal(type: EEventGlobal, caller: any, listener: Function) {\r\n        MesManager.instance.off(type, caller, listener);\r\n    }\r\n\r\n    /**\r\n     * 删除音效侦听器\r\n     * @param type UI侦听器枚举 \r\n     * @param caller 执行域\r\n     * @param listener 回调函数\r\n     */\r\n    public offAudio(type: EEventAudio, caller: any, listener: Function) {\r\n        MesManager.instance.off(type, caller, listener);\r\n    }\r\n\r\n    /**\r\n     * 删除UI侦听器\r\n     * @param type UI侦听器枚举 \r\n     * @param caller 执行域\r\n     * @param listener 回调函数\r\n     */\r\n    public offUI(type: EEventUI, caller: any, listener: Function) {\r\n        MesManager.instance.off(type, caller, listener);\r\n    }\r\n\r\n    /**\r\n     * 删除3D侦听器\r\n     * @param type 3D侦听器枚举\r\n     * @param caller 执行域\r\n     * @param listener 回调函数\r\n     */\r\n    public off3D(type: EEventScene, caller: any, listener: Function) {\r\n        MesManager.instance.off(type, caller, listener);\r\n    }\r\n}","/**\r\n * 关卡公共枚举\r\n */\r\nexport enum ECommonLeve {\r\n    /** 最小关卡数量 */\r\n    MinLeveNumber = 3,\r\n\r\n    /** 默认关卡 */\r\n    DefaultLeveId = 1,\r\n\r\n    /** 测试关卡id */\r\n    DebugLeveId = 0,\r\n\r\n    /** 新手关卡 */\r\n    NewHandLeveId = 1,\r\n}","/**\r\n * 字符串处理工具\r\n */\r\nexport default class StringUtils {\r\n    /**\r\n     * 分割成整型数组\r\n     * @param str 字符串\r\n     * @param splitStr 分割字符串\r\n     */\r\n    public static SplitToIntArray(str: string, splitStr: string): number[] {\r\n        var splits = str.split(splitStr);\r\n        var result = [];\r\n        for (var i = 0; i < splits.length; ++i) {\r\n            var parseNum = parseInt(splits[i]);\r\n            if (isNaN(parseNum)) {\r\n                parseNum = 0;\r\n            }\r\n            result.push(parseNum);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * int数组到字符串\r\n     * @param arr 数组\r\n     */\r\n    public static IntArrToStr(arr: number[]): string {\r\n        var str = \"\";\r\n        for (var i = 0; i < arr.length; ++i) {\r\n            str += arr[i].toFixed(0);\r\n            if (i < arr.length - 1) {\r\n                str += \",\"\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * 检测字符串是否为空\r\n     * @param str 被检测的字符串\r\n     */\r\n    public static IsNullOrEmpty(str: string): boolean {\r\n        if (str == null) return true;\r\n        if (str == \"\") return true;\r\n        return false;\r\n    }\r\n}","/**\r\n * TypeScript Md5加密\r\n */\r\nexport default class Md5 {\r\n    /** 能否使用 */\r\n    public static ifUse: boolean = true;\r\n\r\n    // One time hashing functions\r\n    public static hashStr(str: string, raw: boolean = false) {\r\n        return this.onePassHasher\r\n            .start()\r\n            .appendStr(str)\r\n            .end(raw);\r\n    }\r\n\r\n    public static hashAsciiStr(str: string, raw: boolean = false) {\r\n        return this.onePassHasher\r\n            .start()\r\n            .appendAsciiStr(str)\r\n            .end(raw);\r\n    }\r\n    // Private Static Variables\r\n    private static stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);\r\n    private static buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\r\n    private static hexChars = '0123456789abcdef';\r\n    private static hexOut: string[] = [];\r\n\r\n    // Permanent instance is to use for one-call hashing\r\n    private static onePassHasher = new Md5();\r\n\r\n    private static _hex(x: any): string {\r\n        const hc = Md5.hexChars;\r\n        const ho = Md5.hexOut;\r\n        let n;\r\n        let offset;\r\n        let j;\r\n        let i;\r\n\r\n        for (i = 0; i < 4; i += 1) {\r\n            offset = i * 8;\r\n            n = x[i];\r\n            for (j = 0; j < 8; j += 2) {\r\n                ho[offset + 1 + j] = hc.charAt(n & 0x0F);\r\n                n >>>= 4;\r\n                ho[offset + 0 + j] = hc.charAt(n & 0x0F);\r\n                n >>>= 4;\r\n            }\r\n        }\r\n        return ho.join('');\r\n    }\r\n\r\n    private static _md5cycle(x: Int32Array | Uint32Array, k: Int32Array | Uint32Array) {\r\n        let a = x[0];\r\n        let b = x[1];\r\n        let c = x[2];\r\n        let d = x[3];\r\n        // ff()\r\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\r\n        a = (a << 7 | a >>> 25) + b | 0;\r\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\r\n        d = (d << 12 | d >>> 20) + a | 0;\r\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\r\n        c = (c << 17 | c >>> 15) + d | 0;\r\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\r\n        b = (b << 22 | b >>> 10) + c | 0;\r\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\r\n        a = (a << 7 | a >>> 25) + b | 0;\r\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\r\n        d = (d << 12 | d >>> 20) + a | 0;\r\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\r\n        c = (c << 17 | c >>> 15) + d | 0;\r\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\r\n        b = (b << 22 | b >>> 10) + c | 0;\r\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\r\n        a = (a << 7 | a >>> 25) + b | 0;\r\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\r\n        d = (d << 12 | d >>> 20) + a | 0;\r\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\r\n        c = (c << 17 | c >>> 15) + d | 0;\r\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\r\n        b = (b << 22 | b >>> 10) + c | 0;\r\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\r\n        a = (a << 7 | a >>> 25) + b | 0;\r\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\r\n        d = (d << 12 | d >>> 20) + a | 0;\r\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\r\n        c = (c << 17 | c >>> 15) + d | 0;\r\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\r\n        b = (b << 22 | b >>> 10) + c | 0;\r\n        // gg()\r\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\r\n        a = (a << 5 | a >>> 27) + b | 0;\r\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\r\n        d = (d << 9 | d >>> 23) + a | 0;\r\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\r\n        c = (c << 14 | c >>> 18) + d | 0;\r\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\r\n        b = (b << 20 | b >>> 12) + c | 0;\r\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\r\n        a = (a << 5 | a >>> 27) + b | 0;\r\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\r\n        d = (d << 9 | d >>> 23) + a | 0;\r\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\r\n        c = (c << 14 | c >>> 18) + d | 0;\r\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\r\n        b = (b << 20 | b >>> 12) + c | 0;\r\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\r\n        a = (a << 5 | a >>> 27) + b | 0;\r\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\r\n        d = (d << 9 | d >>> 23) + a | 0;\r\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\r\n        c = (c << 14 | c >>> 18) + d | 0;\r\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\r\n        b = (b << 20 | b >>> 12) + c | 0;\r\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\r\n        a = (a << 5 | a >>> 27) + b | 0;\r\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\r\n        d = (d << 9 | d >>> 23) + a | 0;\r\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\r\n        c = (c << 14 | c >>> 18) + d | 0;\r\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\r\n        b = (b << 20 | b >>> 12) + c | 0;\r\n        // hh()\r\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\r\n        a = (a << 4 | a >>> 28) + b | 0;\r\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\r\n        d = (d << 11 | d >>> 21) + a | 0;\r\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\r\n        c = (c << 16 | c >>> 16) + d | 0;\r\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\r\n        b = (b << 23 | b >>> 9) + c | 0;\r\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\r\n        a = (a << 4 | a >>> 28) + b | 0;\r\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\r\n        d = (d << 11 | d >>> 21) + a | 0;\r\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\r\n        c = (c << 16 | c >>> 16) + d | 0;\r\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\r\n        b = (b << 23 | b >>> 9) + c | 0;\r\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\r\n        a = (a << 4 | a >>> 28) + b | 0;\r\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\r\n        d = (d << 11 | d >>> 21) + a | 0;\r\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\r\n        c = (c << 16 | c >>> 16) + d | 0;\r\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\r\n        b = (b << 23 | b >>> 9) + c | 0;\r\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\r\n        a = (a << 4 | a >>> 28) + b | 0;\r\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\r\n        d = (d << 11 | d >>> 21) + a | 0;\r\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\r\n        c = (c << 16 | c >>> 16) + d | 0;\r\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\r\n        b = (b << 23 | b >>> 9) + c | 0;\r\n        // ii()\r\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\r\n        a = (a << 6 | a >>> 26) + b | 0;\r\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\r\n        d = (d << 10 | d >>> 22) + a | 0;\r\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\r\n        c = (c << 15 | c >>> 17) + d | 0;\r\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\r\n        b = (b << 21 | b >>> 11) + c | 0;\r\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\r\n        a = (a << 6 | a >>> 26) + b | 0;\r\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\r\n        d = (d << 10 | d >>> 22) + a | 0;\r\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\r\n        c = (c << 15 | c >>> 17) + d | 0;\r\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\r\n        b = (b << 21 | b >>> 11) + c | 0;\r\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\r\n        a = (a << 6 | a >>> 26) + b | 0;\r\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\r\n        d = (d << 10 | d >>> 22) + a | 0;\r\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\r\n        c = (c << 15 | c >>> 17) + d | 0;\r\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\r\n        b = (b << 21 | b >>> 11) + c | 0;\r\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\r\n        a = (a << 6 | a >>> 26) + b | 0;\r\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\r\n        d = (d << 10 | d >>> 22) + a | 0;\r\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\r\n        c = (c << 15 | c >>> 17) + d | 0;\r\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\r\n        b = (b << 21 | b >>> 11) + c | 0;\r\n\r\n        x[0] = a + x[0] | 0;\r\n        x[1] = b + x[1] | 0;\r\n        x[2] = c + x[2] | 0;\r\n        x[3] = d + x[3] | 0;\r\n    }\r\n\r\n    private _dataLength: number;\r\n    private _bufferLength: number;\r\n\r\n    private _state: Int32Array = new Int32Array(4);\r\n    private _buffer: ArrayBuffer = new ArrayBuffer(68);\r\n    private _buffer8: Uint8Array;\r\n    private _buffer32: Uint32Array;\r\n\r\n    constructor() {\r\n        this._buffer8 = new Uint8Array(this._buffer, 0, 68);\r\n        this._buffer32 = new Uint32Array(this._buffer, 0, 17);\r\n        this.start();\r\n    }\r\n\r\n    public start() {\r\n        this._dataLength = 0;\r\n        this._bufferLength = 0;\r\n        this._state.set(Md5.stateIdentity);\r\n        return this;\r\n    }\r\n\r\n    // Char to code point to to array conversion:\r\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt\r\n    // #Example.3A_Fixing_charCodeAt_to_handle_non-Basic-Multilingual-Plane_characters_if_their_presence_earlier_in_the_string_is_unknown\r\n    public appendStr(str: string) {\r\n        const buf8 = this._buffer8;\r\n        const buf32 = this._buffer32;\r\n        let bufLen = this._bufferLength;\r\n        let code;\r\n        let i;\r\n\r\n        for (i = 0; i < str.length; i += 1) {\r\n            code = str.charCodeAt(i);\r\n            if (code < 128) {\r\n                buf8[bufLen++] = code;\r\n            } else if (code < 0x800) {\r\n                buf8[bufLen++] = (code >>> 6) + 0xC0;\r\n                buf8[bufLen++] = code & 0x3F | 0x80;\r\n            } else if (code < 0xD800 || code > 0xDBFF) {\r\n                buf8[bufLen++] = (code >>> 12) + 0xE0;\r\n                buf8[bufLen++] = (code >>> 6 & 0x3F) | 0x80;\r\n                buf8[bufLen++] = (code & 0x3F) | 0x80;\r\n            } else {\r\n                code = ((code - 0xD800) * 0x400) + (str.charCodeAt(++i) - 0xDC00) + 0x10000;\r\n                if (code > 0x10FFFF) {\r\n                    throw new Error('Unicode standard supports code points up to U+10FFFF');\r\n                }\r\n                buf8[bufLen++] = (code >>> 18) + 0xF0;\r\n                buf8[bufLen++] = (code >>> 12 & 0x3F) | 0x80;\r\n                buf8[bufLen++] = (code >>> 6 & 0x3F) | 0x80;\r\n                buf8[bufLen++] = (code & 0x3F) | 0x80;\r\n            }\r\n            if (bufLen >= 64) {\r\n                this._dataLength += 64;\r\n                Md5._md5cycle(this._state, buf32);\r\n                bufLen -= 64;\r\n                buf32[0] = buf32[16];\r\n            }\r\n        }\r\n        this._bufferLength = bufLen;\r\n        return this;\r\n    }\r\n\r\n    public appendAsciiStr(str: string) {\r\n        const buf8 = this._buffer8;\r\n        const buf32 = this._buffer32;\r\n        let bufLen = this._bufferLength;\r\n        let i;\r\n        let j = 0;\r\n\r\n        for (; ;) {\r\n            i = Math.min(str.length - j, 64 - bufLen);\r\n            while (i--) {\r\n                buf8[bufLen++] = str.charCodeAt(j++);\r\n            }\r\n            if (bufLen < 64) {\r\n                break;\r\n            }\r\n            this._dataLength += 64;\r\n            Md5._md5cycle(this._state, buf32);\r\n            bufLen = 0;\r\n        }\r\n        this._bufferLength = bufLen;\r\n        return this;\r\n    }\r\n\r\n    public appendByteArray(input: Uint8Array) {\r\n        const buf8 = this._buffer8;\r\n        const buf32 = this._buffer32;\r\n        let bufLen = this._bufferLength;\r\n        let i;\r\n        let j = 0;\r\n\r\n        for (; ;) {\r\n            i = Math.min(input.length - j, 64 - bufLen);\r\n            while (i--) {\r\n                buf8[bufLen++] = input[j++];\r\n            }\r\n            if (bufLen < 64) {\r\n                break;\r\n            }\r\n            this._dataLength += 64;\r\n            Md5._md5cycle(this._state, buf32);\r\n            bufLen = 0;\r\n        }\r\n        this._bufferLength = bufLen;\r\n        return this;\r\n    }\r\n\r\n    public getState() {\r\n        const self = this;\r\n        const s = self._state;\r\n\r\n        return {\r\n            buffer: String.fromCharCode.apply(null, self._buffer8),\r\n            buflen: self._bufferLength,\r\n            length: self._dataLength,\r\n            state: [s[0], s[1], s[2], s[3]]\r\n        };\r\n    }\r\n\r\n    public setState(state: any) {\r\n        const buf = state.buffer;\r\n        const x = state.state;\r\n        const s = this._state;\r\n        let i;\r\n\r\n        this._dataLength = state.length;\r\n        this._bufferLength = state.buflen;\r\n        s[0] = x[0];\r\n        s[1] = x[1];\r\n        s[2] = x[2];\r\n        s[3] = x[3];\r\n\r\n        for (i = 0; i < buf.length; i += 1) {\r\n            this._buffer8[i] = buf.charCodeAt(i);\r\n        }\r\n    }\r\n\r\n    public end(raw: boolean = false) {\r\n        const bufLen = this._bufferLength;\r\n        const buf8 = this._buffer8;\r\n        const buf32 = this._buffer32;\r\n        const i = (bufLen >> 2) + 1;\r\n        let dataBitsLen;\r\n\r\n        this._dataLength += bufLen;\r\n\r\n        buf8[bufLen] = 0x80;\r\n        buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;\r\n        buf32.set(Md5.buffer32Identity.subarray(i), i);\r\n\r\n        if (bufLen > 55) {\r\n            Md5._md5cycle(this._state, buf32);\r\n            buf32.set(Md5.buffer32Identity);\r\n        }\r\n\r\n        // Do the final computation based on the tail and length\r\n        // Beware that the final length may not fit in 32 bits so we take care of that\r\n        dataBitsLen = this._dataLength * 8;\r\n        if (dataBitsLen <= 0xFFFFFFFF) {\r\n            buf32[14] = dataBitsLen;\r\n        } else {\r\n            const matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);\r\n            if (matches === null) {\r\n                return;\r\n            }\r\n\r\n            const lo = parseInt(matches[2], 16);\r\n            const hi = parseInt(matches[1], 16) || 0;\r\n\r\n            buf32[14] = lo;\r\n            buf32[15] = hi;\r\n        }\r\n\r\n        Md5._md5cycle(this._state, buf32);\r\n\r\n        return raw ? this._state : Md5._hex(this._state);\r\n    }\r\n}\r\n\r\n//检查Md5是否可用\r\nif (Md5.hashStr('hello') !== '5d41402abc4b2a76b9719d911017c592') {\r\n    //设置不能使用\r\n    Md5.ifUse = false;\r\n    console.warn('Md5 self test failed.');\r\n}\r\n","/**\r\n * 游戏数据管理器基类\r\n */\r\nexport default abstract class RootDataManger {\r\n    /**\r\n    * 初始化,在这里读取数据\r\n    */\r\n    public abstract InitData(): void;\r\n}","/**\r\n * 使用base64编码字符串\r\n */\r\nexport default class Base64 {\r\n\r\n    //\r\n    private static _keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n\r\n    /**\r\n     * 编码\r\n     * @param input 输入 \r\n     */\r\n    public static encode(input) {\r\n        let output = '';\r\n        let chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n        let i = 0;\r\n        input = this._utf8_encode(input);\r\n        while (i < input.length) {\r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            } else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n            output = output +\r\n                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\r\n                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * 译码\r\n     * @param input 输入\r\n     */\r\n    public static decode(input) {\r\n        let output = '';\r\n        let chr1, chr2, chr3;\r\n        let enc1, enc2, enc3, enc4;\r\n        let i = 0;\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\r\n        while (i < input.length) {\r\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n            output = output + String.fromCharCode(chr1);\r\n            if (enc3 !== 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 !== 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n        }\r\n        output = this._utf8_decode(output);\r\n        return output;\r\n    }\r\n\r\n    // \r\n    private static _utf8_encode(string) {\r\n        string = string.replace(/\\r\\n/g, '\\n');\r\n        let utftext = '';\r\n        for (let n = 0; n < string.length; n++) {\r\n            const c = string.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            } else if ((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            } else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n\r\n        }\r\n        return utftext;\r\n    }\r\n\r\n    // \r\n    private static _utf8_decode(utftext) {\r\n        let string = '';\r\n        let i = 0;\r\n        let c = 0, c2 = 0, c3 = 0;\r\n        while (i < utftext.length) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            } else if ((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            } else {\r\n                c2 = utftext.charCodeAt(i + 1);\r\n                c3 = utftext.charCodeAt(i + 2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n}","import RootLocalStorageData from './RootLocalStorageData';\r\nimport MainConfig from '../../bTGameConfig/MainConfig';\r\nimport StringUtils from '../Utils/StringUtils';\r\nimport Md5 from './Md5';\r\nimport RootDataManger from './RootDataManger';\r\nimport Base64 from './Base64';\r\n/**\r\n * 本地数据代理基类，用以使用和保存数据\r\n * 泛型为数据类型\r\n */\r\nexport default abstract class RootLocalStorageProxy<T extends RootLocalStorageData> extends RootDataManger {\r\n    /** 需要保存的数据 */\r\n    protected _saveData: T;\r\n\r\n    /** \r\n     * 是否设置数据代理\r\n     * 监听数据变化自动保存\r\n     * 最低监听数组变化，当数组内容是对象时不会监听该对象。\r\n     */\r\n    protected _ifSetDataProxy: boolean = false;\r\n\r\n    /** 是否对比数据 */\r\n    protected _ifDifferData: boolean = true;\r\n\r\n    /** 获取保存名称 */\r\n    protected abstract get _saveName(): string;\r\n\r\n    //获取保存数据的名字\r\n    private get saveName(): string {\r\n        return MainConfig.GameName + this._saveName;\r\n    }\r\n\r\n    // 获取对比数据的保存名字\r\n    private get differName(): string {\r\n        //\r\n        return this.encrypt(this.saveName + '-(-__DifferData__LayaMiniGame__-)-');\r\n    }\r\n\r\n    /** 获取保存数据，非副本，谨慎更改 */\r\n    public get saveData(): T {\r\n        return this._saveData;\r\n    }\r\n\r\n    /**\r\n     * 初始化数据\r\n     */\r\n    public InitData() {\r\n        this._saveData = this._ReadFromFile();\r\n        //判断是否设置数据代理\r\n        if (this._ifSetDataProxy) {\r\n            this._saveData = this.getProxyData(this._saveData) as T;\r\n        }\r\n        //\r\n        this._initData();\r\n    }\r\n\r\n    /**\r\n     * 获取一个代理对象\r\n     * @param _obj 需要代理的对象\r\n     */\r\n    private getProxyData(_obj: any): any {\r\n        if (typeof _obj == 'object' && _obj) {\r\n            //不监听数组中的对象\r\n            if (!Array.prototype.isPrototypeOf(_obj)) {\r\n                //遍历对象属性\r\n                for (let _i in _obj) {\r\n                    //注意 null 也为object\r\n                    if (typeof _obj[_i] == 'object' && _obj[_i]) {\r\n                        _obj[_i] = this.getProxyData(_obj[_i]);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            return _obj;\r\n        }\r\n        //返回代理对象\r\n        return new Proxy<any>(_obj, {\r\n            set: (target, key, value) => {\r\n                this.proxyDataSet(target, key, value);\r\n                return true;\r\n            },\r\n        });\r\n    }\r\n\r\n    /** 代理数据被设置时调用 */\r\n    protected proxyDataSet(target, key, value) {\r\n        console.log('数据属性改变', target, key, value);\r\n        //如果赋的值是一个对象则继续监听\r\n        if (typeof value == 'object' && value && !Array.prototype.isPrototypeOf(target)) {\r\n            target[key] = this.getProxyData(value);\r\n        } else {\r\n            target[key] = value;\r\n        }\r\n        //保存数据\r\n        this._SaveToDisk(this._saveData);\r\n    }\r\n\r\n    /** 初始化完成，继承使用 */\r\n    protected _initData() { }\r\n\r\n    /**\r\n     * 保存数据到本地\r\n     */\r\n    protected _SaveToDisk(_saveData: T) {\r\n        let json = JSON.stringify(_saveData);\r\n        Laya.LocalStorage.setJSON(this.saveName, json);\r\n        //判断是否是线上环境\r\n        if (MainConfig.OnLine && this._ifDifferData) {\r\n            //获取对比数据\r\n            let _differJson = this.getDifferData(json);\r\n            //保存对比数据\r\n            Laya.LocalStorage.setJSON(this.differName, _differJson);\r\n        }\r\n    }\r\n\r\n    //从本地获取数据\r\n    protected _ReadFromFile(): T {\r\n        let readStr = Laya.LocalStorage.getJSON(this.saveName);\r\n        //判断是否是线上环境\r\n        if (MainConfig.OnLine && this._ifDifferData) {\r\n            //对比数据\r\n            let _differ = Laya.LocalStorage.getJSON(this.differName);\r\n            if (this.getDifferData(readStr) != _differ) {\r\n                return this._saveNewData();\r\n            }\r\n        }\r\n        let _saveData: T = this.getNewData();\r\n        _saveData.versions = undefined;\r\n        //判断数据是否被篡改\r\n        try {\r\n            if (!StringUtils.IsNullOrEmpty(readStr)) {\r\n                let jsonData = JSON.parse(readStr);\r\n                for (let key in jsonData) {\r\n                    _saveData[key] = jsonData[key];\r\n                }\r\n            } else {\r\n                return this._saveNewData();\r\n            }\r\n        }\r\n        catch {\r\n            return this._saveNewData();\r\n        }\r\n        //判断数据版本\r\n        if (_saveData.versions == MainConfig.versions) {\r\n            return _saveData as T;\r\n        } else {\r\n            return this._saveNewData();\r\n        }\r\n    }\r\n\r\n    //获取并保存一个新数据\r\n    private _saveNewData(): T {\r\n        let _saveData: T = this.getNewData();\r\n        //设置相关数据\r\n        _saveData.versions = MainConfig.versions;\r\n        _saveData.GameName = MainConfig.GameName;\r\n        _saveData.GameExplain = MainConfig.GameExplain;\r\n        //保存数据\r\n        this._SaveToDisk(_saveData as T);\r\n        //\r\n        return _saveData as T;\r\n    }\r\n\r\n    /**\r\n     * 获取一个新的数据\r\n     * 当数据出现问题时会重构数据\r\n     */\r\n    protected abstract getNewData(): T;\r\n\r\n    //处理对比数据\r\n    private getDifferData(_string: string): string {\r\n        //判断是否为空\r\n        if (StringUtils.IsNullOrEmpty(_string)) return '';\r\n        //加密\r\n        return this.encrypt(_string);\r\n    }\r\n\r\n    //加密\r\n    private encrypt(_string: string) {\r\n        let _encryptStr: string = 'LayaMiniGame' + '-(-' + _string + '-)' + '-ModifiedWithout-' + MainConfig.GameName + '-' + MainConfig.versions;\r\n        //判断能否使用md5\r\n        if (Md5.ifUse) {\r\n            return Md5.hashStr(_encryptStr).toString();\r\n        } else {\r\n            //使用base64\r\n            return Base64.encode(_encryptStr);\r\n        }\r\n    }\r\n}","/**\r\n * 游戏数据基类\r\n * 会有一个返回副本的方法，防止被修改\r\n */\r\nexport default abstract class RootGameData {\r\n    /** 返回一个副本 */\r\n    public abstract clone(): RootGameData;\r\n}","import RootGameData from \"./RootGameData\";\r\n\r\n/**\r\n * 本地保存数据基类\r\n * 会同步项目的版本\r\n */\r\nexport default class RootLocalStorageData extends RootGameData {\r\n    /** 游戏名字 */\r\n    public GameName: string;\r\n    /** 游戏说明 */\r\n    public GameExplain: string;\r\n    /** 数据版本 */\r\n    public versions: string;\r\n\r\n    /** 返回一个副本 */\r\n    public clone(): RootLocalStorageData {\r\n        return;\r\n    }\r\n}","import { ECommonLeve } from \"../../aTGame/Commom/CommonLeveEnum\";\r\nimport RootLocalStorageData from \"../../aTGame/Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 游戏需要持久化的主要数据\r\n */\r\nexport default class GameData extends RootLocalStorageData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n\r\n    /** 最大关卡数量 */\r\n    public maxCustoms: number = 0;\r\n\r\n    /** 是否打开背景音乐 */\r\n    public ifOpenBgm: boolean = true;\r\n\r\n    /** 是否打开音效 */\r\n    public ifOpenSound: boolean = true;\r\n\r\n    /** 是否打开振动 */\r\n    public ifOpenVibrate: boolean = true;\r\n\r\n    /** 金币数量 */\r\n    public coinCount: number = 0;\r\n\r\n    /** 当前关卡 默认为调试关卡 */\r\n    public onCustoms: number = ECommonLeve.DebugLeveId;\r\n\r\n    /** 最大关卡记录 */\r\n    public maxCustomsRecord: number = 1;\r\n}","import { ECommonLeve } from '../../aTGame/Commom/CommonLeveEnum';\r\nimport RootLocalStorageProxy from '../../aTGame/Data/RootLocalStorageProxy';\r\nimport GameData from './GameData';\r\n\r\n/**\r\n * 数据保存类\r\n */\r\nexport default class GameDataProxy extends RootLocalStorageProxy<GameData>{\r\n    //\r\n    private static _instance: GameDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GameDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GameDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->GameData<-\";\r\n    }\r\n\r\n    /** 获取原始数据 */\r\n    public static get rootData(): GameData {\r\n        //\r\n        return this._instance._saveData;\r\n    }\r\n\r\n    /**\r\n     * 获取当前游戏数据的副本\r\n     */\r\n    public static get gameData(): GameData {\r\n        //返回一个副本防止被修改\r\n        return this._instance._saveData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    /**\r\n     * 初始化关卡数据\r\n     * @param _maxCustoms 最大关卡数量\r\n     */\r\n    public static initCustoms(_maxCustoms: number) {\r\n        //化整\r\n        _maxCustoms = Math.floor(_maxCustoms);\r\n        //\r\n        if (this._instance._saveData.maxCustoms == _maxCustoms) { return; }\r\n        //\r\n        this._instance._saveData.maxCustoms = _maxCustoms;\r\n        if (this._instance._saveData.onCustoms > _maxCustoms) {\r\n            this._instance._saveData.onCustoms = _maxCustoms;\r\n        }\r\n        if (this._instance._saveData.maxCustomsRecord > _maxCustoms) {\r\n            this._instance._saveData.maxCustomsRecord = _maxCustoms;\r\n        }\r\n        this.SaveToDisk();\r\n    }\r\n\r\n    /**\r\n     * 判断是否是新手关卡\r\n     */\r\n    public static ifNewHandCustoms(): boolean {\r\n        return this._instance._saveData.onCustoms == ECommonLeve.NewHandLeveId && this._instance._saveData.maxCustomsRecord <= ECommonLeve.NewHandLeveId;\r\n    }\r\n\r\n    /**\r\n     * 设置是否打开背景音乐\r\n     * @param _b 状态\r\n     */\r\n    public static setIfOpenBGM(_b: boolean) {\r\n        this._instance._saveData.ifOpenBgm = _b;\r\n        this.SaveToDisk();\r\n    }\r\n\r\n    /**\r\n     * 设置是否打开音效\r\n     * @param _b 状态\r\n     */\r\n    public static setIfOpenSound(_b: boolean) {\r\n        this._instance._saveData.ifOpenSound = _b;\r\n        this.SaveToDisk();\r\n    }\r\n\r\n    /**\r\n     * 设置是否打开振动\r\n     * @param _b 状态\r\n     */\r\n    public static setIfOpenVibrate(_b: boolean) {\r\n        this._instance._saveData.ifOpenVibrate = _b;\r\n        this.SaveToDisk();\r\n    }\r\n\r\n    /**\r\n     * 设置当前关卡id\r\n     * @param _n 关卡id\r\n     */\r\n    public static setCustoms(_n: number) {\r\n        //化整\r\n        _n = Math.floor(_n);\r\n        //\r\n        if (_n > this._instance._saveData.maxCustoms) {\r\n            return;\r\n        }\r\n        this._instance._saveData.onCustoms = _n;\r\n    }\r\n\r\n    /**\r\n     * 增加关卡\r\n     * @param _number 增加关卡数量\r\n     * @return 是否增加成功\r\n     */\r\n    public static addCustoms(_number: number = 1): boolean {\r\n        //化整\r\n        _number = Math.floor(_number);\r\n        //设置当前关卡\r\n        let _sum: number = this._instance._saveData.onCustoms + _number;\r\n        let _win: boolean = false;\r\n        if (_sum <= this._instance._saveData.maxCustoms) {\r\n            this._instance._saveData.onCustoms = _sum;\r\n            if (_sum > this._instance._saveData.maxCustomsRecord) {\r\n                this._instance._saveData.maxCustomsRecord = _sum;\r\n            }\r\n            _win = true;\r\n        } else {\r\n            this._instance._saveData.onCustoms = ECommonLeve.DefaultLeveId;\r\n            _win = true;\r\n        }\r\n        //保存记录\r\n        this.SaveToDisk();\r\n        //\r\n        return _win;\r\n    }\r\n\r\n    /**\r\n     * 返回默认的关卡\r\n     */\r\n    public static getDefaultCustoms(): number {\r\n        if (this._instance._saveData.onCustoms > this._instance._saveData.maxCustoms) {\r\n            this._instance._saveData.onCustoms = ECommonLeve.DefaultLeveId;\r\n            //保存数据\r\n            this.SaveToDisk();\r\n        }\r\n        return this._instance._saveData.onCustoms;\r\n    }\r\n\r\n    /**\r\n     * 返回需要预加载的关卡id\r\n     */\r\n    public static getPreloadCustoms(): number {\r\n        return this.getNextCustoms();\r\n    }\r\n\r\n    /**\r\n     * 获取下一个关卡\r\n     */\r\n    public static getNextCustoms(): number {\r\n        let _customs: number = this._instance._saveData.onCustoms + 1;\r\n        if (_customs > this._instance._saveData.maxCustoms) {\r\n            _customs = ECommonLeve.DefaultLeveId;\r\n        }\r\n        //\r\n        return _customs;\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): GameData {\r\n        return new GameData();\r\n    }\r\n\r\n    /**\r\n     * 保存到本地 （改变本地数据时调用）\r\n     */\r\n    public static SaveToDisk() {\r\n        this._instance._SaveToDisk(this._instance._saveData);\r\n    }\r\n}","export namespace EnvironmentConfig {\r\n    export class config {\r\n        /** 关卡id */ readonly id: number;\r\n        /** 摄像机清除颜色 */ readonly clear_color: string;\r\n        /** 环境光颜色 */ readonly ambient_color: string;\r\n        /** 灯光颜色 */ readonly light_color: string;\r\n        /** 灯光强度 */ readonly light_intensity: number;\r\n    }\r\n    export var data : {[key: number]: EnvironmentConfig.config};\r\n    export var dataList : EnvironmentConfig.config[];\r\n    export var lastData : EnvironmentConfig.config;\r\n    export const path = \"res/config/EnvironmentConfig.json\";\r\n}\r\n\r\n\r\n","import { EnvironmentConfig } from \"../_config/EnvironmentConfig\";\r\nimport BaseConfigDataProxy from \"../../aTGame/Config/RootDataProxy\";\r\n/**\r\n * 环境数据处理类\r\n */\r\nexport default class EnvironmentConfigProxy extends BaseConfigDataProxy<EnvironmentConfig.config> {\r\n    //\r\n    private static _instance: EnvironmentConfigProxy;\r\n    /** 单例 */\r\n    public static get instance(): EnvironmentConfigProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new EnvironmentConfigProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    //初始化\r\n    protected initData() {\r\n        this.m_dataList = EnvironmentConfig.dataList;\r\n    }\r\n\r\n    /**\r\n     * 通过关卡id获取环境数据\r\n     * @param _id id\r\n     */\r\n    public byLevelIdGetData(_id: number): EnvironmentConfig.config {\r\n        return this.m_dataList.find((item) => {\r\n            return item.id == _id;\r\n        });\r\n    }\r\n}\r\n","export namespace OtherEnvironmentConfig {\r\n    export class config {\r\n        /** 关卡id */ readonly id: number;\r\n        /** 关卡名字 */ readonly name: string;\r\n        /** 摄像机清除颜色 */ readonly clear_color: string;\r\n        /** 环境光颜色 */ readonly ambient_color: string;\r\n        /** 灯光颜色 */ readonly light_color: string;\r\n        /** 灯光强度 */ readonly light_intensity: number;\r\n    }\r\n    export var data : {[key: number]: OtherEnvironmentConfig.config};\r\n    export var dataList : OtherEnvironmentConfig.config[];\r\n    export var lastData : OtherEnvironmentConfig.config;\r\n    export const path = \"res/config/OtherEnvironmentConfig.json\";\r\n}\r\n\r\n\r\n","import BaseConfigDataProxy from \"../../aTGame/Config/RootDataProxy\";\r\nimport { OtherEnvironmentConfig } from \"../_config/OtherEnvironmentConfig\";\r\n/**\r\n * 其他关卡环境数据处理类\r\n */\r\nexport default class OtherEnvironmentConfigProxy extends BaseConfigDataProxy<OtherEnvironmentConfig.config> {\r\n    //\r\n    private static _instance: OtherEnvironmentConfigProxy;\r\n    /** 单例 */\r\n    public static get instance(): OtherEnvironmentConfigProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new OtherEnvironmentConfigProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    //初始化\r\n    protected initData() {\r\n        this.m_dataList = OtherEnvironmentConfig.dataList;\r\n    }\r\n\r\n    /**\r\n     * 通过关卡id获取环境数据\r\n     * @param _id id\r\n     */\r\n    public byLevelIdGetData(_id: number): OtherEnvironmentConfig.config {\r\n        return this.m_dataList.find((item) => {\r\n            return item.id == _id;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 关卡名字获取数据\r\n     * @param _name 关卡名字\r\n     */\r\n    public byLevelNameGetData(_name: string): OtherEnvironmentConfig.config {\r\n        return this.m_dataList.find((item) => {\r\n            return item.name == _name;\r\n        });\r\n    }\r\n}\r\n","import { EnvironmentConfig } from '../_config/EnvironmentConfig';\r\nimport ColorUtils from '../../aTGame/Utils/ColorUtils';\r\nimport Global3D from '../../aTGame/3D/Global3D';\r\nimport IRootManager from '../../aTGame/Manager/IRootManager';\r\nimport { EEventScene } from '../EventEnum/EEventScene';\r\nimport MesManager from './MesManager';\r\nimport GameDataProxy from '../GameData/GameDataProxy';\r\nimport { EOtherLevelName } from '../Enum/EOtherLevelName';\r\nimport { OtherEnvironmentConfig } from '../_config/OtherEnvironmentConfig';\r\nimport EnvironmentConfigProxy from '../ConfigProxy/EnvironmentConfigProxy';\r\nimport OtherEnvironmentConfigProxy from '../ConfigProxy/OtherEnvironmentProxy';\r\n/**\r\n * 环境管理器，负责场景的环境管理\r\n */\r\nexport default class EnvironmentManager implements IRootManager {\r\n    //\r\n    private static m_instance: EnvironmentManager;\r\n    /** 单例 */\r\n    public static get instance(): EnvironmentManager {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new EnvironmentManager();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    //默认\r\n    private m_s3d: Laya.Scene3D;//3d根节点\r\n    private m_camera: Laya.Camera;//摄像机\r\n    private m_scene: Laya.Sprite3D;//当前场景\r\n    //\r\n    private m_light: Laya.DirectionLight;//灯光\r\n    private m_enviromentConfig: EnvironmentConfig.config;//环境配置数据\r\n    //\r\n    private m_ifSetS3D: boolean;//是否设置过场景\r\n\r\n    /** 初始化 */\r\n    public init() {\r\n        this.m_s3d = Global3D.s3d;\r\n        this.m_camera = Global3D.camera;\r\n        this.m_light = Global3D.light;\r\n    }\r\n\r\n    /**\r\n     * 设置环境\r\n     * @param _scene 当前场景\r\n     */\r\n    public setEnvironment(_scene: Laya.Sprite3D) {\r\n        this.m_scene = _scene;\r\n        let _lv: number = GameDataProxy.gameData.onCustoms;\r\n        this.m_enviromentConfig = EnvironmentConfigProxy.instance.byLevelIdGetData(_lv);\r\n        console.log('关卡环境配置参数->' + _lv + '->', this.m_enviromentConfig);\r\n        //根据配置数据设置相关状态\r\n        this.setS3D(this.m_s3d);\r\n        this.setCamera(this.m_camera, this.m_enviromentConfig.clear_color);\r\n        this.setLight(this.light, this.m_enviromentConfig.light_color, this.m_enviromentConfig.light_intensity);\r\n        this.addAmbient(this.s3d, this.m_enviromentConfig.ambient_color);\r\n        //监听事件\r\n        MesManager.instance.on3D(EEventScene.GameLevelsDelete, this, this.gameLevelsDelete);\r\n    }\r\n\r\n    /**\r\n     * 设置其他场景环境\r\n     * @param _name 场景名字\r\n     * @param _scene 场景精灵\r\n     * @param _camera 摄像机\r\n     * @param _light 灯光\r\n     */\r\n    public setOtherEnvironment(_name: EOtherLevelName, _scene: Laya.Sprite3D, _s3d: Laya.Scene3D = this.m_s3d, _camera: Laya.Camera = this.m_camera, _light: Laya.DirectionLight = this.m_light) {\r\n        let _enviromentConfig: OtherEnvironmentConfig.config = OtherEnvironmentConfigProxy.instance.byLevelNameGetData(_name);\r\n        console.log('关卡环境配置参数->' + _name + '->', _enviromentConfig);\r\n        this.setCamera(_camera, _enviromentConfig.clear_color);\r\n        this.setLight(_light, _enviromentConfig.light_color, _enviromentConfig.light_intensity);\r\n        this.addAmbient(_s3d, _enviromentConfig.ambient_color);\r\n    }\r\n\r\n    /** 3d根节点 */\r\n    public get s3d(): Laya.Scene3D {\r\n        return this.m_s3d;\r\n    }\r\n    /** 摄像机 */\r\n    public get camera(): Laya.Camera {\r\n        return this.m_camera;\r\n    }\r\n    /** 当前场景 */\r\n    public get scene(): Laya.Sprite3D {\r\n        return this.m_scene;\r\n    }\r\n    /** 灯光 */\r\n    public get light(): Laya.DirectionLight {\r\n        return this.m_light;\r\n    }\r\n\r\n    //设置场景\r\n    private setS3D(_s3d: Laya.Scene3D) {\r\n        if (this.m_ifSetS3D) return;\r\n        this.m_ifSetS3D = true;\r\n        //\r\n    }\r\n\r\n    //设置摄像机\r\n    private setCamera(_camera: Laya.Camera, _clear_color: string) {\r\n        //设置清除颜色\r\n        _camera.clearColor = ColorUtils.HexToV4(_clear_color);\r\n    }\r\n\r\n    //设置灯光\r\n    private setLight(_light: Laya.DirectionLight, _color: string, _instensity: number) {\r\n        //\r\n        _light.color = ColorUtils.HexToV3(_color);\r\n        _light.intensity = _instensity;\r\n        //灯光开启阴影\r\n        _light.shadowMode = Laya.ShadowMode.SoftLow;\r\n        _light.shadowResolution = 2500;\r\n        _light.shadowNormalBias = 0.5;\r\n    }\r\n\r\n    //加环境光\r\n    private addAmbient(_s3d: Laya.Scene3D, _color: string) {\r\n        //设置环境光\r\n        _s3d.ambientMode = Laya.AmbientMode.SolidColor;\r\n        _s3d.ambientColor = ColorUtils.HexToV3(_color);\r\n    }\r\n\r\n    //加雾化\r\n    private addFog(_scene: Laya.Scene3D, _color: string, _fogRange: number, _fogStart: number) {\r\n        //\r\n        _scene.enableFog = true;\r\n        _scene.fogColor = ColorUtils.HexToV3(_color);\r\n        _scene.fogRange = _fogRange;\r\n        _scene.fogStart = _fogStart;\r\n    }\r\n\r\n    //删除场景\r\n    private gameLevelsDelete() {\r\n        //\r\n    }\r\n}","import BasePrefabPro from '../z_T/pro/BasePrefabPro';\r\nimport CameraScr from '../b_Script/CameraScr';\r\nimport ValueConst from '../../Common/ValueConst';\r\nimport EnvironmentManager from '../../Manager/EnvironmentManager';\r\nimport ConsoleEx from '../../../aTGame/Console/ConsoleEx';\r\n/**\r\n * 摄像机加工者\r\n */\r\nexport default class CameraPro extends BasePrefabPro {\r\n    //\r\n    protected ifAddProStampScript: boolean = false;//是否添加工厂印记\r\n    private m_camera: Laya.Camera;//摄像机\r\n    private m_cameraNode: Laya.Sprite3D;//摄像机外围节点\r\n    private m_rootPos: Laya.Vector3;//摄像机原始位置\r\n    private m_rootAng: Laya.Vector3;//摄像机原始旋转\r\n    private m_Scr: CameraScr;//摄像机脚本\r\n\r\n    //物体初始化完成后的生命周期函数\r\n    protected sprInit() {\r\n        if (!this.m_camera) {\r\n            if (!this.m_sprList[0]) {\r\n                console.log(...ConsoleEx.packError('没有找到摄像机!'));\r\n            }\r\n            //\r\n            this.m_camera = this.m_sprList[0] as Laya.Camera;\r\n            this.m_cameraNode = new Laya.Sprite3D();\r\n            this.m_rootPos = this.m_camera.transform.position.clone();\r\n            this.m_rootAng = this.m_camera.transform.rotationEuler.clone();\r\n            this.m_rootAng.x = -this.m_rootAng.x;\r\n            this.m_rootAng.y = this.m_rootAng.y - 180;\r\n            this.m_cameraNode.addChild(this.m_camera);\r\n            this.m_camera.transform.localPosition = ValueConst.zeroV3;\r\n            this.m_camera.transform.localRotationEuler = new Laya.Vector3(0, -180, 0);\r\n            //给摄像机添加脚本\r\n            this.m_Scr = this.addScript<CameraScr>(this.m_camera, CameraScr);\r\n            //设置节点\r\n            this.m_Scr.cameraNode = this.m_cameraNode;\r\n            //添加到根节点\r\n            EnvironmentManager.instance.s3d.addChild(this.m_cameraNode);\r\n        }\r\n        //回到初始位置\r\n        this.m_cameraNode.transform.position = this.m_rootPos;\r\n        //回到初始旋转\r\n        this.m_cameraNode.transform.rotationEuler = new Laya.Vector3(this.m_rootAng.x, this.m_rootAng.y, 0);\r\n        //初始化\r\n        this.m_Scr.init();\r\n    }\r\n}","import BasePrefabPro from '../z_T/pro/BasePrefabPro';\r\nimport { HeightFogManager } from '../../../aTGame/3D/material/HeightFogManager';\r\nimport { LTBlinnPhong_HeightFog } from '../../../aTGame/3D/material/LTBlinnPhong_HeightFog';\r\nimport ColorUtils from '../../../aTGame/Utils/ColorUtils';\r\n/**\r\n * 高度雾效加工者\r\n */\r\nexport default class HeightFogCubePro extends BasePrefabPro {\r\n    protected ifAddProStampScript: boolean = false;//是否添加工厂印记\r\n    // 加高度雾小\r\n    // private addHightFog(_color: string){\r\n    //     HeightFogManager.instance.fogColor = ColorUtils.HexToV3(_color);\r\n    //     HeightFogManager.instance.fogDistance = 300;\r\n    //     HeightFogManager.instance.fogStartHeight = 100;\r\n    //     let _shareMat: LTBlinnPhong_HeightFog;\r\n    //     let _cubes: Laya.Sprite3D[] = [];\r\n    //     let _getChild: Laya.MeshSprite3D;\r\n    //     for(let _o of _cubes){\r\n    //         for (let i = 0; i < _o.numChildren; ++i) {\r\n    //             _getChild = _o.getChildAt(i) as Laya.MeshSprite3D;\r\n    //             if(_getChild){\r\n    //                 _shareMat = _shareMat || LTBlinnPhong_HeightFog.CreateFromBlinnPhong(_getChild.meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial);\r\n    //                 _getChild.meshRenderer.sharedMaterial = _shareMat;\r\n    //             }\r\n    //         }\r\n    //     }\r\n    // }\r\n}","import RootClassProxy from \"../../aTGame/Root/RootClassProxy\";\r\nimport BasePrefabPro from './z_T/pro/BasePrefabPro';\r\nimport { EProcessor } from './c_Enum/EProcessor';\r\nimport CameraPro from './d_SpecialPro/CameraPro';\r\nimport HeightFogCubePro from './d_SpecialPro/HeightFogCubePro';\r\n\r\n/**\r\n * ProManager代理类 代理ProManager类的一些数据\r\n */\r\nexport default class ProManagerProxy extends RootClassProxy {\r\n    //单例\r\n    private static _instance: ProManagerProxy;\r\n    /** 单例对象 */\r\n    public static get instance(): ProManagerProxy {\r\n        if (this._instance) {\r\n            return this._instance;\r\n        } else {\r\n            this._instance = new ProManagerProxy();\r\n            return this._instance;\r\n        }\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //加工者列表\r\n    public ProList: { [index: string]: BasePrefabPro };\r\n\r\n    /**\r\n     * 获取某个加工者\r\n     * @param _pro 加工者名字枚举\r\n     */\r\n    public getPro<_Pro extends BasePrefabPro>(_pro: EProcessor): _Pro {\r\n        return this.ProList[_pro] as _Pro;\r\n    }\r\n\r\n    //* ----- 默认加工者----- * //\r\n\r\n    /** 获取摄像机加工者 */\r\n    public get cameraPro(): CameraPro {\r\n        return this.getPro<CameraPro>(EProcessor.CameraPro) as CameraPro;\r\n    }\r\n\r\n    /** 获取高度雾效加工者 */\r\n    public get heightFogCubePro(): HeightFogCubePro {\r\n        return this.getPro<HeightFogCubePro>(EProcessor.HeightFogCubePro) as HeightFogCubePro;\r\n    }\r\n\r\n    //* ----- 其他加工者----- * //\r\n}","/**\r\n * Prefabs 场景的所有预制体名字\r\n * ! 此文件是Unnity自动导出的，不要修改，也不要直接依赖。\r\n */\r\nexport default class _PrefabsPrefabName {\r\n    //所有预制体\n    //---->\n    public static readonly Camera: string = 'Camera';\n    public static readonly DirectionalLight: string = 'DirectionalLight';\n    public static readonly Cube: string = 'Cube';\n    public static readonly Sphere: string = 'Sphere';\n    public static readonly Cylinder: string = 'Cylinder';\n    //所有隐藏的节点都会当成注释，分类除外\n\r\n}\r\n\r\n/**\r\n * Prefabs 场景的所有预制体名字分类\r\n */\r\nexport class _PrefabsPrefabClass { \r\n    \n    /**\n    * 测试分类\n    */\n    public static get GetDebugClass(): string[] {\n        //返回数据\n        return [\n            'Cube',\n            'Sphere',\n            'Cylinder',\n        ];\n    }\n\r\n}\r\n//","import _PrefabsPrefabName from \"../_prefabsName/_PrefabsPrefabNames\";\r\nimport { _PrefabsPrefabClass } from \"../_prefabsName/_PrefabsPrefabNames\";\r\n\r\n/**\r\n * 所有预制体名字\r\n */\r\nexport default class PrefabNames extends _PrefabsPrefabName {\r\n    //* 默认预制体\r\n    public static readonly Camera: string = 'camera';//相机\r\n    public static readonly Environment: string = 'environment';//环境\r\n    public static readonly HeightFog: string = 'heightFog';//高度雾效\r\n    //\r\n}\r\n\r\n\r\n/**\r\n * 预制体集类\r\n */\r\nexport class PrefabsGather extends _PrefabsPrefabClass {\r\n    //\r\n}","import RootProManager from './z_T/RootProManager';\r\nimport { EProcessor } from './c_Enum/EProcessor';\r\nimport CameraPro from './d_SpecialPro/CameraPro';\r\nimport HeightFogCubePro from './d_SpecialPro/HeightFogCubePro';\r\nimport { ProManagerSprList } from './z_T/RootProManager';\r\nimport ProManagerProxy from './ProManagerProxy';\r\nimport EnvironmentManager from '../Manager/EnvironmentManager';\r\nimport PrefabNames from '../ResList/PrefabNames';\r\nimport { EOtherLevelName } from '../Enum/EOtherLevelName';\r\n/**\r\n * 预制体工管理类\r\n */\r\nexport default class ProManager extends RootProManager {\r\n    //单例\r\n    private static _instance: ProManager;\r\n    /** 单例对象 */\r\n    public static get instance(): ProManager {\r\n        if (this._instance) {\r\n            return this._instance;\r\n        } else {\r\n            this._instance = new ProManager();\r\n            return this._instance;\r\n        }\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //初始化\r\n    protected init() {\r\n        //设置加工者代理\r\n        ProManagerProxy.instance.ProList = this.m_proList;\r\n    }\r\n\r\n    //注册加工者\r\n    protected register() {\r\n        //默认加工者\r\n        this.m_proList[EProcessor.CameraPro] = new CameraPro(EProcessor.CameraPro);\r\n        this.m_proList[EProcessor.HeightFogCubePro] = new HeightFogCubePro(EProcessor.HeightFogCubePro);\r\n        //\r\n    }\r\n\r\n    //分配预制体\r\n    protected allotPrefab(_prefabs: ProManagerSprList) {\r\n        //\r\n        this.m_proList[EProcessor.CameraPro].startPor({ [PrefabNames.Camera]: [EnvironmentManager.instance.camera] });\r\n        this.m_proList[EProcessor.HeightFogCubePro].startPor({ [PrefabNames.HeightFog]: _prefabs[PrefabNames.HeightFog] });\r\n        //开始分配\r\n    }\r\n\r\n    //分配调度者\r\n    protected allotMediator() {\r\n        //\r\n    }\r\n\r\n    //分配其他关卡预制体\r\n    protected allotOtherScenePrefab(_sceneName: EOtherLevelName, _prefabs: ProManagerSprList) {\r\n        //\r\n    }\r\n\r\n    //分配其他关卡加工者调度者\r\n    protected allotOtherSceneMediator(_sceneName: EOtherLevelName) {\r\n        //\r\n    }\r\n}","/**\r\n * 所有的UI事件\r\n * ! 都能抛出，但是不能被Scene监听\r\n */\r\nexport enum EEventUI {\r\n    /** 看广告 */\r\n    LookAd = '_EEventUI_LookAd',\r\n    /** 看完广告 */\r\n    UnLookAd = '_EEventUI_UnLookAd',\r\n    /** 关卡改变 */\r\n    CustomsChange = '_EEventUI_CustomsChange',\r\n    /** 游戏开始 */\r\n    GameStart = '_EEventUI_Start',\r\n    /** 游戏结束 */\r\n    GameEnd = '_EEventUI_GameEnd',\r\n    /** 游戏暂停 */\r\n    GamePasue = '_EEventUI_GamePause',\r\n    /** 游戏继续 */\r\n    GameResume = '_EEventUI_GameResume',\r\n    /** 游戏完成 */\r\n    GameCom = '_EEventUI_GameCom',\r\n    /** 游戏胜利 */\r\n    GameWin = \"_EEventUI_GameWin\",\r\n    /** 游戏失败 */\r\n    GameFail = \"_EEventUI_GameFail\",\r\n    /** 角色死亡 */\r\n    RoleDie = '_EEventUI_RoleDie',\r\n    /** 角色复活 */\r\n    RoleRevive = '_EEventUI_RoleRevive',\r\n    /** 金币改变 */\r\n    GameCoinChange = \"_EEventUI_GameCoinChange\",\r\n    /** 音效状态改变 */\r\n    SoundStateChange = '_EEventUI_SoundStateChange',\r\n    /** 振动状态改变 */\r\n    VibrateStateChange = '_EEventUI_VibrateStateChange',\r\n\r\n    //场景相关\r\n\r\n    /** 初始化关卡 */\r\n    SceneGameCustomsInit = '_EEventUI_SceneGameCustomsInit',\r\n    /** 关卡加载事件 */\r\n    SceneGameCustomsLoading = '_EEventUI_SceneGameCustomsLoading',\r\n    /** 场景关卡销毁 */\r\n    SceneGameCustomDelete = '_EEventUI_SceneGameCustomDelete',\r\n}","import ConManager from '../Control/ConManager';\r\nimport Scene from '../../aTGame/3D/Scene';\r\nimport SceneManager from '../../aTGame/3D/SceneManager';\r\nimport { Const } from '../Common/Const';\r\nimport ProManager from '../PrefabProcessor/ProManager';\r\nimport EnvironmentManager from './EnvironmentManager';\r\nimport IRootManager from '../../aTGame/Manager/IRootManager';\r\nimport MesManager from './MesManager';\r\nimport { EEventScene } from '../EventEnum/EEventScene';\r\nimport { EEventUI } from '../EventEnum/EEventUI';\r\nimport GameDataProxy from '../GameData/GameDataProxy';\r\nimport LevelConfigProxy from '../ConfigProxy/LevelConfigProxy';\r\nimport { EOtherLevelName } from '../Enum/EOtherLevelName';\r\n/**\r\n * 关卡管理器\r\n * 3D游戏实际从这里开始，沟通外界创建和销毁场景\r\n */\r\nexport default class CustomsManager implements IRootManager {\r\n    //\r\n    private static m_instance: CustomsManager;\r\n    /** 单例 */\r\n    public static get instance(): CustomsManager {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new CustomsManager();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    //是否初始化\r\n    private m_ifInit: boolean = false;\r\n    //记录场景\r\n    private m_scene: Scene;\r\n    //场景是否在加载\r\n    private m_ifSceneBuild: boolean;\r\n    //其他场景缓存\r\n    private m_otherScene: { [index: string]: Scene } = {};\r\n\r\n    /** 场景是否在加载 */\r\n    public get ifSceneBuild(): boolean {\r\n        return this.m_ifSceneBuild;\r\n    }\r\n\r\n    /**\r\n     * 初始化,场景的一切都从这里开始\r\n     */\r\n    public init() {\r\n        //\r\n        this.m_ifSceneBuild = false;\r\n        //初始化关卡数据\r\n        GameDataProxy.initCustoms(LevelConfigProxy.instance.getLevelNumber());\r\n        //监听事件\r\n        MesManager.instance.on3D(EEventScene.GameLevelsBuild, this, this.gameLevelsBuild);\r\n        MesManager.instance.on3D(EEventScene.GameLevelsDelete, this, this.gameLevelsDelete);\r\n        MesManager.instance.on3D(EEventScene.GameOtherLevelsBuild, this, this.gameOtherLevelsBuild);\r\n        MesManager.instance.on3D(EEventScene.GameOtherLevelsDelete, this, this.gameOtherLevelsDelete);\r\n    }\r\n\r\n    /**\r\n     * 初始场景构建\r\n     */\r\n    public initLevelBuild() {\r\n        //直接构建关卡\r\n        this.gameLevelsBuild();\r\n    }\r\n\r\n    /**\r\n     * 游戏主场景构建\r\n     */\r\n    private gameLevelsBuild(_handler?: Laya.Handler) {\r\n        //判断是否有场景在构建\r\n        if (this.m_ifSceneBuild) {\r\n            console.warn('有场景正在构建！');\r\n            return;\r\n        }\r\n        //\r\n        let lvId: number;\r\n        //判断游戏是否已经初始化\r\n        if (this.m_ifInit) {\r\n            lvId = GameDataProxy.gameData.onCustoms;\r\n        } else {\r\n            this.m_ifInit = true;\r\n            // 获取默认关卡\r\n            lvId = GameDataProxy.getDefaultCustoms();\r\n        }\r\n        //\r\n        let scene = SceneManager.instance.getSceneByLv(lvId);\r\n        this.m_scene = scene;\r\n        //构建场景\r\n        this.m_ifSceneBuild = true;//开始加载\r\n        //显示loading页面\r\n        MesManager.instance.event3D(EEventScene.GameLevelsBuildBefore);\r\n        MesManager.instance.eventUI(EEventUI.SceneGameCustomsLoading, [-1]);\r\n        scene.buildScene(Laya.Handler.create(this, this.customsProgress, null, false)).then((_sceneSpr: Laya.Sprite3D) => {\r\n            //\r\n            this.m_ifSceneBuild = false;//加载结束\r\n            //设置环境管理器\r\n            EnvironmentManager.instance.setEnvironment(this.m_scene.scene);\r\n            //分配预制体到预制体工厂\r\n            ProManager.instance.AllotPre(scene.prefabs);\r\n            //添加控制器\r\n            ConManager.addScrCon(scene.scene);//依赖脚本的控制器\r\n            ConManager.addCommonCon();//没有任何依赖的控制器\r\n            //预加载场景\r\n            if (Const.ifPreloadCustoms) {\r\n                let _preloadCustoms: number = GameDataProxy.getPreloadCustoms();\r\n                SceneManager.instance.preloadSceneRes(_preloadCustoms);\r\n            }\r\n            this.onCustomsInit(lvId);\r\n            //判断是否有构建完成回调\r\n            if (_handler) {\r\n                _handler.run();\r\n            }\r\n            //抛出事件场景初始化完成\r\n            MesManager.instance.event3D(EEventScene.GameLevelsOnBuild);\r\n            //显示隐藏页面\r\n            MesManager.instance.eventUI(EEventUI.SceneGameCustomsInit);\r\n        });\r\n    }\r\n\r\n    //关卡加载完成执行\r\n    private onCustomsInit(_lvId: number) {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 关卡加载进度\r\n     * @param _number 进度值，在0~1之间 \r\n     */\r\n    private customsProgress(_number: number) {\r\n        //判断是否在加载\r\n        if (!this.m_ifSceneBuild) return;\r\n        if (typeof _number == 'undefined') {\r\n            _number = 1;\r\n        }\r\n        //发送关卡加载事件\r\n        MesManager.instance.eventUI(EEventUI.SceneGameCustomsLoading, [_number * 100]);\r\n    }\r\n\r\n    //游戏结束销毁关卡\r\n    private gameLevelsDelete() {\r\n        //关卡删除前事件\r\n        MesManager.instance.event3D(EEventScene.GameLevelsDeleteBefore);\r\n        //销毁上一个场景\r\n        if (this.m_scene && this.m_scene.scene) {\r\n            this.m_scene.clearScene();\r\n        }\r\n        //\r\n        this.m_scene = null;\r\n        //抛出事件\r\n        MesManager.instance.event3D(EEventScene.GameLevelsOnDelete);\r\n        MesManager.instance.eventUI(EEventUI.SceneGameCustomDelete);\r\n    }\r\n\r\n    /**\r\n     * 游戏其他场景构建\r\n     */\r\n    private gameOtherLevelsBuild(_name: EOtherLevelName, _handler?: Laya.Handler) {\r\n        //判断是否有场景在构建\r\n        if (this.m_ifSceneBuild) {\r\n            console.warn('有场景正在构建！');\r\n            return;\r\n        }\r\n        let _scene: Scene = SceneManager.instance.getOtherSceneByName(_name);\r\n        this.m_otherScene[_name] = _scene;\r\n        //构建场景\r\n        this.m_ifSceneBuild = true;//开始加载\r\n        //显示loading页面\r\n        MesManager.instance.event3D(EEventScene.GameLevelsBuildBefore);\r\n        MesManager.instance.eventUI(EEventUI.SceneGameCustomsLoading, [-1]);\r\n        _scene.buildScene(Laya.Handler.create(this, this.customsProgress, null, false)).then((_sceneSpr: Laya.Sprite3D) => {\r\n            //\r\n            this.m_ifSceneBuild = false;//加载结束\r\n            //设置环境\r\n            EnvironmentManager.instance.setOtherEnvironment(_name, _sceneSpr);\r\n            //分配预制体\r\n            ProManager.instance.AllotOtherScenePre(_name, _scene.prefabs);\r\n            //判断是否有构建完成回调\r\n            if (_handler) {\r\n                _handler.run();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 游戏其他场景销毁\r\n     */\r\n    private gameOtherLevelsDelete(_name: EOtherLevelName) {\r\n        let _scene = this.m_otherScene[_name];\r\n        if (_scene) {\r\n            _scene.clearScene();\r\n            this.m_otherScene[_name] = undefined;\r\n            //其他操作\r\n        } else {\r\n            console.warn('试图清除不存在的场景！');\r\n        }\r\n    }\r\n}","/**\r\n * 特殊用途UI索引名字\r\n */\r\nexport enum ESpecialUIIndex {\r\n    /** 适应刘海屏 */\r\n    bottom_group = 'm_bottom_group',\r\n    /** 进入动画 */\r\n    anim_enter = 'm_anim_enter',\r\n    /** 离开动画 */\r\n    anim_exit = 'm_anim_exit',\r\n}","/**\r\n * UI分层,按顺序显示\r\n */\r\nexport enum EUILayer {\r\n    /** 背景页面 */\r\n    Bg = 'EUILayer_Bg',\r\n    /** 主界面  永远存在 */\r\n    Main = \"EUILayer_Main\",\r\n    /** 单UI 只能存在一个 */\r\n    OneUI = 'EUILayer_OneUI',\r\n    /** 面板  可以有很多 */\r\n    Panel = \"EUILayer_Panel\",\r\n    /** 弹窗 */\r\n    Popup = \"EUILayer_Popup\",\r\n    /** 道具 */\r\n    Prop = 'EUILayer_Prop',\r\n    /** 小部件 */\r\n    Tip = \"EUILayer_Tip\",\r\n    /** 暂停 */\r\n    Pause = 'EUILayer_Pause',\r\n    /** 设置 */\r\n    Set = 'EUILayer_Set',\r\n    /** 最高 */\r\n    Top = 'EUILayer_Top',\r\n    /** 加载页面 */\r\n    Loading = 'EUILayer_Loading',\r\n}","/**\r\n * UI常量类\r\n */\r\nexport default class RootUIConst {\r\n    /**\r\n     * 距离顶部的距离\r\n     */\r\n    public static get top(): number {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * 距离底部的距离\r\n     */\r\n    public static get bottom(): number {\r\n        return 0;\r\n    }\r\n}","import BaseUIMediator from \"./BaseUIMediator\";\r\nimport { EUILayer } from \"./EUILayer\";\r\nimport IUIClass from './UITool';\r\nimport ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport RootUIConst from \"./RootUIConst\";\r\n/**\r\n * FGUI根管理器\r\n */\r\nexport default class FGuiRootManager {\r\n    //UI根节点列表\r\n    public static LayerList: { [index: string]: fgui.GComponent };\r\n    //单UI列表\r\n    public static oneUIs: BaseUIMediator<any>[] = [];\r\n\r\n    public static: fgui.GObject;\r\n\r\n    // 获取某一层UI根节点\r\n    private static getLayer(layerType: EUILayer): fgui.GComponent {\r\n        //\r\n        return this.LayerList[layerType];\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    public static Init() {\r\n        // 设置包名后缀\r\n        fgui.UIConfig.packageFileExtension = \"bin\";\r\n        Laya.stage.addChild(fgui.GRoot.inst.displayObject);\r\n        //添加FGUI根节点按顺序显示\r\n        this.LayerList = {};\r\n        for (let _i in EUILayer) {\r\n            this.LayerList[EUILayer[_i]] = fgui.GRoot.inst.addChild(new fgui.GComponent()) as fgui.GComponent;\r\n        }\r\n        //更新所有UI并添加监听\r\n        this.UpdateAllUI();\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.UpdateAllUI);\r\n    }\r\n\r\n    /**\r\n     * 创建一个UI并添加到对应层级\r\n     * @param uiType UI类型，必须包含一个初始化实例的方法\r\n     * @param layer 层级类型\r\n     */\r\n    public static AddUI(\r\n        uiType: IUIClass,\r\n        layer: EUILayer,\r\n    ): fgui.GObject {\r\n        let ui = uiType.createInstance() as fgui.GObject;\r\n        //判断是否是单ui如果是就隐藏该层级下的所有UI\r\n        if (layer == EUILayer.OneUI) {\r\n            let oneUIs = FGuiRootManager.oneUIs;\r\n            if (oneUIs.length > 0) {\r\n                oneUIs.forEach((panel: BaseUIMediator<any>) => {\r\n                    panel && panel.Hide();\r\n                })\r\n            }\r\n            //清空\r\n            FGuiRootManager.oneUIs = [];\r\n        }\r\n        //添加到目标层级\r\n        this.getLayer(layer).addChild(ui);\r\n        //\r\n        window[ui.constructor.name] = ui;\r\n        //设置尺寸\r\n        ui.setSize(fgui.GRoot.inst.width, fgui.GRoot.inst.height - RootUIConst.top - RootUIConst.bottom);\r\n        //\r\n        return ui;\r\n    }\r\n\r\n    /**\r\n     * 设置ui显示在最上层\r\n     * @param _ui 目标ui\r\n     * @param _layer 该ui所属的层级\r\n     */\r\n    public static setUIToTopShow(_ui: fgui.GObject, _layer: EUILayer) {\r\n        let _layerCom: fgui.GComponent = this.getLayer(_layer);\r\n        //判断该层级是否有该ui\r\n        let _index: number = _layerCom.getChildIndex(_ui);\r\n        if (_index == -1) {\r\n            console.log(...ConsoleEx.packWarn('设置ui到最顶层失败，因为该层级里面没有该UI！'));\r\n            return;\r\n        }\r\n        //先从顶层删除\r\n        _ui.removeFromParent();\r\n        //再次添加\r\n        _layerCom.addChild(_ui);\r\n    }\r\n\r\n    /**\r\n     * 更新所有UI\r\n     */\r\n    public static UpdateAllUI() {\r\n        let setWidth = Laya.stage.width;\r\n        let setHeight = Laya.stage.height;\r\n        fgui.GRoot.inst.setSize(setWidth, setHeight);\r\n        let childCount = fgui.GRoot.inst.numChildren;\r\n        let _width: number = 0;\r\n        let _height: number = 0;\r\n        for (let i = 0; i < childCount; ++i) {\r\n            let ui = fgui.GRoot.inst.getChildAt(i);\r\n            _width = fgui.GRoot.inst.width;\r\n            _height = fgui.GRoot.inst.height - RootUIConst.top - RootUIConst.bottom;\r\n            ui.setSize(_width, _height);\r\n            ui.y = RootUIConst.top;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断某个点是否在某个UI内部\r\n     * @param ui \r\n     * @param x \r\n     * @param y \r\n     */\r\n    public static CheckIn(ui: fgui.GObject, x: number, y: number): boolean {\r\n        if (x > ui.x && x < ui.x + ui.width && y > ui.y && y < ui.y + ui.height) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}","import { ESpecialUIIndex } from \"./ESpecialUIIndex\";\r\nimport { EUILayer } from \"./EUILayer\";\r\nimport FGuiRootManager from \"./FGuiRootManager\";\r\nimport IUIClass from './UITool';\r\nimport RootUIConst from \"./RootUIConst\";\r\n\r\n/**\r\n * UI调度者基类(用来控制UI界面)\r\n * 说明：\r\n * 单页面一定要单例，且可以通过管理器调用，多个就不行了\r\n * 在显示或者隐藏回调中不要使用UI状态管理器设置某个UI的状态\r\n * 不主动打开当前页面无关的页面，如果实在要打开就发送事件通过UI管理器打开\r\n * 不主动调用Show，Hide方法显示和隐藏其他UI，需要就通过UI状态管理器打开和关闭\r\n * 可以自己调用自己的Show，Hide方法，但是不能就再UI管理器中打开了\r\n * 尽量不主动监听一些与页面无关的UI事件,可以自由发出事件\r\n * 附属UI会在自身UI显示时一起显示，隐藏时一起隐藏， \r\n */\r\nexport default class BaseUIMediator<T extends fgui.GComponent> {\r\n    /** 距离顶部的距离, 会加上一个默认的值 */\r\n    protected top: number = 0;\r\n    /** 距离底部的距离, 会加上一个默认的值 */\r\n    protected bottom: number = 0;\r\n\r\n    /** 是否时刻更新UI大小 */\r\n    protected _ifUpdateUISize: boolean = true;\r\n\r\n    /** 当前ui实例 */\r\n    public get ui(): T {\r\n        return this._ui;\r\n    }\r\n    protected _ui: T;\r\n\r\n    //唯一序号\r\n    protected m_serialNumber: number;\r\n\r\n    /** 获取唯一序号 */\r\n    public get serialNumber(): number {\r\n        return this.m_serialNumber;\r\n    }\r\n\r\n    //唯一键值\r\n    protected m_keyId: string;\r\n\r\n    /** UI类型，必须初始化时设置 */\r\n    protected _classDefine: IUIClass;\r\n    /** UI层级类型，必须在初始化时设置 */\r\n    protected _layer: EUILayer = EUILayer.Panel;\r\n\r\n    /** ui层级 */\r\n    public get layer(): EUILayer {\r\n        return this._layer;\r\n    }\r\n\r\n    // 附属UI\r\n\r\n    /** 是否属于附属UI调度者 */\r\n    protected _ifBelongUIMediator: boolean = false;\r\n\r\n    /** 获取是否属于附属UI调度者 */\r\n    public get ifBelongUIMediator(): boolean {\r\n        return this._ifBelongUIMediator;\r\n    }\r\n\r\n    /** 属于该UI之下的UI调度者列表 */\r\n    protected _belongDownUIMediator: BaseUIMediator<fgui.GComponent>[] = [];\r\n\r\n    /** 获取下层的附属UI */\r\n    public get belongDownUIMediator(): BaseUIMediator<fgui.GComponent>[] {\r\n        return this._belongDownUIMediator;\r\n    }\r\n\r\n    /** 属于该UI之下的UI调度者列表 */\r\n    protected _belongUpUIMediator: BaseUIMediator<fgui.GComponent>[] = [];\r\n\r\n    /** 获取上层的附属UI */\r\n    public get belongUpUIMediator(): BaseUIMediator<fgui.GComponent>[] {\r\n        return this._belongUpUIMediator;\r\n    }\r\n\r\n    //\r\n\r\n    public owner: any;\r\n\r\n    /** 默认底部高度 */\r\n    protected _defaultBottomHeight: number;\r\n\r\n    /** 是否显示 */\r\n    protected _isShow: boolean = false;\r\n\r\n    /** 是否显示 */\r\n    public get isShow(): boolean {\r\n        return this._isShow;\r\n    }\r\n    /** 是否删除 */\r\n    public get isDispose(): boolean {\r\n        return this.ui.isDisposed;\r\n    }\r\n\r\n    /** 设置keyId */\r\n    public set keyId(_s: string) {\r\n        this.m_keyId = _s;\r\n    }\r\n    /** 获取keyId */\r\n    public get keyId(): string {\r\n        return this.m_keyId;\r\n    }\r\n    //\r\n    constructor() {\r\n        //设置一个唯一的序号\r\n        this.m_serialNumber = BaseUIMediatorGlobalSerialNumber.GlobalSerialNumber;\r\n        //更新UI\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.UpdateUI);\r\n    }\r\n\r\n    /**\r\n     * 初始底部\r\n     */\r\n    protected _InitBottom() {\r\n        let bottomGroup = this._ui[ESpecialUIIndex.bottom_group];\r\n        if (bottomGroup == null) {\r\n            this._defaultBottomHeight = 0;\r\n        } else {\r\n            this._defaultBottomHeight = bottomGroup.y;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 向下设置底部\r\n     * @param downDistance 向下距离\r\n     */\r\n    protected _SetBottomDown(downDistance: number = 0) {\r\n        let bottomGroup = this._ui[ESpecialUIIndex.bottom_group];\r\n        if (bottomGroup == null) return;\r\n        bottomGroup.y = this._defaultBottomHeight + downDistance;\r\n    }\r\n\r\n    //设置ui到最顶层\r\n    protected setUIToTopShow() {\r\n        //先判断是否存在ui\r\n        if (this._ui) {\r\n            FGuiRootManager.setUIToTopShow(this._ui, this._layer);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示UI\r\n     */\r\n    public Show() {\r\n        //判断是否已经显示过了\r\n        if (this._isShow) {\r\n            //直接设置层级\r\n            this.setUIToTopShow();\r\n            return;\r\n        }\r\n        //显示前回调\r\n        this.OnshowBefore();\r\n        //\r\n        this._isShow = true;\r\n        //判断是不是真的删除了这个UI(为null或者被删除)\r\n        if (!this._ui || (this._ui && this._ui.isDisposed)) {\r\n            //添加ui\r\n            this._ui = FGuiRootManager.AddUI(this._classDefine, this._layer) as T;\r\n            //判断是否是单页面\r\n            if (this._layer == EUILayer.OneUI) {\r\n                FGuiRootManager.oneUIs.push(this);\r\n            }\r\n        } else {\r\n            this.ui.visible = true;\r\n        }\r\n        //设置该ui层级为最高层\r\n        this.setUIToTopShow();\r\n        //显示结束回调\r\n        this._OnShow();\r\n        //设置尺寸和位置\r\n        this.UpdateUI();\r\n        //播放动画\r\n        if (this._ui[ESpecialUIIndex.anim_enter]) {\r\n            let anim = this._ui[ESpecialUIIndex.anim_enter] as fgui.Transition;\r\n            anim.play(Laya.Handler.create(this, this._CallEnterAnimEnd));\r\n        } else {\r\n            //\r\n            this.OnEnterAnimEnd();\r\n        }\r\n    }\r\n\r\n    //播放动画完成\r\n    private _CallEnterAnimEnd() {\r\n        this.OnEnterAnimEnd();\r\n    }\r\n\r\n    //更新UI\r\n    private UpdateUI() {\r\n        if (!this._ifUpdateUISize) { return; }\r\n        if (!this._isShow) { return; }\r\n        if (!this._ui) { return; }\r\n        if (this._ui.isDisposed) { return; }\r\n        //\r\n        let _width: number = fgui.GRoot.inst.width;\r\n        let _height: number = fgui.GRoot.inst.height - this.top - this.bottom - RootUIConst.top - RootUIConst.bottom;\r\n        //\r\n        this._ui.setSize(_width, _height);\r\n        this._ui.y = this.top;\r\n    }\r\n\r\n    /**\r\n     * 进入动画回调,使用时覆盖即可\r\n     */\r\n    protected OnEnterAnimEnd() { }\r\n\r\n    /** 显示之前调用 */\r\n    protected OnshowBefore() { }\r\n\r\n    /** 显示之后调用 */\r\n    protected _OnShow() { }\r\n\r\n    /**\r\n     * 隐藏\r\n     * @param dispose 是否删除\r\n     */\r\n    public Hide(dispose: boolean = true) {\r\n        if (this._ui == null) return;\r\n        if (this._ui.isDisposed) return;\r\n        if (!this._isShow) return;\r\n        this._isShow = false;\r\n        this.OnHideBefore();\r\n        //播放动画\r\n        if (this._ui[ESpecialUIIndex.anim_exit]) {\r\n            let anim = this._ui[ESpecialUIIndex.anim_exit] as fgui.Transition;\r\n            anim.play(Laya.Handler.create(this, this._DoHide, [dispose]));\r\n        } else {\r\n            this._DoHide(dispose);\r\n        }\r\n    }\r\n    //隐藏之后\r\n    private _DoHide(dispose: boolean) {\r\n        //判断是否删除\r\n        if (dispose) {\r\n            this._ui.dispose();\r\n        } else {\r\n            this._ui.visible = false;\r\n        }\r\n        //\r\n        this._OnHide();\r\n    }\r\n\r\n    /** 隐藏之前调用 */\r\n    protected OnHideBefore() { }\r\n\r\n    /** 隐藏之后调用 */\r\n    protected _OnHide() { }\r\n}\r\n\r\n/**\r\n * 基类UI调度者序号管理\r\n */\r\nclass BaseUIMediatorGlobalSerialNumber {\r\n    private static m_GlobalSerialNumber: number = 0;\r\n\r\n    /** 获取一个全局的序号 */\r\n    public static get GlobalSerialNumber(): number {\r\n        this.m_GlobalSerialNumber++;\r\n        return this.m_GlobalSerialNumber;\r\n    }\r\n}","/**\r\n * 全局事件\r\n * * 都能抛出和监听\r\n */\r\nexport enum EEventGlobal {\r\n    /** 游戏初始化 */\r\n    GameInit = '_EEventGlobal_GameInit',\r\n    /** 游戏初始化完成 */\r\n    GameOnInit = '_EEventGlobal_GameOnInit',\r\n    /** 游戏加载 */\r\n    GameLoading = '_EEventGlobal_GameLoading',\r\n    /** 游戏资源加载 */\r\n    GameResLoading = '_EEventGlobal_GameResLoading',\r\n}\r\n\r\n/**\r\n    事件定义规则\r\n    只在产生事件时抛出事件\r\n    不要被动抛出事件避免事件循环抛出\r\n */","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameLoading extends fairygui.GComponent {\n\n\tpublic m_shade:fairygui.GGraph;\n\tpublic m_text:fairygui.GTextField;\n\tpublic m_progress:fairygui.GProgressBar;\n\n\tpublic static URL:string = \"ui://kk7g5mmmg7a1o\";\n\n\tpublic static createInstance():FGUI_PGameLoading {\n\t\treturn <FGUI_PGameLoading><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameLoading\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_shade = <fairygui.GGraph><any>(this.getChildAt(0));\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(1));\n\t\tthis.m_progress = <fairygui.GProgressBar><any>(this.getChildAt(2));\n\t}\n}","import BaseUIMediator from '../../aTGame/UI/FGUI/BaseUIMediator';\r\nimport { EUILayer } from '../../aTGame/UI/FGUI/EUILayer';\r\nimport { EEventGlobal } from '../EventEnum/EEventGlobal';\r\nimport FGUI_PGameLoading from '../../FGUI/GameMain/FGUI_PGameLoading';\r\nimport MesManager from '../Manager/MesManager';\r\n/**\r\n * 游戏加载中页面调度者\r\n */\r\nexport default class PGameLoadingMediator extends BaseUIMediator<FGUI_PGameLoading>{\r\n    private static m_instance: PGameLoadingMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameLoadingMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameLoadingMediator();\r\n            this.m_instance._classDefine = FGUI_PGameLoading;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //层级\r\n    protected _layer: EUILayer = EUILayer.Loading;//加载层\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        MesManager.instance.onGlobal(EEventGlobal.GameLoading, this, this.gameLoading);//游戏加载中\r\n    }\r\n\r\n    /**\r\n     * 关卡加载中事件\r\n     * @param _number 加载进度 \r\n     */\r\n    private gameLoading(_number: number) {\r\n        //设置进度条进度\r\n        this.ui.m_progress.value = _number;\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() {\r\n        //取消监听\r\n        MesManager.instance.offGlobal(EEventGlobal.GameLoading, this, this.gameLoading);\r\n    }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameMain extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmmsyta9f\";\n\n\tpublic static createInstance():FGUI_PGameMain {\n\t\treturn <FGUI_PGameMain><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameMain\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from \"../../aTGame/UI/FGUI/BaseUIMediator\";\r\nimport { EUILayer } from \"../../aTGame/UI/FGUI/EUILayer\";\r\nimport FGUI_PGameMain from \"../../FGUI/GameMain/FGUI_PGameMain\";\r\n\r\n/**\r\n * 游戏主页面调度者\r\n */\r\nexport default class PGameMainMediator extends BaseUIMediator<FGUI_PGameMain> {\r\n    private static m_instance: PGameMainMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameMainMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameMainMediator();\r\n            this.m_instance._classDefine = FGUI_PGameMain;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //层级\r\n    protected _layer: EUILayer = EUILayer.Main;\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGamePlay extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmmg7a1r\";\n\n\tpublic static createInstance():FGUI_PGamePlay {\n\t\treturn <FGUI_PGamePlay><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGamePlay\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from '../../aTGame/UI/FGUI/BaseUIMediator';\r\nimport FGUI_PGamePlay from '../../FGUI/GameMain/FGUI_PGamePlay';\r\n/**\r\n * 游戏玩耍页面调度者\r\n */\r\nexport default class PGamePlayMediator extends BaseUIMediator<FGUI_PGamePlay>{\r\n    private static m_instance: PGamePlayMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGamePlayMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGamePlayMediator();\r\n            this.m_instance._classDefine = FGUI_PGamePlay;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameStart extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmmg7a1v\";\n\n\tpublic static createInstance():FGUI_PGameStart {\n\t\treturn <FGUI_PGameStart><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameStart\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from '../../aTGame/UI/FGUI/BaseUIMediator';\r\nimport FGUI_PGameStart from '../../FGUI/GameMain/FGUI_PGameStart';\r\n/**\r\n * 游戏开始页面调度者\r\n */\r\nexport default class PGameStartMediator extends BaseUIMediator<FGUI_PGameStart>{\r\n    private static m_instance: PGameStartMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameStartMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameStartMediator();\r\n            this.m_instance._classDefine = FGUI_PGameStart;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/**\r\n * 所有UI页面\r\n */\r\nexport enum EUI {\r\n    /** 游戏加载 */\r\n    GameLoading = 'EUI_GameLoading',\r\n    /** 关卡加载 */\r\n    CustomsLoading = 'EUI_CustomsLoading',\r\n\r\n    //\r\n\r\n    /** 主测试 */\r\n    TestMain = 'EUI_TestMain',\r\n    /** 测试平台 */\r\n    TestPlatform = 'EUI_TestPlatform',\r\n\r\n    //\r\n\r\n    /** 主页面 */\r\n    Main = 'EUI_Main',\r\n    /** 设置页面 */\r\n    Set = 'EUI_Set',\r\n    /** 暂停页面 */\r\n    Pause = 'EUI_Pause',\r\n    /** 游戏页面 */\r\n    Play = 'EUI_Play',\r\n    /** 开始页面 */\r\n    Start = 'EUI_Start',\r\n    /** 完成页面 */\r\n    Com = 'EUI_Com',\r\n    /** 结束页面 */\r\n    End = 'EUI_End',\r\n}","import RootClassProxy from \"../../Root/RootClassProxy\";\r\nimport ArrayUtils from \"../../Utils/ArrayUtils\";\r\nimport BaseUIMediator from './BaseUIMediator';\r\nimport { EUILayer } from \"./EUILayer\";\r\nimport { EUI } from '../../../dMyGame/Enum/EUI';\r\nimport ConsoleEx from \"../../Console/ConsoleEx\";\r\n/**\r\n * UI状态代理管理器基类\r\n * 直接Show显示的ui不受管理\r\n * 只能管理单页面UI\r\n * 注意！每次修改UI状态时都会改节点\r\n */\r\nexport default class RootUIStateManagerProxy extends RootClassProxy {\r\n    //UI调度者列表\r\n    private m_UIMediator: { [index: string]: BaseUIMediator<fgui.GComponent> } = {};\r\n\r\n    //当前显示的UI类型索引列表\r\n    private m_onShowUI: IUIState[] = [];\r\n\r\n    //是否设置过ui管理列表\r\n    private m_ifSetMediatroList: boolean = false;\r\n\r\n    /**\r\n     * 设置代理调度者列表\r\n     * @param _UIMediator 代理调度者列表\r\n     */\r\n    public setProxyMediatroList(_UIMediator: { [index: string]: BaseUIMediator<fgui.GComponent> }) {\r\n        this.m_UIMediator = _UIMediator;\r\n        this.m_onShowUI = [];\r\n        this.m_ifSetMediatroList = true;\r\n        //\r\n        this.Init();\r\n    }\r\n\r\n    /**\r\n     * 设置代理完成，初始化\r\n     */\r\n    protected Init() { }\r\n\r\n    /** 是否初始化过代理 */\r\n    public get ifSetMediatroList(): boolean {\r\n        return this.m_ifSetMediatroList;\r\n    }\r\n    /** 获取当前显示的UI列表 */\r\n    public get onShowUIs(): IUIState[] {\r\n        return this.m_onShowUI;\r\n    }\r\n\r\n    /**\r\n     * 通过索引获取某个UI调度者\r\n     * @param _eui UI调度者索引枚举\r\n     */\r\n    public getUIMeiatro<T extends BaseUIMediator<fgui.GComponent>>(_eui: EUI): T {\r\n        return this.m_UIMediator[_eui] as T;\r\n    }\r\n\r\n    /**\r\n     * 关闭一个UI,不影响其他UI\r\n     * @param _uiMeiatro 该UI的调度者\r\n     */\r\n    public closeUI(_uiMeiatro: BaseUIMediator<fgui.GComponent>) {\r\n        this.setUIState([\r\n            { typeIndex: _uiMeiatro.keyId, state: false },\r\n        ], false);\r\n    }\r\n\r\n    /**\r\n     * 设置UI状态\r\n     * UI会在当前本来的UI层级根据状态列表显示\r\n     * @param _uiStates 状态列表\r\n     * @param _ifUnify 是否统一处理其他UI状态 默认为 true\r\n     * @param _unifyState 统一处理其他UI的状态 默认为 {state: false, dispose: true}\r\n     * \r\n     */\r\n    public setUIState(\r\n        _uiStates: IUIState[],\r\n        _ifUnify: boolean = true,\r\n        _unifyState: {\r\n            /** 显示状态 */\r\n            state: boolean,\r\n            /** 隐藏时是否删除默认为true */\r\n            dispose?: boolean\r\n        } = { state: false, dispose: true },\r\n        _showAffectLayer?: EUILayer[],\r\n        _hideAffectLayer?: EUILayer[],\r\n    ) {\r\n        //判断是否设置过ui代理列表\r\n        if (!this.m_ifSetMediatroList) {\r\n            console.log(...ConsoleEx.packError('还没有为UI代理类设置代理UI调度者列表！'));\r\n            return;\r\n        }\r\n        //自动设置ui状态列表\r\n        for (let _o of _uiStates) {\r\n            //设置显示状态默认为true\r\n            if (typeof _o.state == 'undefined') {\r\n                _o.state = true;\r\n            }\r\n            //设置默认删除\r\n            if (typeof _o.dispose == 'undefined') {\r\n                _o.dispose = true;\r\n            }\r\n        }\r\n        //自动设置统一处理ui状态\r\n        if (typeof _unifyState.dispose == 'undefined') {\r\n            _unifyState.dispose = true;\r\n        }\r\n        //\r\n        let _showUI: IUIState[] = [];//需要显示的UI\r\n        let _hideUI: IUIState[] = [];//需要隐藏的UI\r\n        //数组去重\r\n        _uiStates = ArrayUtils.ObjUnique<IUIState>(_uiStates, (item) => {\r\n            return item.typeIndex;\r\n        });\r\n        //过滤不存在的状态\r\n        _uiStates = this.statesFilter(_uiStates);\r\n        //取出需要显示和需要隐藏的UI\r\n        let _i: number;\r\n        for (let _o of _uiStates) {\r\n            if (_o.state) {\r\n                _i = this.m_onShowUI.findIndex((item) => { return item.typeIndex == _o.typeIndex });\r\n                if (_i != -1) {\r\n                    this.m_onShowUI.splice(_i, 1);\r\n                }\r\n                _showUI.push(_o);\r\n            } else {\r\n                _i = this.m_onShowUI.findIndex((item) => { return item.typeIndex == _o.typeIndex });\r\n                if (_i != -1) {\r\n                    this.m_onShowUI.splice(_i, 1);\r\n                    _hideUI.push(_o);\r\n                }\r\n            }\r\n        }\r\n        //判断是否统一处理其他ui\r\n        if (_ifUnify) {\r\n            //找到没有出现在显示和隐藏列表中的ui\r\n            let _differS: IUIState[] = [];\r\n            for (let _index in this.m_UIMediator) {\r\n                if (\r\n                    _showUI.findIndex((item) => { return item.typeIndex == _index }) == -1 &&\r\n                    _hideUI.findIndex((item) => { return item.typeIndex == _index }) == -1\r\n                ) {\r\n                    _differS.push({\r\n                        typeIndex: _index,\r\n                        state: _unifyState.state,\r\n                        dispose: _unifyState.dispose,\r\n                    });\r\n                }\r\n            }\r\n            //全部显示\r\n            if (_unifyState.state) {\r\n                //添加到需要显示的ui下面\r\n                _showUI.unshift(..._differS);\r\n            }\r\n            //全部隐藏\r\n            else {\r\n                //添加到需要隐藏的ui下面\r\n                _hideUI.push(..._differS);\r\n            }\r\n        } else {\r\n            //融合本来就显示的ui列表到显示列表中\r\n            _showUI.unshift(...this.m_onShowUI);\r\n        }\r\n        // console.log('设置层级前', _showUI, _hideUI);\r\n        //检测是否在受影响列表中\r\n        if (typeof _showAffectLayer != 'undefined') {\r\n            //先去重\r\n            _showAffectLayer = ArrayUtils.Unique(_showAffectLayer);\r\n            // console.log('层级', _affectLayer);\r\n            //过滤需要显示的列表，去掉受影响层级之外的元素\r\n            _showUI = _showUI.filter((item) => {\r\n                return _showAffectLayer.findIndex((layer) => { return layer == this.m_UIMediator[item.typeIndex].layer }) != -1;\r\n            });\r\n        }\r\n        if (typeof _hideAffectLayer != 'undefined') {\r\n            //先去重\r\n            _hideAffectLayer = ArrayUtils.Unique(_hideAffectLayer);\r\n            //过滤需要显示的列表，去掉受影响层级之外的元素\r\n            _hideUI = _hideUI.filter((item) => {\r\n                return _hideAffectLayer.findIndex((layer) => { return layer == this.m_UIMediator[item.typeIndex].layer }) != -1;\r\n            });\r\n        }\r\n        // console.log('设置层级后', _showUI, _hideUI);\r\n        //隐藏上一批需要隐藏的列表\r\n        for (let _o of _hideUI) {\r\n            if (this.m_UIMediator[_o.typeIndex].ifBelongUIMediator) {\r\n                console.log(...ConsoleEx.packWarn('注意：有一个附属UI的UI调度者试图被隐藏，KEY为', this.m_UIMediator[_o.typeIndex].keyId));\r\n                continue;\r\n            }\r\n            //递归隐藏该UI和它的所有附属\r\n            this.hideUIMediator(this.m_UIMediator[_o.typeIndex], _o.dispose);\r\n        }\r\n        //显示在显示列表里面的全部UI\r\n        for (let _o of _showUI) {\r\n            if (this.m_UIMediator[_o.typeIndex].ifBelongUIMediator) {\r\n                console.log(...ConsoleEx.packWarn('注意：有一个附属UI的UI调度者试图被显示，KEY为', this.m_UIMediator[_o.typeIndex].keyId));\r\n                continue;\r\n            }\r\n            //递归显示该UI和它的所有附属\r\n            this.showUIMediator(this.m_UIMediator[_o.typeIndex]);\r\n        }\r\n        //保存当前显示的ui列表\r\n        this.m_onShowUI = _showUI;\r\n    }\r\n\r\n    /**\r\n     * 是否存在的调度者ui过滤器\r\n     * @param _o \r\n     */\r\n    private statesFilter(_states: IUIState[]): IUIState[] {\r\n        return _states.filter((_o) => {\r\n            return typeof this.m_UIMediator[_o.typeIndex] != 'undefined';\r\n        });\r\n    }\r\n\r\n    //隐藏一个UI\r\n    private hideUIMediator(_UIMed: BaseUIMediator<fgui.GComponent>, _dispose: boolean, _ifR: boolean = false) {\r\n        if (_UIMed.belongUpUIMediator.length > 0) {\r\n            _UIMed.belongUpUIMediator.forEach((item) => {\r\n                this.hideUIMediator(item, _dispose, true);\r\n            });\r\n        }\r\n        //\r\n        if (!_ifR || _UIMed.ifBelongUIMediator) {\r\n            _UIMed.Hide(_dispose);\r\n        } else {\r\n            console.log(...ConsoleEx.packWarn('注意：有一个不是附属UI的UI调度者试图被隐藏，KEY为', _UIMed.keyId));\r\n        }\r\n        //\r\n        if (_UIMed.belongDownUIMediator.length > 0) {\r\n            _UIMed.belongDownUIMediator.forEach((item) => {\r\n                this.hideUIMediator(item, _dispose, true);\r\n            });\r\n        }\r\n    }\r\n\r\n    //显示一个UI\r\n    private showUIMediator(_UIMed: BaseUIMediator<fgui.GComponent>, _ifR: boolean = false) {\r\n        if (_UIMed.belongDownUIMediator.length > 0) {\r\n            _UIMed.belongDownUIMediator.forEach((item) => {\r\n                this.showUIMediator(item, true);\r\n            });\r\n        }\r\n        //\r\n        if (!_ifR || _UIMed.ifBelongUIMediator) {\r\n            _UIMed.Show();\r\n        } else {\r\n            console.log(...ConsoleEx.packWarn('注意：有一个不是附属UI的UI调度者试图被显示，KEY为', _UIMed.keyId));\r\n        }\r\n        //\r\n        if (_UIMed.belongUpUIMediator.length > 0) {\r\n            _UIMed.belongUpUIMediator.forEach((item) => {\r\n                this.showUIMediator(item, true);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * UI状态\r\n */\r\nexport interface IUIState {\r\n    /** Ui类型索引 */\r\n    typeIndex: string;\r\n\r\n    /** 显示状态 */\r\n    state?: boolean;\r\n\r\n    /** 隐藏是否删除 */\r\n    dispose?: boolean;\r\n}","import RootUIStateManagerProxy from '../../../aTGame/UI/FGUI/RootUIStateManagerProxy';\r\nimport { EEventGlobal } from '../../EventEnum/EEventGlobal';\r\nimport { EUI } from '../../Enum/EUI';\r\nimport MesManager from '../MesManager';\r\nimport { EEventUI } from '../../EventEnum/EEventUI';\r\nimport PGameMainMediator from '../../UIMediator/PGameMainMediator';\r\n/**\r\n * UIManager类调度者代理\r\n */\r\nexport default class UIManagerProxy extends RootUIStateManagerProxy {\r\n    private static m_instance: UIManagerProxy;\r\n    /** 单例 */\r\n    public static get instance(): UIManagerProxy {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new UIManagerProxy();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    /** 获取主页面调度者单例 */\r\n    public get gameMainMediator(): PGameMainMediator {\r\n        return this.getUIMeiatro<PGameMainMediator>(EUI.Main);\r\n    }\r\n\r\n    //初始化\r\n    protected Init() {\r\n        //监听全局事件\r\n        MesManager.instance.onGlobal(EEventGlobal.GameLoading, this, this.gameLoading);//游戏加载\r\n        MesManager.instance.onGlobal(EEventGlobal.GameResLoading, this, this.gameResLoading);//游戏资源加载\r\n        //监听UI事件\r\n        MesManager.instance.onUI(EEventUI.SceneGameCustomsLoading, this, this.gameCustomsLoading);//关卡加载\r\n    }\r\n\r\n    /**\r\n     * 开始\r\n     */\r\n    public Start() {\r\n        //设置初始UI\r\n        this.setUIState([\r\n            { typeIndex: EUI.Main, },\r\n            { typeIndex: EUI.Start, },\r\n            { typeIndex: EUI.TestMain, },\r\n        ]);\r\n    }\r\n\r\n    /** 游戏加载 */\r\n    private gameLoading() { }\r\n    /** 游戏资源加载 */\r\n    private gameResLoading() { }\r\n\r\n    //游戏初始化\r\n    private gameCustomsLoading(_n: number) {\r\n        if (_n == -1) {\r\n            //显示关卡加载页面\r\n            this.setUIState([\r\n                { typeIndex: EUI.CustomsLoading, },\r\n            ], false);\r\n        }\r\n    }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameCustomsLoading extends fairygui.GComponent {\n\n\tpublic m_shade:fairygui.GGraph;\n\tpublic m_text:fairygui.GTextField;\n\tpublic m_progress:fairygui.GProgressBar;\n\n\tpublic static URL:string = \"ui://kk7g5mmmdbmi13\";\n\n\tpublic static createInstance():FGUI_PGameCustomsLoading {\n\t\treturn <FGUI_PGameCustomsLoading><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameCustomsLoading\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_shade = <fairygui.GGraph><any>(this.getChildAt(0));\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(1));\n\t\tthis.m_progress = <fairygui.GProgressBar><any>(this.getChildAt(2));\n\t}\n}","import BaseUIMediator from '../../aTGame/UI/FGUI/BaseUIMediator';\r\nimport { EUILayer } from '../../aTGame/UI/FGUI/EUILayer';\r\nimport UIManagerProxy from '../Manager/Proxy/UIManagerProxy';\r\nimport { EUI } from '../Enum/EUI';\r\nimport FGUI_PGameCustomsLoading from '../../FGUI/GameMain/FGUI_PGameCustomsLoading';\r\nimport { EEventUI } from '../EventEnum/EEventUI';\r\nimport MesManager from '../Manager/MesManager';\r\n/**\r\n * 游戏关卡加载中页面调度者\r\n */\r\nexport default class PGameCustomsLoadingMediator extends BaseUIMediator<FGUI_PGameCustomsLoading>{\r\n    private static m_instance: PGameCustomsLoadingMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameCustomsLoadingMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameCustomsLoadingMediator();\r\n            this.m_instance._classDefine = FGUI_PGameCustomsLoading;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //层级\r\n    protected _layer: EUILayer = EUILayer.Loading;//加载层\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //关卡加载中\r\n        MesManager.instance.onUI(EEventUI.SceneGameCustomsLoading, this, this.CustomsLoading);\r\n    }\r\n\r\n    /**\r\n     * 关卡加载中事件\r\n     * @param _number 加载进度 \r\n     */\r\n    private CustomsLoading(_number: number) {\r\n        //设置进度条进度\r\n        this.ui.m_progress.value = _number;\r\n        //加载完成时\r\n        if (_number == 100) {\r\n            UIManagerProxy.instance.setUIState([\r\n                { typeIndex: EUI.CustomsLoading, state: false },\r\n            ], false);\r\n        }\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() {\r\n        //取消监听\r\n        MesManager.instance.offUI(EEventUI.SceneGameCustomsLoading, this, this.CustomsLoading);\r\n    }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGamePause extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmm6vcq5g\";\n\n\tpublic static createInstance():FGUI_PGamePause {\n\t\treturn <FGUI_PGamePause><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGamePause\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from \"../../aTGame/UI/FGUI/BaseUIMediator\";\r\nimport { EUILayer } from \"../../aTGame/UI/FGUI/EUILayer\";\r\nimport FGUI_PGamePause from \"../../FGUI/GameMain/FGUI_PGamePause\";\r\n\r\n/**\r\n * 游戏暂停页面调度者\r\n */\r\nexport default class PGamePauseMediator extends BaseUIMediator<FGUI_PGamePause>{\r\n    private static m_instance: PGamePauseMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGamePauseMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGamePauseMediator();\r\n            this.m_instance._classDefine = FGUI_PGamePause;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //层级\r\n    protected _layer: EUILayer = EUILayer.Pause;//暂停层\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameSet extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmm6vcq4u\";\n\n\tpublic static createInstance():FGUI_PGameSet {\n\t\treturn <FGUI_PGameSet><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameSet\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from '../../aTGame/UI/FGUI/BaseUIMediator';\r\nimport { EUILayer } from '../../aTGame/UI/FGUI/EUILayer';\r\nimport FGUI_PGameSet from '../../FGUI/GameMain/FGUI_PGameSet';\r\n/**\r\n * 游戏设置页面调度者\r\n */\r\nexport default class PGameSetMediator extends BaseUIMediator<FGUI_PGameSet>{\r\n    private static m_instance: PGameSetMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameSetMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameSetMediator();\r\n            this.m_instance._classDefine = FGUI_PGameSet;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //设置层级\r\n    protected _layer: EUILayer = EUILayer.Set;//设置层\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameCom extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmmq3ng9w\";\n\n\tpublic static createInstance():FGUI_PGameCom {\n\t\treturn <FGUI_PGameCom><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameCom\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from \"../../aTGame/UI/FGUI/BaseUIMediator\";\r\nimport FGUI_PGameCom from \"../../FGUI/GameMain/FGUI_PGameCom\";\r\n\r\n/**\r\n * 游戏完成页面调度者   \r\n */\r\nexport default class PGameComMediator extends BaseUIMediator<FGUI_PGameCom>{\r\n    private static m_instance: PGameComMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameComMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameComMediator();\r\n            this.m_instance._classDefine = FGUI_PGameCom;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameEnd extends fairygui.GComponent {\n\n\tpublic m_text:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://kk7g5mmmlaxd19\";\n\n\tpublic static createInstance():FGUI_PGameEnd {\n\t\treturn <FGUI_PGameEnd><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameEnd\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_text = <fairygui.GTextField><any>(this.getChildAt(0));\n\t}\n}","import BaseUIMediator from \"../../aTGame/UI/FGUI/BaseUIMediator\";\r\nimport FGUI_PGameEnd from \"../../FGUI/GameMain/FGUI_PGameEnd\";\r\n\r\n/**\r\n * 游戏暂停页面调度者\r\n */\r\nexport default class PGameEndMediator extends BaseUIMediator<FGUI_PGameEnd>{\r\n    private static m_instance: PGameEndMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameEndMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameEndMediator();\r\n            this.m_instance._classDefine = FGUI_PGameEnd;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameTestMain extends fairygui.GComponent {\n\n\tpublic m_test:fairygui.GButton;\n\tpublic m_testText:fairygui.GTextField;\n\tpublic m__test:fairygui.GGroup;\n\n\tpublic static URL:string = \"ui://kk7g5mmmo9js9x\";\n\n\tpublic static createInstance():FGUI_PGameTestMain {\n\t\treturn <FGUI_PGameTestMain><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameTestMain\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_test = <fairygui.GButton><any>(this.getChildAt(0));\n\t\tthis.m_testText = <fairygui.GTextField><any>(this.getChildAt(1));\n\t\tthis.m__test = <fairygui.GGroup><any>(this.getChildAt(2));\n\t}\n}","import BaseUIMediator from \"../../../aTGame/UI/FGUI/BaseUIMediator\";\r\nimport FGUI_PGameTestMain from \"../../../FGUI/GameMain/FGUI_PGameTestMain\";\r\nimport { EUI } from \"../../Enum/EUI\";\r\nimport UIManagerProxy from \"../../Manager/Proxy/UIManagerProxy\";\r\n\r\n/**\r\n * 游戏开始页面调度者\r\n */\r\nexport default class PGameTestMainMediator extends BaseUIMediator<FGUI_PGameTestMain>{\r\n    private static m_instance: PGameTestMainMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameTestMainMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameTestMainMediator();\r\n            this.m_instance._classDefine = FGUI_PGameTestMain;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        //\r\n        this.ui.m_test.onClick(this, this.Test);\r\n    }\r\n\r\n    //打开测试页面\r\n    private Test() {\r\n        UIManagerProxy.instance.setUIState([\r\n            { typeIndex: EUI.TestPlatform },\r\n        ], false);\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","/**\r\n * 平台数据类\r\n */\r\nexport default class PlatformData {\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //分享id\r\n    public shareId: string = '';\r\n}","import PlatformData from \"../../../aTGame/Platform/Data/PlatformData\";\r\n/**\r\n * 百度小游戏数据\r\n */\r\nexport default class BDData extends PlatformData {\r\n    /** bd专用sid */\r\n    public sid: string;\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //\r\n    public shareId: string = '';\r\n}","import PlatformData from \"../../../aTGame/Platform/Data/PlatformData\";\r\n/**\r\n * OPPO小游戏数据\r\n */\r\nexport default class OPPOData extends PlatformData {\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //\r\n    public shareId: string = '';\r\n}","import PlatformData from \"../../../aTGame/Platform/Data/PlatformData\";\r\n/**\r\n * QQ小游戏数据\r\n */\r\nexport default class QQData extends PlatformData {\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //\r\n    public shareId: string = '';\r\n}","import PlatformData from \"../../../aTGame/Platform/Data/PlatformData\";\r\n/**\r\n * 趣头条小游戏数据\r\n */\r\nexport default class QTTData extends PlatformData {\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //\r\n    public shareId: string = '';\r\n}","import PlatformData from \"../../../aTGame/Platform/Data/PlatformData\";\r\n/**\r\n * 头条小游戏数据\r\n */\r\nexport default class TTData extends PlatformData {\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //\r\n    public shareId: string = '';\r\n}","import PlatformData from \"../../../aTGame/Platform/Data/PlatformData\";\r\n/**\r\n * WX小游戏数据\r\n */\r\nexport default class WXData extends PlatformData {\r\n    /** 应用ID */\r\n    public appId: string = '';\r\n    public appKey: string = '';\r\n    /** 广告id */\r\n    public bannerId: string = '';\r\n    public rewardVideoId: string = '';\r\n    public interstitialId: string = '';\r\n    public nativeId: string = '';\r\n    //\r\n    public nativeBannerIds: string[] = [];\r\n    public nativeIconIds: string[] = [];\r\n    public nativeinterstitialIds: string[] = [];\r\n    public nativeinpageIds: string[] = [];\r\n    //\r\n    public shareId: string = '';\r\n}","/**\r\n * 平台公共事件\r\n */\r\nexport enum PlatformCommonEvent {\r\n    PAUSE_AUDIO = \"PAUSE_AUDIO\",\r\n    RESUM_AUDIO = \"RESUM_AUDIO\",\r\n    AD_CONFIG_GETTED = \"AD_CONFIG_GETTED\",\r\n    SELF_AD_INITED = \"SELF_AD_INITED\",\r\n}","/**\r\n * 平台类型枚举\r\n */\r\nexport enum EPlatformType {\r\n    /** 未定义 */\r\n    None = 'EPlatformType_None',\r\n\r\n    /** 网页平台 */\r\n    Web = 'EPlatformType_Web',\r\n\r\n    /** 微信小游戏 */\r\n    WX = 'EPlatformType_WX',\r\n\r\n    /** 头条，抖音小游戏 */\r\n    TT = 'EPlatformType_TT',\r\n\r\n    /** QQ小游戏 */\r\n    QQ = 'EPlatformType_QQ',\r\n\r\n    /** VIVO小游戏 */\r\n    VIVO = 'EPlatformType_VIVO',\r\n\r\n    /** OPPO小游戏 */\r\n    OPPO = 'EPlatformType_OPPO',\r\n\r\n    /** 百度小游戏 */\r\n    BD = 'EPlatformType_BD',\r\n\r\n    /** 小米戏游戏 */\r\n    KG = 'EPlatformType_KG',\r\n\r\n    /** 阿里小游戏 */\r\n    Alipay = 'EPlatformType_Alipay',\r\n\r\n    /** 华为小游戏 */\r\n    HW = 'EPlatformType_HW',\r\n\r\n    /** 趣头条 */\r\n    QTT = 'EPlatformType_QTT',\r\n}","/**\r\n * 异步等待类\r\n */\r\nexport default class Awaiters {\r\n\r\n    /**\r\n     * 等待2帧\r\n     */\r\n    public static NextFrame(): Promise<void> {\r\n        // 一帧有可能刚好当帧执行,这里跳两帧\r\n        return this.Frames(2);\r\n    }\r\n\r\n    /**\r\n     * 等待一定帧数\r\n     * @param num 帧数\r\n     */\r\n    public static Frames(num: number): Promise<void> {\r\n        return new Promise(function (resolve) {\r\n            Laya.timer.frameOnce(num, null, () => {\r\n                resolve();\r\n            })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 等待多少秒\r\n     * @param num 多少秒\r\n     */\r\n    public static Seconds(num: number): Promise<void> {\r\n        return new Promise(function (resolve) {\r\n            Laya.timer.once(num * 1000, null, () => {\r\n                resolve();\r\n            })\r\n        });\r\n    }\r\n}","import { IDevice } from \"../T/IDevice\";\r\n\r\n/**\r\n * 默认设备\r\n */\r\nexport default class DefaultDevice implements IDevice {\r\n    Vibrate(isLong: boolean) {\r\n        console.log(\"调用震动\", isLong);\r\n        //判断平台是否支持\r\n        if (!navigator.vibrate) {\r\n            // 不支持\r\n            console.log(\"不支持设备震动！\");\r\n            return;\r\n        }\r\n        //\r\n        if (isLong) {\r\n            navigator.vibrate(400);\r\n        } else {\r\n            navigator.vibrate(15);\r\n        }\r\n    }\r\n}","import DefaultDevice from \"./DefaultDevice\";\r\n/**\r\n * 微信设备\r\n */\r\nexport default class WXDevice extends DefaultDevice {\r\n    Vibrate(isLong: boolean) {\r\n        console.log(\"调用震动\", isLong);\r\n        //判断是否在小游戏平台\r\n        if (window['wx']) {\r\n            if (isLong) {\r\n                Laya.timer.callLater(wx, wx.vibrateLong, [null]);\r\n            } else {\r\n                Laya.timer.callLater(wx, wx.vibrateShort, [null]);\r\n            }\r\n        }\r\n    }\r\n}","import ConsoleEx from \"../Console/ConsoleEx\";\r\nimport RootClassProxy from \"../Root/RootClassProxy\";\r\nimport { EPlatformType } from \"./T/EPlatformType\";\r\nimport IPlatform from \"./T/IPlatform\";\r\n/**\r\n * 平台代理类\r\n */\r\nexport default class PlatformManagerProxy extends RootClassProxy {\r\n    /** 单例 */\r\n    private static _instance: PlatformManagerProxy;\r\n    public static get instance(): PlatformManagerProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new PlatformManagerProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    /** 平台实例 */\r\n    private m_platformInstance: IPlatform;\r\n\r\n    /** 获取平台实例 */\r\n    public get PlatformInstance(): IPlatform {\r\n        if (!this.m_platformInstance) {\r\n            console.log(...ConsoleEx.packError('还没有设置过平台实例代理！'));\r\n        }\r\n        return this.m_platformInstance;\r\n    }\r\n\r\n    /** 设置平台实例 */\r\n    public set PlatformInstance(_instance: IPlatform) {\r\n        this.m_platformInstance = _instance;\r\n    }\r\n\r\n    /**\r\n     * 获取当前平台名字\r\n     */\r\n    public static get platformStr(): string {\r\n        return PlatformManagerProxy.GetPlatformStr(this._instance.m_platformInstance.platform);\r\n    }\r\n\r\n    /**\r\n     * 获取平台名字\r\n     * @param platformEnum 平台类型\r\n     */\r\n    public static GetPlatformStr(platformEnum: EPlatformType): string {\r\n        switch (platformEnum) {\r\n            case EPlatformType.None:\r\n                return \"未识别\";\r\n            case EPlatformType.Web:\r\n                return \"网页\";\r\n            case EPlatformType.BD:\r\n                return \"百度\";\r\n            case EPlatformType.OPPO:\r\n                return \"Oppo\";\r\n            case EPlatformType.QQ:\r\n                return \"QQ\";\r\n            case EPlatformType.TT:\r\n                return \"头条\";\r\n            case EPlatformType.VIVO:\r\n                return \"Vivo\";\r\n            case EPlatformType.WX:\r\n                return \"微信\";\r\n            case EPlatformType.QTT:\r\n                return \"趣头条\";\r\n            default:\r\n                return \"未定义\" + platformEnum;\r\n        }\r\n    }\r\n}","import PlatformManagerProxy from \"../PlatformManagerProxy\";\r\nimport IPlatform from \"../T/IPlatform\";\r\nimport IRecordManager from \"../T/IRecordManager\";\r\n/**\r\n * 默认录屏管理器\r\n */\r\nexport default class DefaultRecordManager implements IRecordManager {\r\n    Platform: IPlatform;\r\n\r\n    supportRecord: boolean = false;\r\n\r\n    isRecording: boolean = false;\r\n\r\n    isPausing: boolean = false;\r\n\r\n    isRecordSuccess: boolean = false;\r\n\r\n    videoSavePath: string;\r\n\r\n    StartRecord(onStart: Laya.Handler, onOverTime: Laya.Handler) {\r\n        console.log(\"该平台\" + PlatformManagerProxy.platformStr + \"不支持录制视频\");\r\n    }\r\n\r\n    StopRecord(onStop: Laya.Handler) {\r\n        console.log(\"该平台\" + PlatformManagerProxy.platformStr + \"不支持录制视频\");\r\n    }\r\n\r\n    Pause(onPause: Laya.Handler) {\r\n        console.log(\"该平台\" + PlatformManagerProxy.platformStr + \"不支持录制视频\");\r\n    }\r\n    Resume(onReume: Laya.Handler) {\r\n        console.log(\"该平台\" + PlatformManagerProxy.platformStr + \"不支持录制视频\");\r\n    }\r\n\r\n    RecordClip(timeRange: number[]) {\r\n        console.log(\"该平台\" + PlatformManagerProxy.platformStr + \"不支持录制视频\");\r\n    }\r\n\r\n    ShareVideo(onSuccess: Laya.Handler, onCancel: Laya.Handler, onFailed: Laya.Handler) {\r\n        if (onFailed) {\r\n            onFailed.run();\r\n        }\r\n    }\r\n\r\n}","import ArrayUtils from \"./ArrayUtils\";\r\n/**\r\n * 数学函数扩展\r\n */\r\nexport default class MathUtils {\r\n\r\n    public static Deg2Rad = 0.0175;\r\n    public static Rad2Deg = 57.2958;\r\n\r\n    public static ToHex(num: number): string {\r\n        return num.toString(16);\r\n    }\r\n\r\n    public static RandomFromArrayUtilscept<T>(numArr: T[], except: T): T {\r\n        let fakeRandomList = [];\r\n        for (let i = 0; i < numArr.length; ++i) {\r\n            if (except == numArr[i]) continue;\r\n            fakeRandomList.push(numArr[i]);\r\n        }\r\n        return this.RandomFromArray(fakeRandomList);\r\n    }\r\n\r\n    public static RandomFromArray<T>(numArr: T[]): T {\r\n        let randomIndex = MathUtils.RandomInt(0, numArr.length);\r\n        return numArr[randomIndex];\r\n    }\r\n\r\n    public static RandomArrayFromArray<T>(arr: T[], count: number): T[] {\r\n        let result = [];\r\n        let indexList = [];\r\n        for (let i = 0; i < arr.length; ++i) {\r\n            indexList.push(i);\r\n        }\r\n        for (let i = 0; i < count; ++i) {\r\n            let randomIndex = MathUtils.RandomInt(0, indexList.length);\r\n            let getIndex = indexList[randomIndex];\r\n            ArrayUtils.RemoveAt(indexList, randomIndex);\r\n            result.push(arr[getIndex]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static RandomFromWithWeight<T>(numArr: T[], weightArr: number[]) {\r\n        if (numArr == null || numArr.length == 0) {\r\n            return null;\r\n        }\r\n        var totalWeight = 0;\r\n        for (var weight of weightArr) {\r\n            totalWeight += weight;\r\n        }\r\n        var randomWeight = MathUtils.Random(0, totalWeight);\r\n        var currentWeight = 0;\r\n        for (var i = 0; i < numArr.length; ++i) {\r\n            currentWeight += weightArr[i];\r\n            if (randomWeight < currentWeight) {\r\n                return numArr[i];\r\n            }\r\n        }\r\n        return numArr[numArr.length - 1];\r\n    }\r\n\r\n    // max  = max + 1\r\n    public static RandomInt(min: number, maxAddOne: number): number {\r\n        return Math.floor(this.Random(min, maxAddOne));\r\n    }\r\n\r\n    // max  = max + 1\r\n    public static Random(min: number, maxAddOne: number): number {\r\n        return (maxAddOne - min) * Math.random() + min;\r\n    }\r\n\r\n    /**\r\n     * 获取一个范围内随机整数\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    public static randomRangeInt(min: number, max: number): number {\r\n        return Math.floor(Math.random() * (max - min) + min);\r\n    }\r\n\r\n    /**\r\n     * 判定概率命中\r\n     * @param ratio 概率，百分数\r\n     */\r\n    public static RandomRatio(ratio: number): boolean {\r\n        let v = MathUtils.RandomInt(0, 10000) * 0.01;\r\n        if (ratio > v) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static Clamp(value: number, min: number, max: number): number {\r\n        if (value < min) return min;\r\n        if (value > max) return max;\r\n        return value;\r\n    }\r\n\r\n    public static Clamp01(value: number): number {\r\n        return this.Clamp(value, 0, 1);\r\n    }\r\n\r\n    public static Sign(value: number): number {\r\n        if (value == 0) return 1;\r\n        return value > 0 ? 1 : -1;\r\n    }\r\n\r\n    public static GetNumCount(num: number): number {\r\n        var numberCount = 0;\r\n        var newNumber = num;\r\n        while (newNumber / 10 > 0) {\r\n            newNumber = Math.floor(newNumber / 10);\r\n            numberCount++;\r\n        }\r\n        return numberCount;\r\n    }\r\n\r\n    public static Lerp(from: number, to: number, progress: number): number {\r\n        return from + (to - from) * MathUtils.Clamp01(progress);\r\n    }\r\n\r\n    public static MoveTowardsAngle(current: number, target: number, maxDelta: number) {\r\n        var num = MathUtils.DeltaAngle(current, target);\r\n        if (0 - maxDelta < num && num < maxDelta) {\r\n            return target;\r\n        }\r\n        target = current + num;\r\n        return MathUtils.MoveTowards(current, target, maxDelta);\r\n    }\r\n\r\n    public static MoveTowards(current: number, target: number, maxDelta: number): number {\r\n        if (Math.abs(target - current) <= maxDelta) {\r\n            return target;\r\n        }\r\n        return current + Math.sign(target - current) * maxDelta;\r\n    }\r\n\r\n    public static DeltaAngle(current: number, target: number): number {\r\n        var num = MathUtils.Repeat(target - current, 360);\r\n        if (num > 180) {\r\n            num -= 360;\r\n        }\r\n        return num;\r\n    }\r\n\r\n    public static Repeat(t: number, length: number): number {\r\n        return MathUtils.Clamp(t - Math.floor(t / length) * length, 0, length);\r\n    }\r\n\r\n    public static IsSimilar(n1: number, n2: number) {\r\n        return n1 == n2;\r\n    }\r\n\r\n}","/**\r\n * 分享书籍实例\r\n */\r\nexport class ShareInfo {\r\n    /**\r\n     * 分享Id\r\n     */\r\n    public shareId: number;\r\n\r\n    /**\r\n     * 分享图片URL\r\n     */\r\n    public shareImg: string;\r\n\r\n    /**\r\n     * 分享路径\r\n     */\r\n    public sharePath: string;\r\n\r\n    /**\r\n     * 分享标题\r\n     */\r\n    public shareTitle: string;\r\n}","import MathUtils from \"../Utils/MathUtils\";\r\nimport PlatformManagerProxy from \"./PlatformManagerProxy\";\r\nimport { ShareInfo } from \"./T/ShareInfo\";\r\n/**\r\n * 分享管理器\r\n */\r\nexport default class ShareManager {\r\n\r\n    private static _instance;\r\n    public static get instance(): ShareManager {\r\n        if (this._instance == null) {\r\n            this._instance = new ShareManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    private _shareInfoList: ShareInfo[];\r\n\r\n    constructor() {\r\n        this._shareInfoList = [];\r\n    }\r\n\r\n    public AddShareInfo(shareInfo: ShareInfo) {\r\n        for (let getInfo of this._shareInfoList) {\r\n            if (getInfo.shareId == shareInfo.shareId) return;\r\n        }\r\n        this._shareInfoList.push(shareInfo);\r\n    }\r\n\r\n    public GetShareInfo(id: number = null): ShareInfo {\r\n        if (this._shareInfoList.length == 0) {\r\n            let fakeShareInfo = new ShareInfo();\r\n            return fakeShareInfo;\r\n        }\r\n        if (id != null) {\r\n            for (let shareInfo of this._shareInfoList) {\r\n                if (shareInfo.shareId == id) return shareInfo;\r\n            }\r\n        }\r\n        let randomShare = MathUtils.RandomFromArray(this._shareInfoList);\r\n        return randomShare;\r\n    }\r\n\r\n    public ShareAppMessage(shareInfo: ShareInfo) {\r\n        PlatformManagerProxy.instance.PlatformInstance.ShareAppMessage(shareInfo, Laya.Handler.create(this, () => {\r\n            console.log(\"分享成功\");\r\n        }), null);\r\n    }\r\n\r\n}","import Awaiters from \"../../Async/Awaiters\";\r\nimport ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport StringUtils from \"../../Utils/StringUtils\";\r\nimport { PlatformCommonEvent } from \"../Common/PlatformCommonEventId\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\nimport WXDevice from \"../Device/WXDevice\";\r\nimport PlatformManagerProxy from \"../PlatformManagerProxy\";\r\nimport DefaultRecordManager from \"../Record/DefaultRecordManager\";\r\nimport ShareManager from \"../ShareManager\";\r\nimport { EPlatformType } from \"../T/EPlatformType\";\r\nimport { IDevice } from \"../T/IDevice\";\r\nimport IPlatform from \"../T/IPlatform\";\r\nimport IRecordManager from \"../T/IRecordManager\";\r\nimport { ShareInfo } from \"../T/ShareInfo\";\r\n\r\n/**\r\n * 微信平台实例\r\n */\r\nexport default class WXPlatform implements IPlatform {\r\n    base: any;\r\n    platformData: PlatformData;\r\n    onPause: Laya.Handler;\r\n    appId: string;\r\n    platform: EPlatformType = EPlatformType.WX;\r\n    safeArea: PlatformCommonDefine.SafeArea = null;\r\n    lauchOption: PlatformCommonDefine.LaunchOption;\r\n    loginState: PlatformCommonDefine.LoginState;\r\n    onLoginEnd: Laya.Handler;\r\n    onResume: Laya.Handler;\r\n    recordManager: IRecordManager = new DefaultRecordManager();\r\n    device: IDevice = new WXDevice();\r\n    systemInfo: any;\r\n    loginCode: string = null;\r\n    /**\r\n     * 是否支持直接跳转到其他小程序\r\n     */\r\n    isSupportJumpOther: boolean = true;\r\n\r\n    protected _data: PlatformData;\r\n\r\n    protected _bannerAd;\r\n    protected _rewardVideo;\r\n    protected _intersitialAd;\r\n\r\n    protected _isBannerLoaded: boolean = false;\r\n    protected _isVideoLoaded: boolean = false;\r\n    protected _isInterstitialLoaded: boolean = false;\r\n    protected _videoFailedCount: number;\r\n    protected _interstitalFailedCount: number;\r\n\r\n    protected _rewardSuccessed: Laya.Handler;\r\n    protected _rewardSkipped: Laya.Handler;\r\n\r\n    protected _cacheScreenScale: number;\r\n\r\n    protected _shareVideoBtn;\r\n\r\n    protected _base: any;\r\n\r\n\r\n    protected _cacheVideoAD: boolean = false;\r\n\r\n    Init(platformData: PlatformData) {\r\n        this._base = window[\"wx\"];\r\n        if (this._base == null) {\r\n            console.error(...ConsoleEx.packError(\"平台初始化错误\", PlatformManagerProxy.platformStr));\r\n            return;\r\n        }\r\n        this.platformData = platformData;\r\n        this.recordManager.Platform = this;\r\n        this._InitLauchOption();\r\n        this._Login();\r\n        this._InitShareInfo();\r\n        this._InitSystemInfo();\r\n        this._CreateBannerAd();\r\n        this._CreateVideoAd();\r\n        this._CreateInterstitalAd();\r\n        window[\"iplatform\"] = this;\r\n    }\r\n\r\n    _CheckUpdate() {\r\n        let updateManager = this._base.getUpdateManager();\r\n        if (updateManager == null) return;\r\n\r\n        updateManager.onCheckForUpdate(function (res) {\r\n            // 请求完新版本信息的回调\r\n            console.log(\"onCheckForUpdate\", res.hasUpdate);\r\n            if (res.hasUpdate) {\r\n                this._base.showToast({\r\n                    title: \"即将有更新请留意\"\r\n                });\r\n            }\r\n        });\r\n\r\n        updateManager.onUpdateReady(() => {\r\n            this._base.showModal({\r\n                title: \"更新提示\",\r\n                content: \"新版本已经准备好，是否立即使用？\",\r\n                success: function (res) {\r\n                    if (res.confirm) {\r\n                        // 调用 applyUpdate 应用新版本并重启\r\n                        updateManager.applyUpdate();\r\n                    } else {\r\n                        this._base.showToast({\r\n                            icon: \"none\",\r\n                            title: \"小程序下一次「冷启动」时会使用新版本\"\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        updateManager.onUpdateFailed(() => {\r\n            this._base.showToast({\r\n                title: \"更新失败，下次启动继续...\"\r\n            });\r\n        });\r\n    }\r\n\r\n    protected _Login() {\r\n        this.loginState = {\r\n            isLogin: false,\r\n            code: \"\"\r\n        };\r\n        let loginData = {} as PlatformCommonDefine.LoginData;\r\n        loginData.success = (res) => {\r\n            this.loginCode = res.code;\r\n            this._OnLoginSuccess(res);\r\n            console.error(this.loginState);\r\n        };\r\n        loginData.fail = (res) => {\r\n            console.error(PlatformManagerProxy.platformStr, \"登录失败\", res);\r\n            this.loginState.isLogin = false;\r\n            this.loginState.code = \"\";\r\n        };\r\n        loginData.complete = () => {\r\n            if (this.onLoginEnd != null) {\r\n                this.onLoginEnd.run();\r\n            }\r\n        };\r\n        this._base.login(loginData);\r\n    }\r\n    public GetStorage(key: string): any {\r\n        if (this.base && this.base.getStorageSync && key) {\r\n            try {\r\n                return this.base.getStorageSync(key);\r\n            } catch (error) {\r\n                console.log('getStorageSync error: ', JSON.stringify(error));\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n    public SetStorage(key: string, data: any) {\r\n        if (this.base && this.base.getStorageSync && key) {\r\n            try {\r\n                return this.base.setStorageSync(key, data);\r\n            } catch (error) {\r\n                console.log('setStorageSync error: ', JSON.stringify(error));\r\n            }\r\n        }\r\n    }\r\n    protected _OnLoginSuccess(res: PlatformCommonDefine.LoginSuccessRes) {\r\n        console.log(PlatformManagerProxy.platformStr, \"登录成功\", res);\r\n        this.loginState.isLogin = true;\r\n        this.loginState.code = res.code;\r\n    }\r\n\r\n    protected _InitLauchOption() {\r\n        // 绑定onShow事件\r\n        this._base.onShow(this._OnShow);\r\n        this._base.onHide(this._OnHide);\r\n        // 自动获取一次启动参数\r\n        let res = this._base.getLaunchOptionsSync() as PlatformCommonDefine.LaunchOption;\r\n        this._OnShow(res);\r\n    }\r\n\r\n    protected _InitShareInfo() {\r\n        this._base.showShareMenu({\r\n            withShareTicket: true,\r\n            success: (res) => {\r\n                console.log(\"InitShareSuccess\", res);\r\n            },\r\n            fail: (res) => {\r\n                console.log(\"InitShareFailed\", res);\r\n            },\r\n            complete: (res) => {\r\n                console.log(\"InitShareComplete\", res);\r\n            }\r\n        });\r\n        this._base.onShareAppMessage(\r\n            () => {\r\n                let shareInfo = ShareManager.instance.GetShareInfo();\r\n                return WXPlatform._WrapShareInfo(shareInfo);\r\n            }\r\n        );\r\n    }\r\n\r\n    protected static _WrapShareInfo(shareInfo: ShareInfo) {\r\n        let shareObj = {};\r\n        if (shareInfo.shareTitle) {\r\n            shareObj[\"title\"] = shareInfo.shareTitle;\r\n        }\r\n        if (shareInfo.shareImg) {\r\n            shareObj[\"imageUrl\"] = shareInfo.shareImg;\r\n        }\r\n        if (shareInfo.sharePath) {\r\n            shareObj[\"query\"] = {};\r\n            let pathSplit = shareInfo.sharePath.split(\"?\");\r\n            let params = pathSplit[1].split(\"&\");\r\n            for (let getParam of params) {\r\n                let splitParam = getParam.split(\"=\");\r\n                shareObj[\"query\"][splitParam[0]] = splitParam[1];\r\n            }\r\n        }\r\n        return shareObj;\r\n    }\r\n\r\n    protected _InitSystemInfo() {\r\n        this.base = this._base;\r\n        try {\r\n            this.systemInfo = this._base.getSystemInfoSync();\r\n            console.log(\"系统信息已获取\", this.systemInfo);\r\n\r\n            this.safeArea = this.systemInfo.safeArea as PlatformCommonDefine.SafeArea;\r\n            this._cacheScreenScale = this.systemInfo.screenWidth / Laya.stage.width;\r\n        } catch (e) {\r\n            console.error(e);\r\n            console.error(\"获取设备信息失败,执行默认初始化\");\r\n            this.safeArea = null;\r\n        }\r\n    }\r\n\r\n    protected _CreateInterstitalAd() {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.interstitialId)) {\r\n            console.log(\"无有效的插页广告ID,取消加载\");\r\n            return;\r\n        }\r\n        this._interstitalFailedCount = 0;\r\n        let intAdObj = {};\r\n        intAdObj[\"adUnitId\"] = this.platformData.interstitialId;\r\n        this._intersitialAd = this._base.createInterstitialAd(intAdObj);\r\n        if (!this._intersitialAd)\r\n            return;\r\n        this._intersitialAd.onLoad(() => {\r\n            console.log(\"插页广告加载成功\");\r\n            this._isInterstitialLoaded = true;\r\n        });\r\n        this._intersitialAd.onError((err) => {\r\n            this._interstitalFailedCount++;\r\n            console.error(\"插页广告加载失败\", err);\r\n            if (this._interstitalFailedCount > 10) {\r\n                console.log(\"第\", this._interstitalFailedCount, \"次重新加载插页广告\");\r\n                // 失败自动加载广告\r\n                this._intersitialAd.load();\r\n            }\r\n        });\r\n    }\r\n\r\n    protected _CreateVideoAd() {\r\n        console.log('vedio ad id', this.platformData.rewardVideoId)\r\n        if (!this._cacheVideoAD) {\r\n            console.log(\"当前策略为不缓存视频广告\");\r\n            return;\r\n        }\r\n        let createRewardedVideoAd = this._base[\"createRewardedVideoAd\"];\r\n        if (createRewardedVideoAd == null) {\r\n            console.error(\"无createRewardedVideoAd方法,跳过初始化\");\r\n            return;\r\n        }\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.rewardVideoId)) {\r\n            console.log(\"无有效的视频广告ID,取消加载\");\r\n            return;\r\n        }\r\n        this._videoFailedCount = 0;\r\n        let videoObj = {};\r\n        videoObj[\"adUnitId\"] = this.platformData.rewardVideoId; // \"adunit-5631637236cf16b6\";\r\n        this._rewardVideo = createRewardedVideoAd(videoObj);\r\n        this._rewardVideo.onLoad(() => {\r\n            console.log(\"视频广告加载成功\");\r\n            this._isVideoLoaded = true;\r\n        });\r\n        this._rewardVideo.onError((res) => {\r\n            this._videoFailedCount++;\r\n            console.error(\"视频广告加载失败\", res);\r\n            if (this._videoFailedCount > 10) {\r\n                console.log(\"第\", this._videoFailedCount, \"次重新加载视频广告\");\r\n                // 失败自动加载广告\r\n                this._rewardVideo.load();\r\n            }\r\n        });\r\n        this._rewardVideo.onClose((res) => {\r\n\r\n            Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n            console.log(\"视频回调\", res);\r\n\r\n            let isEnd = res[\"isEnded\"] as boolean;\r\n\r\n            // 修复广告bug\r\n            Awaiters.NextFrame().then(() => {\r\n                if (isEnd) {\r\n                    if (this._rewardSuccessed) this._rewardSuccessed.run();\r\n                } else {\r\n                    if (this._rewardSkipped) this._rewardSkipped.run();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    protected _CreateBannerAd() {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.bannerId)) {\r\n            console.log(\"无有效的banner广告ID,取消加载\");\r\n            return;\r\n        }\r\n        let windowWidth = this._base.getSystemInfoSync().windowWidth;\r\n        let windowHeight = this._base.getSystemInfoSync().windowHeight;\r\n        let bannerObj = {};\r\n        bannerObj[\"adUnitId\"] = this.platformData.bannerId; // \"adunit-b48894d44d318e5a\";\r\n        bannerObj[\"adIntervals\"] = 30;\r\n        let styleObj = {};\r\n        styleObj[\"left\"] = 0;\r\n        styleObj[\"top\"] = 0;\r\n        styleObj[\"width\"] = 300;\r\n        bannerObj[\"style\"] = styleObj;\r\n\r\n        this._bannerAd = this._base.createBannerAd(bannerObj);\r\n        this._isBannerLoaded = false;\r\n\r\n        this._bannerAd.onLoad(() => {\r\n            console.log(\"banner加载成功\");\r\n            this._isBannerLoaded = true;\r\n            this._bannerAd.style.top = windowHeight - this._bannerAd.style.realHeight;\r\n            this._bannerAd.style.left = (windowWidth - this._bannerAd.style.realWidth) / 2;\r\n        });\r\n\r\n        this._bannerAd.onError((res) => {\r\n            console.error(\"banner广告加载失败\", res);\r\n        });\r\n    }\r\n\r\n    IsBannerAvaliable() {\r\n        return this._isBannerLoaded;\r\n    }\r\n    IsVideoAvaliable() {\r\n        return this._isVideoLoaded;\r\n    }\r\n    IsInterstitalAvaliable() {\r\n        return this._isInterstitialLoaded;\r\n    }\r\n    ShowBannerAd() {\r\n        if (!this.IsBannerAvaliable()) {\r\n            return;\r\n        }\r\n        this._bannerAd.show();\r\n    }\r\n    HideBannerAd() {\r\n        this._bannerAd.hide();\r\n    }\r\n\r\n    protected _DoCacheShowVideo(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        if (!this._isVideoLoaded) {\r\n            console.error(\"视频广告尚未加载好\");\r\n            return;\r\n        }\r\n        this._rewardSuccessed = onSuccess;\r\n        this._rewardSkipped = onSkipped;\r\n        this._isVideoLoaded = false;\r\n        Laya.stage.event(PlatformCommonEvent.PAUSE_AUDIO);\r\n        this._rewardVideo.show();\r\n    }\r\n\r\n    protected _DoNoCacheShowVideo(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        this._rewardSuccessed = onSuccess;\r\n        this._rewardSkipped = onSkipped;\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.rewardVideoId)) {\r\n            console.log(\"无有效的视频广告ID,取消加载\");\r\n            onSkipped.run();\r\n            return;\r\n        }\r\n        let createRewardedVideoAd = this._base[\"createRewardedVideoAd\"];\r\n        if (createRewardedVideoAd == null) {\r\n            console.error(\"无createRewardedVideoAd方法,跳过初始化\");\r\n            onSkipped.run();\r\n            return;\r\n        }\r\n        this._videoFailedCount = 0;\r\n        let videoObj = {};\r\n        videoObj[\"adUnitId\"] = this.platformData.rewardVideoId; // \"adunit-5631637236cf16b6\";\r\n        if (this._rewardVideo) {\r\n            this._rewardVideo.offClose(this.onVideoClose);\r\n        }\r\n        this._rewardVideo = createRewardedVideoAd(videoObj);\r\n        this._rewardVideo.onLoad(() => {\r\n            console.log(\"视频广告加载成功\");\r\n            this._isVideoLoaded = true;\r\n        });\r\n        this._rewardVideo.onError((res) => {\r\n            this._videoFailedCount++;\r\n            console.error(\"视频广告加载失败\", res, this._videoFailedCount);\r\n        });\r\n        this._rewardVideo.onClose((res) => {\r\n\r\n            Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n            console.log(\"视频回调\", res);\r\n            let isEnd = res[\"isEnded\"] as boolean;\r\n            Awaiters.NextFrame().then(() => {\r\n                if (isEnd) {\r\n                    if (this._rewardSuccessed) this._rewardSuccessed.run();\r\n                } else {\r\n                    if (this._rewardSkipped) this._rewardSkipped.run();\r\n                }\r\n            });\r\n        });\r\n\r\n        this._rewardVideo.load().then(() => {\r\n            console.log(\"激励视频 加载成功\");\r\n            // 加载成功后 再显示广告\r\n            return this._rewardVideo.show().then(() => {\r\n                //\r\n            }).catch((err) => {\r\n                console.error(err);\r\n            });;\r\n        });\r\n    }\r\n\r\n    private onVideoClose(res): any {\r\n        Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n        console.log(\"视频回调\", res);\r\n        let isEnd = res[\"isEnded\"] as boolean;\r\n        Awaiters.NextFrame().then(() => {\r\n            if (isEnd) {\r\n                if (this._rewardSuccessed)\r\n                    this._rewardSuccessed.run();\r\n            }\r\n            else {\r\n                if (this._rewardSkipped)\r\n                    this._rewardSkipped.run();\r\n            }\r\n        });\r\n    }\r\n\r\n    ShowRewardVideoAd(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        if (this._cacheVideoAD) {\r\n            this._DoCacheShowVideo(onSuccess, onSkipped);\r\n        } else {\r\n            this._DoNoCacheShowVideo(onSuccess, onSkipped);\r\n        }\r\n\r\n    }\r\n    ShowRewardVideoAdAsync(): Promise<boolean> {\r\n        return new Promise(function (resolve) {\r\n            PlatformManagerProxy.instance.PlatformInstance.ShowRewardVideoAd(Laya.Handler.create(this, () => {\r\n                resolve(true);\r\n            }), Laya.Handler.create(this, () => {\r\n                resolve(false);\r\n            }));\r\n        });\r\n    }\r\n    ShowInterstitalAd() {\r\n        if (!this._isInterstitialLoaded) {\r\n            console.error(\"插页广告尚未加载好\");\r\n            return;\r\n        }\r\n        this._intersitialAd.show();\r\n    }\r\n\r\n    GetFromAppId(): string {\r\n        if (this.lauchOption.referrerInfo == null) {\r\n            return null;\r\n        }\r\n        if (StringUtils.IsNullOrEmpty(this.lauchOption.referrerInfo.appId)) {\r\n            return null;\r\n        }\r\n        return this.lauchOption.referrerInfo.appId;\r\n    }\r\n\r\n    /**\r\n     * 小游戏回到前台的事件\r\n     */\r\n    protected _OnShow(res: PlatformCommonDefine.LaunchOption) {\r\n        console.log(PlatformManagerProxy.platformStr, \"OnShow\", res);\r\n        PlatformManagerProxy.instance.PlatformInstance.lauchOption = res;\r\n        PlatformManagerProxy.instance.PlatformInstance._CheckUpdate();\r\n        this.NavigateToAppSuccess = null;\r\n        Awaiters.NextFrame().then(() => {\r\n            if (PlatformManagerProxy.instance.PlatformInstance.onResume) {\r\n                PlatformManagerProxy.instance.PlatformInstance.onResume.runWith(res);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 小游戏退出前台的事件\r\n     */\r\n    protected _OnHide(res: PlatformCommonDefine.LaunchOption) {\r\n        console.log(PlatformManagerProxy.platformStr, \"OnHide\", res);\r\n        if (PlatformManagerProxy.instance.PlatformInstance.onPause) {\r\n            PlatformManagerProxy.instance.PlatformInstance.onPause.runWith(res);\r\n        }\r\n        if (this.NavigateToAppSuccess) {\r\n            this.NavigateToAppSuccess();\r\n        }\r\n    }\r\n\r\n    ShareAppMessage(shareInfo: ShareInfo, onSuccess: Laya.Handler, onFailed: Laya.Handler) {\r\n        console.log(\"分享消息\", shareInfo);\r\n\r\n        let shareObj = WXPlatform._WrapShareInfo(shareInfo);\r\n        this._base.shareAppMessage(shareObj);\r\n\r\n        if (onSuccess) {\r\n            onSuccess.run();\r\n        }\r\n    }\r\n\r\n    LoadSubpackage(name: string, onSuccess: Laya.Handler, onFailed: Laya.Handler, onProgress: Laya.Handler) {\r\n        if (this._base['loadSubpackage'] == null) {\r\n            console.log(\"无加载子包方法,跳过加载子包\", name);\r\n            if (onSuccess) {\r\n                onSuccess.run();\r\n            }\r\n            return;\r\n        }\r\n        let loadObj = {};\r\n        loadObj[\"name\"] = name;\r\n        loadObj[\"success\"] = () => {\r\n            console.log(\"分包加载成功\", name);\r\n            if (onSuccess) {\r\n                onSuccess.run();\r\n            }\r\n        };\r\n        loadObj[\"fail\"] = () => {\r\n            console.error(\"分包加载失败\", name);\r\n            if (onFailed) {\r\n                onFailed.run();\r\n            }\r\n        };\r\n        let loadTask = this._base.loadSubpackage(loadObj);\r\n        loadTask.onProgressUpdate((res) => {\r\n\r\n            if (Laya.Browser.onMobile) {\r\n                console.log(\"分包加载进度\", res);\r\n            }\r\n\r\n            if (onProgress) {\r\n                onProgress.runWith(res.progress / 100);\r\n            }\r\n        });\r\n    }\r\n\r\n    RecordEvent(eventId: string, param: object) {\r\n        console.log(\"记录事件\", eventId, param);\r\n        let aldSendEvent = this._base[\"aldSendEvent\"];\r\n        if (aldSendEvent == null) {\r\n            console.error(\"阿拉丁sdk尚未接入,请检查配置\");\r\n            return;\r\n        }\r\n        if (param != null) {\r\n            aldSendEvent(eventId, param);\r\n        } else {\r\n            aldSendEvent(eventId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 创建分享视频按钮\r\n     * @param x \r\n     * @param y \r\n     * @param width \r\n     * @param height \r\n     */\r\n    public CreateShareVideoBtn(x: number, y: number, width: number, height: number) {\r\n        let btnObj = {} as any;\r\n        btnObj.style = {\r\n            left: x * this._cacheScreenScale,\r\n            top: y * this._cacheScreenScale,\r\n            height: height * this._cacheScreenScale,\r\n            width: width * this._cacheScreenScale\r\n        };\r\n        btnObj.share = {\r\n            query: {\r\n                tick: 1\r\n            },\r\n            bgm: \"\",\r\n            timeRange: [0, 60 * 1000]\r\n        };\r\n        if (this._shareVideoBtn == null) {\r\n            this._shareVideoBtn = this._base.createGameRecorderShareButton(btnObj);\r\n        } else {\r\n            this._shareVideoBtn.show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 隐藏分享视频按钮\r\n     */\r\n    public HideShareVideoBtn() {\r\n        if (this._shareVideoBtn != null) {\r\n            this._shareVideoBtn.hide();\r\n        }\r\n    }\r\n\r\n    ShowToast(str: string) {\r\n        this._base.showToast(\r\n            {\r\n                title: str,\r\n                duration: 2000\r\n            }\r\n        );\r\n    }\r\n\r\n    OpenGameBox(appIds: string[]) {\r\n        console.error(\"当前平台\", PlatformManagerProxy.platformStr, \"暂不支持互推游戏盒子\");\r\n    }\r\n    NavigateToAppSuccess: () => void = null;\r\n    NavigateToApp(appid: string, path?: string, extra?: any, showGC?: boolean, isbanner?: boolean, adid?: number): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            if (showGC) {\r\n                // GlobalUnit.gameManager.GameOver();\r\n            }\r\n            // this.NavigateToAppSuccess = null;\r\n            wx.navigateToMiniProgram({\r\n                appId: appid,\r\n                path: path,\r\n                extraData: extra,\r\n                envVersion: '',\r\n                success: (res) => {\r\n                    console.log('小游戏跳转成功', res);\r\n                    resolve(true);\r\n                },\r\n                fail: () => {\r\n                    console.log('小游戏跳转失败：');\r\n                    reject(false);\r\n                    if (showGC) {\r\n                        //\r\n                    }\r\n                },\r\n                complete: () => { }\r\n            });\r\n        })\r\n    }\r\n    createShortcut() {\r\n        console.log('暂未实现');\r\n    }\r\n}","import BDData from \"../../../cFrameBridge/Platform/Data/BDData\";\r\nimport ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport StringUtils from \"../../Utils/StringUtils\";\r\nimport { PlatformCommonEvent } from \"../Common/PlatformCommonEventId\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\nimport { EPlatformType } from \"../T/EPlatformType\";\r\nimport WXPlatform from \"./WXPlatform\";\r\n/**\r\n * 百度平台实例\r\n */\r\nexport default class BDPlatform extends WXPlatform {\r\n\r\n    platform: EPlatformType = EPlatformType.BD;\r\n\r\n    private _isBannerShowed: boolean;\r\n\r\n    protected _showVideoLoad: boolean = false;\r\n\r\n    Init(platformData: PlatformData) {\r\n        this._base = window[\"swan\"];\r\n        if (this._base == null) {\r\n            console.error(...ConsoleEx.packError(\"平台初始化错误\"));\r\n            return;\r\n        }\r\n        this.platformData = platformData;\r\n        this.recordManager.Platform = this;\r\n        this._InitLauchOption();\r\n        // this._Login();\r\n        this._InitShareInfo();\r\n        this._InitSystemInfo();\r\n        this._isBannerLoaded = false;\r\n        this._isBannerShowed = false;\r\n        // this._CreateBannerAd();\r\n        this._CreateVideoAd();\r\n        this._CreateInterstitalAd();\r\n        window[\"iplatform\"] = this;\r\n    }\r\n\r\n    protected _CreateBannerAd() {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.bannerId)) {\r\n            console.log(\"无有效的banner广告ID,取消加载\");\r\n            return;\r\n        }\r\n        let windowWidth = this._base.getSystemInfoSync().windowWidth;\r\n        let windowHeight = this._base.getSystemInfoSync().windowHeight;\r\n        let bannerObj = {};\r\n        bannerObj[\"adUnitId\"] = this.platformData.bannerId; // \"adunit-b48894d44d318e5a\";\r\n        bannerObj[\"appSid\"] = (this.platformData as BDData).sid;\r\n        let styleObj = {};\r\n        styleObj[\"left\"] = 0;\r\n        styleObj[\"top\"] = 0;\r\n        styleObj[\"width\"] = windowWidth;\r\n        bannerObj[\"style\"] = styleObj;\r\n\r\n        this._bannerAd = this._base.createBannerAd(bannerObj);\r\n\r\n        this._bannerAd.onLoad(() => {\r\n            console.log(\"banner加载成功\");\r\n            this._isBannerLoaded = true;\r\n            this._bannerAd.style.top = windowHeight - this._bannerAd.style.height;\r\n\r\n            // 创建完直接显示广告\r\n            this._bannerAd.show();\r\n        });\r\n\r\n        this._bannerAd.onError((res) => {\r\n            console.error(\"banner广告加载失败\", res);\r\n        });\r\n\r\n    }\r\n\r\n    protected _CreateVideoAd() {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.rewardVideoId)) {\r\n            console.log(\"无有效的视频广告ID,取消加载\");\r\n            return;\r\n        }\r\n        this._videoFailedCount = 0;\r\n        let videoObj = {};\r\n        videoObj[\"adUnitId\"] = this.platformData.rewardVideoId; // \"adunit-5631637236cf16b6\";\r\n        videoObj[\"appSid\"] = (this.platformData as BDData).sid;\r\n        this._rewardVideo = this._base.createRewardedVideoAd(videoObj);\r\n        this._rewardVideo.onLoad(() => {\r\n            console.log(\"视频广告加载成功\");\r\n            this._isVideoLoaded = true;\r\n        });\r\n        this._rewardVideo.onError((res) => {\r\n            this._videoFailedCount++;\r\n            console.error(\"视频广告加载失败\", res);\r\n            if (this._videoFailedCount > 10) {\r\n                console.log(\"第\", this._videoFailedCount, \"次重新加载视频广告\");\r\n                // 失败自动加载广告\r\n                this._rewardVideo.load();\r\n            }\r\n        });\r\n        this._rewardVideo.onClose((res) => {\r\n            this._base.hideLoading();\r\n\r\n            Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n            console.log(\"视频回调\", res);\r\n\r\n            let isEnd = res[\"isEnded\"] as boolean;\r\n            if (isEnd) {\r\n                if (this._rewardSuccessed) this._rewardSuccessed.run();\r\n            } else {\r\n                if (this._rewardSkipped) this._rewardSkipped.run();\r\n            }\r\n            // bd需要自动加载广告\r\n            this._rewardVideo.load();\r\n        });\r\n    }\r\n\r\n    protected _CreateInterstitalAd() {\r\n    }\r\n\r\n    LoadSubpackage(name: string, onSuccess: Laya.Handler, onFailed: Laya.Handler, onProgress: Laya.Handler) {\r\n        let loadObj = {};\r\n        loadObj[\"name\"] = name;\r\n        loadObj[\"success\"] = () => {\r\n            console.log(\"分包加载成功\", name);\r\n            if (onSuccess) {\r\n                onSuccess.run();\r\n            }\r\n        };\r\n        loadObj[\"fail\"] = () => {\r\n            console.error(\"分包加载失败\", name);\r\n            if (onFailed) {\r\n                onFailed.run();\r\n            }\r\n        };\r\n        let loadTask = this._base.loadSubpackage(loadObj);\r\n        loadTask.onProgressUpdate((res) => {\r\n            if (onProgress) {\r\n                let value = res.progress / 100;\r\n                if (isNaN(value)) {\r\n                    value = res.loaded / res.total;\r\n                }\r\n                onProgress.runWith(value);\r\n            }\r\n        });\r\n    }\r\n\r\n    RecordEvent(eventId: string, param: object) {\r\n        this._base.reportAnalytics(eventId, param);\r\n    }\r\n\r\n    ShowBannerAd() {\r\n        if (this._isBannerLoaded) {\r\n            return;\r\n        }\r\n        this._CreateBannerAd();\r\n    }\r\n\r\n    HideBannerAd() {\r\n        if (!this._isBannerLoaded) return;\r\n        this._isBannerLoaded = false;\r\n        if (this._bannerAd) {\r\n            this._bannerAd.destroy();\r\n        }\r\n    }\r\n\r\n}","import DefaultRecordManager from \"./DefaultRecordManager\";\r\n/**\r\n * web录屏工具\r\n */\r\nexport class WebRecordManager extends DefaultRecordManager {\r\n\r\n    supportRecord = false;\r\n\r\n    ShareVideo(onSuccess: Laya.Handler, onCancel: Laya.Handler, onFailed: Laya.Handler) {\r\n        if (this.supportRecord) {\r\n            console.log(\"强制模拟成功\");\r\n            if (onSuccess) {\r\n                onSuccess.run();\r\n            }\r\n        } else {\r\n            console.log(\"强制模拟失败\");\r\n            if (onFailed) {\r\n                onFailed.run();\r\n            }\r\n        }\r\n\r\n    }\r\n}","import { EPlatformType } from \"../T/EPlatformType\";\r\nimport { ShareInfo } from \"../T/ShareInfo\";\r\nimport DefaultDevice from \"../Device/DefaultDevice\";\r\nimport IPlatform from \"../T/IPlatform\";\r\nimport { WebRecordManager } from \"../Record/WebRecordManager\";\r\nimport IRecordManager from \"../T/IRecordManager\";\r\nimport { IDevice } from \"../T/IDevice\";\r\nimport PlatformManagerProxy from \"../PlatformManagerProxy\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\n/**\r\n * 默认平台\r\n */\r\nexport default class DefaultPlatform implements IPlatform {\r\n    base: any;\r\n    platformData: PlatformData;\r\n    onPause: Laya.Handler;\r\n    appId: string;\r\n    platform: EPlatformType = EPlatformType.Web;\r\n    safeArea: PlatformCommonDefine.SafeArea = null;\r\n    lauchOption: PlatformCommonDefine.LaunchOption;\r\n    loginState: PlatformCommonDefine.LoginState;\r\n    onLoginEnd: Laya.Handler;\r\n    onResume: Laya.Handler;\r\n    recordManager: IRecordManager = new WebRecordManager();\r\n    device: IDevice = new DefaultDevice();\r\n    systemInfo: any = null;\r\n\r\n    /**\r\n     * 是否支持直接跳转到其他小程序\r\n     * 默认平台进行强制fake true,方便进行调试\r\n     */\r\n    isSupportJumpOther: boolean = true;\r\n\r\n    Init(platformData: PlatformData) {\r\n        this.loginState = {\r\n            isLogin: false,\r\n            code: null\r\n        };\r\n        this.recordManager.Platform = this;\r\n        Laya.timer.once(500, this, this._FakeLoginEnd);\r\n    }\r\n    private _FakeLoginEnd() {\r\n        if (this.onLoginEnd)\r\n            this.onLoginEnd.run();\r\n    }\r\n    IsBannerAvaliable() {\r\n        return false;\r\n    }\r\n    IsVideoAvaliable() {\r\n        return true;\r\n    }\r\n    IsInterstitalAvaliable() {\r\n        return false;\r\n    }\r\n    /**\r\n     * 显示banner\r\n     */\r\n    ShowBannerAd() {\r\n        console.log(\"调用ShowBannerAd\");\r\n    }\r\n    HideBannerAd() {\r\n        console.log(\"调用HideBannerAd\");\r\n    }\r\n    /**\r\n     * 显示激励视频\r\n     */\r\n    ShowRewardVideoAd(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        console.log(\"调用ShowRewardVideoAd\");\r\n        //默认看完广告\r\n        onSuccess.run();\r\n    }\r\n    ShowRewardVideoAdAsync(): Promise<boolean> {\r\n        return new Promise(function (resolve) {\r\n            PlatformManagerProxy.instance.PlatformInstance.ShowRewardVideoAd(Laya.Handler.create(this, () => {\r\n                resolve(true);\r\n            }), Laya.Handler.create(this, () => {\r\n                resolve(false);\r\n            }));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 显示插屏广告\r\n     */\r\n    ShowInterstitalAd() {\r\n        console.log(\"调用ShowInterstitalAd\");\r\n    }\r\n    GetFromAppId(): string {\r\n        return null;\r\n    }\r\n    ShareAppMessage(obj: ShareInfo, onSuccess: Laya.Handler = null, onFailed: Laya.Handler = null) {\r\n        console.log(\"分享消息\", obj);\r\n        if (onSuccess) {\r\n            onSuccess.run();\r\n        }\r\n    }\r\n    LoadSubpackage(name: string, onSuccess: Laya.Handler, onFailed: Laya.Handler) {\r\n        if (onSuccess) {\r\n            onSuccess.run();\r\n        }\r\n    }\r\n\r\n    RecordEvent(eventId: string, param: object) {\r\n        console.log(\"记录事件\", eventId, param);\r\n    }\r\n\r\n    ShareVideoInfo() {\r\n        console.log(PlatformManagerProxy.platformStr, \"暂未实现录屏功能\");\r\n    }\r\n\r\n    _CheckUpdate() {\r\n\r\n    }\r\n\r\n    ShowToast(str: string) {\r\n        //\r\n        console.log('显示消息：', str);\r\n    }\r\n\r\n    OpenGameBox() {\r\n        console.error(\"当前平台\", PlatformManagerProxy.platformStr, \"暂不支持互推游戏盒子\");\r\n    }\r\n    NavigateToApp(appid: string, path?: string, extra?: any): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            console.error(\"当前平台\", PlatformManagerProxy.platformStr, `暂不支持小程序跳转appid:${appid}`);\r\n            // 这里使用resolve\r\n            resolve(false);\r\n        });\r\n    }\r\n    createShortcut() {\r\n        console.log('创建桌面图标');\r\n    }\r\n    GetStorage(key: string) {\r\n        console.log('读本地存储');\r\n        return Laya.LocalStorage.getItem(key);\r\n    }\r\n    SetStorage(key: string, data: any): void {\r\n        console.log('写本地存储');\r\n        Laya.LocalStorage.setItem(key, data);\r\n\r\n    }\r\n}","import Awaiters from \"../../Async/Awaiters\";\r\nimport StringUtils from \"../../Utils/StringUtils\";\r\nimport DefaultDevice from \"../Device/DefaultDevice\";\r\nimport DefaultRecordManager from \"../Record/DefaultRecordManager\";\r\nimport { EPlatformType } from \"../T/EPlatformType\";\r\nimport { ShareInfo } from \"../T/ShareInfo\";\r\nimport WXPlatform from \"./WXPlatform\";\r\nimport IRecordManager from \"../T/IRecordManager\";\r\nimport { IDevice } from \"../T/IDevice\";\r\nimport { PlatformCommonEvent } from \"../Common/PlatformCommonEventId\";\r\nimport PlatformManagerProxy from \"../PlatformManagerProxy\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\nimport ConsoleEx from \"../../Console/ConsoleEx\";\r\n/**\r\n * OPPO平台实例\r\n */\r\nexport default class OppoPlatform extends WXPlatform {\r\n\r\n    onPause: Laya.Handler;\r\n    appId: string;\r\n    platform: EPlatformType = EPlatformType.OPPO;\r\n    safeArea: PlatformCommonDefine.SafeArea = null;\r\n    lauchOption: PlatformCommonDefine.LaunchOption;\r\n    loginState: PlatformCommonDefine.LoginState;\r\n    onLoginEnd: Laya.Handler;\r\n    onResume: Laya.Handler;\r\n    recordManager: IRecordManager = new DefaultRecordManager();\r\n    device: IDevice = new DefaultDevice();\r\n    systemInfo: any;\r\n\r\n    /**\r\n     * 是否支持直接跳转到其他小程序\r\n     */\r\n    isSupportJumpOther: boolean = true;\r\n\r\n    protected _data: PlatformData;\r\n\r\n    protected _bannerAd;\r\n    protected _rewardVideo;\r\n    protected _isBannerLoaded: boolean = false;\r\n    protected _isVideoLoaded: boolean = false;\r\n    protected _isInterstitialLoaded: boolean = false;\r\n    protected _isInterstitialCanShow: boolean = true;\r\n    protected _nativeAdLoaded: boolean = false;\r\n    protected _videoFailedCount: number;\r\n    protected _interstitalFailedCount: number;\r\n    protected _nativeAdFailedCount: number;\r\n\r\n    protected _rewardSuccessed: Laya.Handler;\r\n    protected _rewardSkipped: Laya.Handler;\r\n\r\n    protected _cacheScreenScale: number;\r\n\r\n    protected _shareVideoBtn;\r\n\r\n    protected _base: any;\r\n\r\n    protected _cacheVideoAD: boolean = false;\r\n\r\n    Init(platformData: PlatformData) {\r\n        this._base = window[\"qg\"];\r\n        if (this._base == null) {\r\n            console.error(...ConsoleEx.packError(\"平台初始化错误\", PlatformManagerProxy.platformStr));\r\n            return;\r\n        }\r\n        this.platformData = platformData;\r\n        this.recordManager.Platform = this;\r\n        this._InitLauchOption();\r\n        this._Login();\r\n        this._InitSystemInfo();\r\n        this.getSystemInfo();\r\n        if (this.systemInfo.platformVersion >= 1051) {\r\n            // 不需要在进行initAdService\r\n        } else {\r\n            this._base.initAdService({\r\n                appId: platformData.appId,\r\n                isDebug: true,\r\n                success: () => {\r\n                    console.log(\"oppo广告\", \"初始化广告服务成功\", platformData);\r\n                    // 不提前进行预加载\r\n                    // this._CreateBannerAd();\r\n                    this._CreateVideoAd();\r\n                    // this._CreateInterstitalAd();\r\n                    // this.intersitialAd = new NativeADUnit(platformData.interstitialId);\r\n                    // this.iconNative = new NativeADUnit(platformData.nativeId);\r\n                    // this.nativeAd = new NativeADUnit(platformData.nativeId);\r\n                },\r\n                fail: () => {\r\n                    console.error(\"oppo广告\", \"初始化广告服务失败\");\r\n                }\r\n            });\r\n        }\r\n\r\n        window[\"iplatform\"] = this;\r\n    }\r\n\r\n    private getSystemInfo() {\r\n        this._base.getSystemInfo({\r\n            success: (res) => {\r\n                this.systemInfo = res;\r\n                console.log(this.systemInfo);\r\n            },\r\n            fail: () => { },\r\n            complete: () => { }\r\n        });\r\n    }\r\n    /**\r\n     * 上报数据\r\n     */\r\n    reportMonitor() {\r\n        console.log('oppo上报数据', this.systemInfo);\r\n        if (this.systemInfo && this.systemInfo.platformVersion >= 1060) {\r\n            this._base.reportMonitor('game_scene', 0);\r\n        }\r\n    }\r\n\r\n    _CheckUpdate() {\r\n\r\n    }\r\n\r\n    protected _Login() {\r\n        this.loginState = {\r\n            isLogin: false,\r\n            code: \"\"\r\n        };\r\n        let loginData = {} as PlatformCommonDefine.LoginData;\r\n        loginData.success = (res) => {\r\n            this._OnLoginSuccess(res);\r\n        };\r\n        loginData.fail = (res) => {\r\n            console.error(PlatformManagerProxy.platformStr, \"登录失败\", res);\r\n            this.loginState.isLogin = false;\r\n            this.loginState.code = \"\";\r\n        };\r\n        loginData.complete = (res) => {\r\n            if (this.onLoginEnd != null) {\r\n                this.onLoginEnd.run();\r\n            }\r\n        };\r\n        this._base.login(loginData);\r\n    }\r\n\r\n    protected _OnLoginSuccess(res: any) {\r\n        console.log(PlatformManagerProxy.platformStr, \"登录成功\", res);\r\n        this.loginState.isLogin = true;\r\n        this.loginState.code = res.token;\r\n    }\r\n    ShareAppMessage(obj: ShareInfo, onSuccess: Laya.Handler, onFailed: Laya.Handler) {\r\n\r\n    }\r\n    protected _InitLauchOption() {\r\n        // 绑定onShow事件\r\n        this._base.onShow(this._OnShow);\r\n        this._base.onHide(this._OnHide);\r\n        // 自动获取一次启动参数\r\n        let res = this._base.getLaunchOptionsSync() as PlatformCommonDefine.LaunchOption;\r\n        this._OnShow(res);\r\n    }\r\n    /**\r\n     * 是否可以创建桌面图标\r\n     */\r\n    canCreateShortcut(): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            qg['hasShortcutInstalled']({\r\n                success: function (res) {\r\n                    // 判断图标是否存在  \r\n                    resolve(res);\r\n                },\r\n                fail: function (err) {\r\n                    reject();\r\n                },\r\n                complete: function () {\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /** 发起创建桌面图标请求 */\r\n    createShortcut() {\r\n        return new Promise<void>((resolve, reject) => {\r\n            qg['hasShortcutInstalled']({\r\n                success: function (res) {\r\n                    // 判断图标未存在时，创建图标\r\n                    if (res == false) {\r\n                        qg['installShortcut']({\r\n                            success: function () {\r\n                                resolve();\r\n                            },\r\n                            fail: function (err) {\r\n                                reject();\r\n                            },\r\n                            complete: function () { }\r\n                        })\r\n                    } else {\r\n                        resolve();\r\n                    }\r\n                } as any,\r\n                fail: function (err) {\r\n                    reject();\r\n                },\r\n                complete: function () { }\r\n            });\r\n        });\r\n    }\r\n\r\n    protected _CreateInterstitalAd() {\r\n        // if (StringUtils.IsNullOrEmpty(this._platformData.interstitialId)) {\r\n        //     console.log(\"无有效的插页广告ID,取消加载\");\r\n        //     return;\r\n        // }\r\n        // this._interstitalFailedCount = 0;\r\n        // let intAdObj = {};\r\n        // intAdObj[\"adUnitId\"] = this._platformData.interstitialId;\r\n        // this._intersitialAd = this._base.createInsertAd(intAdObj);\r\n\r\n        // this._intersitialAd.onLoad(() => {\r\n        //     console.log(\"插页广告加载成功\");\r\n        //     this._isInterstitialLoaded = true;\r\n        // });\r\n        // this._intersitialAd.onClose(() => {\r\n        //     console.log(\"插页广告关闭\");\r\n        //     this._isInterstitialLoaded = false;\r\n        //     this._intersitialAd.load();\r\n        // });\r\n        // this._intersitialAd.onError((err) => {\r\n        //     this._interstitalFailedCount++;\r\n        //     console.error(\"插页广告加载失败\", err);\r\n        //     if (this._interstitalFailedCount > 10) {\r\n        //         console.log(\"第\", this._interstitalFailedCount, \"次重新加载插页广告\");\r\n        //         // 失败自动加载广告\r\n        //         this._intersitialAd.load();\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    protected _CreateVideoAd() {\r\n        if (!this._cacheVideoAD) {\r\n            console.log(\"当前策略为不缓存视频广告\");\r\n            return;\r\n        }\r\n        let createRewardedVideoAd = this._base[\"createRewardedVideoAd\"];\r\n        if (createRewardedVideoAd == null) {\r\n            console.error(\"无createRewardedVideoAd方法,跳过初始化\");\r\n            return;\r\n        }\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.rewardVideoId)) {\r\n            console.log(\"无有效的视频广告ID,取消加载\");\r\n            return;\r\n        }\r\n        this._videoFailedCount = 0;\r\n        let videoObj = {};\r\n        videoObj[\"adUnitId\"] = this.platformData.rewardVideoId;\r\n        this._rewardVideo = createRewardedVideoAd(videoObj);\r\n        this._rewardVideo.onLoad(() => {\r\n            console.log(\"视频广告加载成功\");\r\n            this._isVideoLoaded = true;\r\n        });\r\n        this._rewardVideo.onError((res) => {\r\n            this._videoFailedCount++;\r\n            console.error(\"视频广告加载失败\", res);\r\n            if (this._videoFailedCount > 10) {\r\n                console.log(\"第\", this._videoFailedCount, \"次重新加载视频广告\");\r\n                // 失败自动加载广告\r\n                this._rewardVideo.load();\r\n            }\r\n        });\r\n        this._rewardVideo.onClose((res) => {\r\n            Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n            console.log(\"视频回调\", res);\r\n\r\n            let isEnd = res[\"isEnded\"] as boolean;\r\n            // 修复广告bug\r\n            Awaiters.NextFrame().then(() => {\r\n                if (isEnd) {\r\n                    if (this._rewardSuccessed) this._rewardSuccessed.run();\r\n                } else {\r\n                    if (this._rewardSkipped) this._rewardSkipped.run();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    IsBannerAvaliable() {\r\n        return this._isBannerLoaded;\r\n    }\r\n    IsVideoAvaliable() {\r\n        return this._isVideoLoaded;\r\n    }\r\n    IsInterstitalAvaliable() {\r\n        return false;// LTSDK.instance.isADEnable && this._isInterstitialCanShow && CommonSaveData.instance.interstitialCount < 888;\r\n    }\r\n    IsNativeAvaliable() {\r\n        return this._nativeAdLoaded;\r\n    }\r\n    async ShowBannerAd() {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.bannerId)) {\r\n            console.log(\"无有效的banner广告ID,取消加载\");\r\n            return;\r\n        }\r\n        if (this._bannerAd) {\r\n            this._bannerAd.show();\r\n            console.log('展示已有banner');\r\n            return;\r\n        }\r\n        this.HideBannerAd();\r\n        this._bannerAd = this._base.createBannerAd(\r\n            {\r\n                adUnitId: this.platformData.bannerId\r\n            });\r\n        let isBannerLoading: boolean = true;\r\n        let loadSuccess: boolean = false;\r\n        this._bannerAd.show().then((res) => {\r\n            console.log(\"banner加载成功\", res);\r\n            if (res['code'] == 0) {\r\n                loadSuccess = true;\r\n            }\r\n            isBannerLoading = false;\r\n        }).catch((res) => {\r\n            console.error(\"banner加载失败\", res);\r\n            isBannerLoading = false;\r\n        })\r\n        while (isBannerLoading) {\r\n            await Awaiters.NextFrame();\r\n        }\r\n        if (loadSuccess) return;\r\n\r\n        console.log(\"banner展示失败,展示native广告\");\r\n        // 销毁广告\r\n        if (this._bannerAd) {\r\n            this._bannerAd.destroy();\r\n            this._bannerAd = null;\r\n        }\r\n\r\n        // 没有则展示原生\r\n        for (let i = 0; i < this.platformData.nativeIconIds.length; ++i) {\r\n            let ret = await this._ShowNativeBanner(i);\r\n            if (ret) {\r\n                break;\r\n            }\r\n            this._bannerAd.destroy();\r\n        }\r\n    }\r\n\r\n\r\n    private async _ShowNativeBanner(index: number) {\r\n        let nativeBanner = this.base.createNativeAd({\r\n            adUnitId: this.platformData.nativeBannerIds[index]\r\n        });\r\n        // 转接对象\r\n        this._bannerAd = nativeBanner;\r\n\r\n        let loadRet = await nativeBanner.load();\r\n        if (loadRet[\"code\"] == 0) {\r\n            // 加载成功\r\n            let adList = loadRet['adList'] as any[];\r\n            if (adList == null || adList.length == 0) {\r\n                console.error(\"native banner加载失败\", loadRet);\r\n                return false;\r\n            }\r\n            let adData = adList[0] as {\r\n                adId: string,\r\n                imgUrlList: string[],\r\n                logoUrl: string,\r\n                icon: string\r\n            };\r\n            if (adData == null) {\r\n                console.error(\"native banner加载失败\", loadRet);\r\n                return false;\r\n            }\r\n            return true;\r\n        } else {\r\n            console.error(\"native banner加载失败\", loadRet);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    HideBannerAd() {\r\n        if (this._bannerAd) {\r\n            this._bannerAd.destroy();\r\n            this._bannerAd = null;\r\n        }\r\n    }\r\n    async ShowNativeAd() {\r\n        if (!this.IsNativeAvaliable()) {\r\n            return;\r\n        }\r\n        // await this._ShowNative();\r\n    }\r\n    HideNativeAd() {\r\n        if (!this.IsNativeAvaliable()) {\r\n            return;\r\n        }\r\n        // this._HideNative();\r\n    }\r\n    // isNativeInterstitialAvaliable(){\r\n    //     return this.intersitialAd.canShowAD\r\n    // }\r\n\r\n    protected _DoCacheShowVideo(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        if (!this._isVideoLoaded) {\r\n            console.error(\"视频广告尚未加载好\");\r\n            return;\r\n        }\r\n        this._rewardSuccessed = onSuccess;\r\n        this._rewardSkipped = onSkipped;\r\n        this._isVideoLoaded = false;\r\n        Laya.stage.event(PlatformCommonEvent.PAUSE_AUDIO);\r\n        this._rewardVideo.show();\r\n    }\r\n\r\n    protected _DoNoCacheShowVideo(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        this._rewardSuccessed = onSuccess;\r\n        this._rewardSkipped = onSkipped;\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.rewardVideoId)) {\r\n            console.log(\"无有效的视频广告ID,取消加载\");\r\n            this._rewardSkipped && this._rewardSkipped.run();\r\n            return;\r\n        }\r\n        let createRewardedVideoAd = this._base[\"createRewardedVideoAd\"];\r\n        if (createRewardedVideoAd == null) {\r\n            console.error(\"无createRewardedVideoAd方法,跳过初始化\");\r\n            this._rewardSkipped && this._rewardSkipped.run();\r\n            return;\r\n        }\r\n        if (this._rewardVideo) {\r\n            this._rewardVideo.destroy();\r\n        }\r\n        let videoObj = {};\r\n        videoObj[\"adUnitId\"] = this.platformData.rewardVideoId; // \"adunit-5631637236cf16b6\";\r\n        this._rewardVideo = createRewardedVideoAd(videoObj);\r\n        console.log(\"广告创建完成\", videoObj);\r\n        this._rewardVideo.onClose((res) => {\r\n            Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n            console.log(\"视频回调\", res);\r\n            let isEnd = res[\"isEnded\"] as boolean;\r\n            Awaiters.NextFrame().then(() => {\r\n                if (isEnd) {\r\n                    if (this._rewardSuccessed) this._rewardSuccessed.run();\r\n                } else {\r\n                    if (this._rewardSkipped) this._rewardSkipped.run();\r\n                }\r\n            });\r\n        });\r\n\r\n        this._rewardVideo.onError((err) => {\r\n            console.log(\"广告组件出现问题\", err);\r\n            if (this._rewardSkipped) this._rewardSkipped.run();\r\n        });\r\n        this._rewardVideo.onLoad((res) => {\r\n            console.log(\"广告加载成功\", res);\r\n        });\r\n        this._rewardVideo.load().then(() => {\r\n            this._rewardVideo.show();\r\n        });\r\n\r\n\r\n    }\r\n\r\n    ShowRewardVideoAd(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        if (this._cacheVideoAD) {\r\n            this._DoCacheShowVideo(onSuccess, onSkipped);\r\n        } else {\r\n            this._DoNoCacheShowVideo(onSuccess, onSkipped);\r\n        }\r\n\r\n    }\r\n    ShowRewardVideoAdAsync(): Promise<boolean> {\r\n        return new Promise(function (resolve) {\r\n            PlatformManagerProxy.instance.PlatformInstance.ShowRewardVideoAd(Laya.Handler.create(this, () => {\r\n                resolve(true);\r\n            }), Laya.Handler.create(this, () => {\r\n                resolve(false);\r\n            }));\r\n        });\r\n    }\r\n\r\n    private async _DisableInterstitalAd() {\r\n        this._isInterstitialCanShow = false;\r\n        await Awaiters.Seconds(60);\r\n        this._isInterstitialCanShow = true;\r\n    }\r\n\r\n    GetFromAppId(): string {\r\n        if (this.lauchOption.referrerInfo == null) {\r\n            return null;\r\n        }\r\n        if (StringUtils.IsNullOrEmpty(this.lauchOption.referrerInfo.appId)) {\r\n            return null;\r\n        }\r\n        return this.lauchOption.referrerInfo.appId;\r\n    }\r\n    /** 发起创建桌面图标请求 */\r\n    protected CreatShortcut() {\r\n        return new Promise<void>((resolve, reject) => {\r\n            qg['hasShortcutInstalled']({\r\n                success: function (res) {\r\n                    // 判断图标未存在时，创建图标\r\n                    if (res == false) {\r\n                        qg['installShortcut']({\r\n                            success: function () {\r\n                                resolve();\r\n                            },\r\n                            fail: function (err) {\r\n                                reject();\r\n                            },\r\n                            complete: function () { }\r\n                        })\r\n                    } else {\r\n                        resolve();\r\n                    }\r\n                } as any,\r\n                fail: function (err) {\r\n                    reject();\r\n                },\r\n                complete: function () { }\r\n            });\r\n        });\r\n    }\r\n\r\n    LoadSubpackage(name: string, onSuccess: Laya.Handler, onFailed: Laya.Handler, onProgress: Laya.Handler) {\r\n        let loadObj = {};\r\n        loadObj[\"name\"] = name;\r\n        loadObj[\"success\"] = () => {\r\n            console.log(\"分包加载成功\", name);\r\n            if (onSuccess) {\r\n                onSuccess.run();\r\n            }\r\n        };\r\n        loadObj[\"fail\"] = () => {\r\n            console.error(\"分包加载失败\", name);\r\n            if (onFailed) {\r\n                onFailed.run();\r\n            }\r\n        };\r\n        let loadTask = this._base.loadSubpackage(loadObj);\r\n        loadTask.onProgressUpdate((res) => {\r\n            console.log(\"分包加载进度\", res);\r\n\r\n            if (onProgress) {\r\n                onProgress.runWith(res.progress / 100);\r\n            }\r\n        });\r\n    }\r\n\r\n    RecordEvent(eventId: string, param: object) {\r\n        console.log(\"[记录事件]\", eventId, param);\r\n    }\r\n\r\n    /**\r\n     * 创建分享视频按钮\r\n     * @param x \r\n     * @param y \r\n     * @param width \r\n     * @param height \r\n     */\r\n    public CreateShareVideoBtn(x: number, y: number, width: number, height: number) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 隐藏分享视频按钮\r\n     */\r\n    public HideShareVideoBtn() {\r\n        if (this._shareVideoBtn != null) {\r\n            this._shareVideoBtn.hide();\r\n        }\r\n    }\r\n\r\n    ShowToast(str: string) {\r\n        this._base.showToast(\r\n            {\r\n                title: str,\r\n                duration: 2000\r\n            }\r\n        );\r\n    }\r\n\r\n    OpenGameBox(appIds: string[]) {\r\n\r\n        console.error(\"当前平台\", PlatformManagerProxy.platformStr, \"暂不支持互推游戏盒子\");\r\n    }\r\n    /**\r\n     * @param appId oppo vivo传包名\r\n     */\r\n    NavigateToApp(appId: string, path?: string, extra?: any): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            Laya.Browser.window.qg.navigateToMiniGame({\r\n                pkgName: appId,\r\n                path: path,\r\n                extraData: extra,\r\n                success: function () {\r\n                    resolve(true);\r\n                    console.log('oppo小游戏跳转成功');\r\n                },\r\n                fail: function (res) {\r\n                    reject(false);\r\n                    console.log('oppo小游戏跳转失败：', JSON.stringify(res));\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n}\r\nexport interface OppoAdData {\r\n    adId: string;\r\n    clickBtnTxt: string;\r\n    creativeType: number;\r\n    desc: string;\r\n    icon: string;\r\n    iconUrlList: Array<string>;\r\n    imgUrlList: Array<string>;\r\n    interactionType: number;\r\n    logoUrl: string;\r\n    title: string;\r\n    /** 是否已上报展示 */\r\n    show_reported?: boolean,\r\n    /** 是否已上报点击 */\r\n    click_reported?: boolean,\r\n}\r\n\r\n","import ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport StringUtils from \"../../Utils/StringUtils\";\r\nimport { PlatformCommonEvent } from \"../Common/PlatformCommonEventId\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\nimport PlatformManagerProxy from \"../PlatformManagerProxy\";\r\nimport { EPlatformType } from \"../T/EPlatformType\";\r\nimport WXPlatform from \"./WXPlatform\";\r\n/**\r\n * QQ平台实例\r\n */\r\nexport default class QQPlatform extends WXPlatform {\r\n\r\n    platform: EPlatformType = EPlatformType.QQ;\r\n    blockAd: any;\r\n    appBox: any;\r\n    Init(platformData: PlatformData) {\r\n        this._base = window[\"qq\"];\r\n        if (this._base == null) {\r\n            console.error(...ConsoleEx.packError(\"平台初始化错误\", PlatformManagerProxy.platformStr));\r\n            return;\r\n        }\r\n        this.platformData = platformData;\r\n        this.recordManager.Platform = this;\r\n        this._InitLauchOption();\r\n        this._Login();\r\n        this._InitShareInfo();\r\n        this._InitSystemInfo();\r\n        this._CreateBannerAd();\r\n        this._CreateVideoAd();\r\n        this._CreateInterstitalAd();\r\n\r\n        window[\"iplatform\"] = this;\r\n        console.error(\"平台初始化完成\", PlatformManagerProxy.platformStr);\r\n    }\r\n\r\n    protected _InitSystemInfo() {\r\n        try {\r\n            let systemInfo = this._base.getSystemInfoSync();\r\n            this._cacheScreenScale = systemInfo.screenWidth / Laya.stage.width;\r\n            this.safeArea = {} as PlatformCommonDefine.SafeArea;\r\n            this.safeArea.width = systemInfo.windowWidth;\r\n            this.safeArea.height = systemInfo.windowHeight;\r\n            this.safeArea.top = systemInfo.statusBarHeight;\r\n            this.safeArea.bottom = 0;\r\n\r\n            console.log(\"QQ覆写_InitSystemInfo\", this.safeArea);\r\n        } catch (e) {\r\n            console.error(e);\r\n            console.error(\"获取设备信息失败,执行默认初始化\");\r\n            this.safeArea = null;\r\n        }\r\n    }\r\n\r\n    protected _CreateBannerAd(show?: boolean) {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.bannerId)) {\r\n            console.log(\"无有效的banner广告ID,取消加载\");\r\n            return;\r\n        }\r\n        let windowWidth = this._base.getSystemInfoSync().windowWidth;\r\n        let windowHeight = this._base.getSystemInfoSync().windowHeight;\r\n        let bannerObj = {};\r\n        bannerObj[\"adUnitId\"] = this.platformData.bannerId; // \"adunit-b48894d44d318e5a\";\r\n        let styleObj = {};\r\n\r\n        styleObj[\"top\"] = windowHeight - 80;\r\n        styleObj[\"width\"] = 300;\r\n        styleObj[\"left\"] = (windowWidth - styleObj[\"width\"]) / 2;\r\n        bannerObj[\"style\"] = styleObj;\r\n\r\n        this._bannerAd = this._base.createBannerAd(bannerObj);\r\n        this._isBannerLoaded = false;\r\n\r\n        this._bannerAd.onLoad(() => {\r\n            console.log(\"qq banner加载成功\", this._bannerAd);\r\n            this._isBannerLoaded = true;\r\n            if (show) {\r\n                this._bannerAd.show();\r\n            }\r\n        });\r\n\r\n        this._bannerAd.onError((res) => {\r\n            console.error(\"banner广告加载失败\", res);\r\n        });\r\n\r\n        this._bannerAd.onResize((size) => {\r\n            console.log(\"onResize\", size);\r\n            this._bannerAd.style.top = windowHeight - 80;\r\n            this._bannerAd.style.left = (windowWidth - 300) / 2;\r\n            console.log(\"onResize\", this._bannerAd);\r\n        });\r\n        // super._CreateBannerAd();\r\n    }\r\n\r\n    IsBannerAvaliable() {\r\n        return this._isBannerLoaded;\r\n    }\r\n    IsVideoAvaliable() {\r\n        return this._isVideoLoaded;\r\n    }\r\n    IsInterstitalAvaliable() {\r\n        return this._isInterstitialLoaded;\r\n    }\r\n    isBannerShowing: boolean = false;\r\n    ShowBannerAd() {\r\n        if (!this.IsBannerAvaliable()) {\r\n            return;\r\n        }\r\n        this._bannerAd.show();\r\n        this.isBannerShowing = true;\r\n        Laya.timer.loop(15 * 1000, this, this.refreshBanner);\r\n    }\r\n    refreshBanner() {\r\n        if (this.isBannerShowing) {\r\n            console.log('refresh banner');\r\n            this._bannerAd.hide();\r\n            this._CreateBannerAd(true);\r\n        }\r\n    }\r\n    HideBannerAd() {\r\n\r\n        if (!this.IsBannerAvaliable()) return;\r\n        if (this._bannerAd) {\r\n            this._bannerAd.hide();\r\n            Laya.timer.clear(this, this.refreshBanner);\r\n            this.isBannerShowing = false;\r\n        }\r\n        this._CreateBannerAd();\r\n\r\n    }\r\n\r\n    protected _DoCacheShowVideo(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        if (!this._isVideoLoaded) {\r\n            console.error(\"视频广告尚未加载好\");\r\n            return;\r\n        }\r\n        this._rewardSuccessed = onSuccess;\r\n        this._rewardSkipped = onSkipped;\r\n        this._isVideoLoaded = false;\r\n        Laya.stage.event(PlatformCommonEvent.PAUSE_AUDIO);\r\n        this._rewardVideo.show();\r\n    }\r\n\r\n    protected _DoNoCacheShowVideo(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        this._rewardSuccessed = onSuccess;\r\n        this._rewardSkipped = onSkipped;\r\n        if (!this._isVideoLoaded || !this._rewardVideo) {\r\n            if (StringUtils.IsNullOrEmpty(this.platformData.rewardVideoId)) {\r\n                console.log(\"无有效的视频广告ID,取消加载\");\r\n                onSkipped.run();\r\n                return;\r\n            }\r\n            let createRewardedVideoAd = this._base[\"createRewardedVideoAd\"];\r\n            if (createRewardedVideoAd == null) {\r\n                console.error(\"无createRewardedVideoAd方法,跳过初始化\");\r\n                onSkipped.run();\r\n                return;\r\n            }\r\n            this._videoFailedCount = 0;\r\n            let videoObj = {};\r\n            videoObj[\"adUnitId\"] = this.platformData.rewardVideoId; // \"adunit-5631637236cf16b6\";\r\n            this._rewardVideo = createRewardedVideoAd(videoObj);\r\n            this._rewardVideo.onLoad(() => {\r\n                console.log(\"视频广告加载成功\");\r\n                this._isVideoLoaded = true;\r\n            });\r\n            this._rewardVideo.onError((res) => {\r\n                this._videoFailedCount++;\r\n                console.error(\"视频广告加载失败\", res, this._videoFailedCount);\r\n            });\r\n            this._rewardVideo.onClose((res) => {\r\n                Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n                console.log(\" NoCache - 视频回调\", res);\r\n                let isEnd = res[\"isEnded\"] as boolean;\r\n                console.log(\"noCache---\", isEnd, \"----\", !!this._rewardSuccessed, \"-----\", !!this._rewardSkipped);\r\n                if (isEnd) {\r\n                    if (this._rewardSuccessed) this._rewardSuccessed.run();\r\n                } else {\r\n                    if (this._rewardSkipped) this._rewardSkipped.run();\r\n                }\r\n            });\r\n        }\r\n        this._rewardVideo.show().then(() => {\r\n            //\r\n        }).catch(err => {\r\n            console.log(\"广告组件出现问题\", err);\r\n            // 可以手动加载一次\r\n            this._rewardVideo.load().then(() => {\r\n                console.log(\"手动加载成功\");\r\n                // 加载成功后需要再显示广告\r\n                return this._rewardVideo.show().then(() => {\r\n                    //\r\n                });\r\n            });\r\n        });;\r\n    }\r\n\r\n    ShowRewardVideoAd(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        if (this._cacheVideoAD) {\r\n            this._DoCacheShowVideo(onSuccess, onSkipped);\r\n        } else {\r\n            this._DoNoCacheShowVideo(onSuccess, onSkipped);\r\n        }\r\n    }\r\n\r\n    ShowRewardVideoAdAsync(): Promise<boolean> {\r\n        return new Promise(function (resolve) {\r\n            PlatformManagerProxy.instance.PlatformInstance.ShowRewardVideoAd(Laya.Handler.create(this, () => {\r\n                resolve(true);\r\n            }, null, true), Laya.Handler.create(this, () => {\r\n                resolve(false);\r\n            }, null, true));\r\n        });\r\n    }\r\n    ShowInterstitalAd() {\r\n        if (!this._isInterstitialLoaded) {\r\n            console.error(\"插页广告尚未加载好\");\r\n            return;\r\n        }\r\n        this._intersitialAd.show();\r\n    }\r\n\r\n    OpenGameBox(appIds: string[] = []) {\r\n        this.showAppBox();\r\n    }\r\n    /**\r\n     * 盒子广告\r\n     */\r\n    showAppBox() {\r\n        if (this.appBox) {\r\n            this.appBox.show();\r\n        }\r\n    }\r\n    createAppBox(show?: boolean) {\r\n        if (!this.appBox) {\r\n            this.appBox = this._base.createAppBox({\r\n                adUnitId: ''\r\n            });\r\n        }\r\n\r\n        this.appBox.load().then(() => {\r\n            if (show) {\r\n                this.appBox.show();\r\n            }\r\n        });\r\n        this.appBox.onClose(() => {\r\n            console.log('关闭盒子');\r\n        });\r\n\r\n    }\r\n    hideAppBox() {\r\n        if (this.appBox) {\r\n            this.appBox.destroy();\r\n        }\r\n    }\r\n    /**\r\n     * 积木广告 1-5\r\n     */\r\n    showBlockAd(count: number = 1) {\r\n        let obj = {\r\n            adUnitId: \"\",\r\n            style: { left: 55, top: Laya.stage.height / 2 },\r\n            size: count,//范围是1~5，积木广告的个数（展示以实际拉取广告数量为准）\r\n            orientation: 'vertical'//landscape 或者 vertical，积木广告横向展示或者竖向展示\r\n        }\r\n        this.blockAd = this._base.createBlockAd(obj);\r\n        this.blockAd.onLoad(() => {\r\n            console.log('积木广告加载完成');\r\n            this.blockAd.show().then(() => { console.log('积木展示成功') }).catch(e => {\r\n                console.error('积木展示失败', e);\r\n            });\r\n        });\r\n        this.blockAd.onError((err?) => {\r\n            console.error('积木广告加载错误', err);\r\n        });\r\n        this.blockAd.onResize((res?) => {\r\n            console.log('积木resize', res);\r\n        });\r\n    }\r\n    hideBlockAd() {\r\n        if (this.blockAd) {\r\n            this.blockAd.hide();\r\n            this.blockAd.destroy();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n//\r\ninterface BlockADItem {\r\n    adUnitId: string;\r\n    style: { left: number, top: number };\r\n    size: number;//范围是1~5，积木广告的个数（展示以实际拉取广告数量为准）\r\n    orientation: string;//landscape 或者 vertical，积木广告横向展示或者竖向展示\r\n}","import ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport { PlatformCommonEvent } from \"../Common/PlatformCommonEventId\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\nimport { EPlatformType } from \"../T/EPlatformType\";\r\nimport WXPlatform from \"./WXPlatform\";\r\n/**\r\n * 趣头条实例\r\n */\r\nexport default class QTTPlatform extends WXPlatform {\r\n\r\n    platform: EPlatformType = EPlatformType.QTT;\r\n\r\n\r\n    Init(platformData: PlatformData) {\r\n        this._base = window[\"qttGame\"];\r\n        if (this._base == null) {\r\n            console.error(...ConsoleEx.packError(\"平台初始化错误\"));\r\n            return;\r\n        }\r\n        this.platformData = platformData;\r\n        this.recordManager.Platform = this;\r\n        // this._InitLauchOption();\r\n        // this._Login();\r\n        // this._InitShareInfo();\r\n        // this._InitSystemInfo();\r\n        // this._CreateBannerAd();\r\n        // this._CreateVideoAd();\r\n        // this._CreateInterstitalAd();\r\n\r\n        window[\"iplatform\"] = this;\r\n    }\r\n\r\n    IsBannerAvaliable() {\r\n        return true;\r\n    }\r\n\r\n    ShowBannerAd() {\r\n        this._base.showBanner({ index: 1 });\r\n    }\r\n\r\n    HideBannerAd() {\r\n        this._base.hideBanner();\r\n    }\r\n\r\n    IsVideoAvaliable() {\r\n        return true;\r\n    }\r\n\r\n    ShowRewardVideoAd(onSuccess: Laya.Handler, onSkipped: Laya.Handler) {\r\n        let options = {} as any;\r\n        options.index = 1;//广告位置（1，2，3，4...）\r\n        options.gametype = 1;//互动游戏类型，1(砸金蛋)  2(laba)  3(大转盘)\r\n        options.rewardtype = 1;//互动广告框，只有 1\r\n        options.data = {};\r\n        options.data.title = \"获得奖励\";//互动抽中奖后的道具提示文字\r\n        Laya.stage.event(PlatformCommonEvent.PAUSE_AUDIO);\r\n        this._base.showVideo(\r\n            (res) => {\r\n                Laya.stage.event(PlatformCommonEvent.RESUM_AUDIO);\r\n                if (res == 1) {\r\n                    // 播放完成，发放奖励\r\n                    if (onSuccess) {\r\n                        onSuccess.run();\r\n                    }\r\n                } else {\r\n                    //res = 0    填充不足\r\n                    //res = 2    提前关闭\r\n                    if (onSkipped) {\r\n                        onSkipped.run();\r\n                    }\r\n                }\r\n            }\r\n            , options);\r\n    }\r\n\r\n    ShowInterstitalAd() {\r\n        // 趣头条插页广告转接为互动广告\r\n        this.ShowHDReward();\r\n    }\r\n\r\n    /**\r\n     * 显示互动广告\r\n     */\r\n    public ShowHDReward() {\r\n        let options = {} as any;\r\n        options.index = 1;\r\n        options.rewardtype = 1;\r\n        this._base.showHDReward(options);\r\n    }\r\n\r\n    RecordEvent(eventId: string, param: object) {\r\n        console.log(\"记录事件\", eventId, param);\r\n    }\r\n}","import DefaultDevice from \"./DefaultDevice\";\r\n/**\r\n * 头条设备\r\n */\r\nexport default class TTDevice extends DefaultDevice {\r\n\r\n    protected _base: any;\r\n\r\n    constructor(base: any) {\r\n        super();\r\n        this._base = base;\r\n    }\r\n\r\n    Vibrate(isLong: boolean) {\r\n        console.log(\"调用震动\", isLong);\r\n        if (isLong) {\r\n            this._base.vibrateLong({\r\n                success(res) { },\r\n                fail(res) {\r\n                    console.error(\"调用震动失败\", res);\r\n                },\r\n                complete(res) { }\r\n            });\r\n        } else {\r\n            this._base.vibrateShort({\r\n                success(res) { },\r\n                fail(res) {\r\n                    console.error(\"调用震动失败\", res);\r\n                },\r\n                complete(res) { }\r\n            });\r\n        }\r\n    }\r\n}","import DefaultRecordManager from \"./DefaultRecordManager\";\r\n\r\n/**\r\n * 头条录屏管理器\r\n */\r\nexport default class TTRecordManager extends DefaultRecordManager {\r\n\r\n    supportRecord: boolean = true;\r\n\r\n    protected _cacheStartHandle: Laya.Handler;\r\n    protected _cacheStopHandle: Laya.Handler;\r\n    protected _cacheOverTimeHandle: Laya.Handler;\r\n    protected _cachePauseHandle: Laya.Handler;\r\n    protected _cacheResumeHandle: Laya.Handler;\r\n\r\n    protected _base: any;\r\n    protected _nativeManager: any;\r\n\r\n    constructor(base: any) {\r\n        super();\r\n        this._base = base;\r\n\r\n        this.isRecording = false;\r\n        this.isRecordSuccess = false;\r\n        this.isPausing = false;\r\n\r\n        this._nativeManager = this._base.getGameRecorderManager();\r\n        this._nativeManager.onStart((res) => {\r\n            console.log(\"平台开始录制\", res);\r\n            this.isRecording = true;\r\n            this.isRecordSuccess = false;\r\n            this._cacheStartHandle && this._cacheStartHandle.run();\r\n        });\r\n        this._nativeManager.onStop((res) => {\r\n            console.log(\"平台停止录制\", res);\r\n            this.videoSavePath = res.videoPath;\r\n            this.isRecording = false;\r\n            this.isRecordSuccess = true;\r\n            if (this._cacheStopHandle) {\r\n                this._cacheStopHandle.run();\r\n            } else if (this._cacheOverTimeHandle) {\r\n                this._cacheOverTimeHandle.run();\r\n            }\r\n        });\r\n        this._nativeManager.onError((err) => {\r\n            console.log(\"录制发生错误\", err);\r\n            this.isRecordSuccess = false;\r\n            this.isRecording = false;\r\n        });\r\n        this._nativeManager.onPause((res) => {\r\n            console.log(\"暂停录制视频\", res);\r\n            this.isPausing = true;\r\n            this._cachePauseHandle && this._cachePauseHandle.run();\r\n        });\r\n        this._nativeManager.onResume((res) => {\r\n            console.log(\"暂停录制视频\", res);\r\n            this.isPausing = false;\r\n            this._cacheResumeHandle && this._cacheResumeHandle.run();\r\n        });\r\n    }\r\n\r\n    StartRecord(onStart: Laya.Handler, onOverTime: Laya.Handler) {\r\n        console.log(\"调用开始录屏\");\r\n        this._cacheStartHandle = onStart;\r\n        this._cacheOverTimeHandle = onOverTime;\r\n        this._cacheStopHandle = null;\r\n\r\n        this._nativeManager.start({ duration: 300 });\r\n    }\r\n\r\n    Pause(onPause: Laya.Handler) {\r\n        if (!this.isRecording) {\r\n            console.error(\"当前未开始录制,无法暂停录制\");\r\n            return;\r\n        }\r\n        if (this.isPausing) {\r\n            console.log(\"当前录制状态已暂停\");\r\n            return;\r\n        }\r\n\r\n        console.log(\"调用暂停录制\");\r\n        this._cachePauseHandle = onPause;\r\n        this._nativeManager.pause();\r\n    }\r\n    Resume(onReume: Laya.Handler) {\r\n        if (!this.isRecording) {\r\n            console.error(\"当前未开始录制,无法恢复录制\");\r\n            return;\r\n        }\r\n        if (!this.isPausing) {\r\n            console.log(\"当前录制状态正在进行中\");\r\n            return;\r\n        }\r\n\r\n        console.log(\"调用恢复录制\");\r\n        this._cacheResumeHandle = onReume;\r\n        this._nativeManager.resume();\r\n    }\r\n\r\n    RecordClip(timeRange: number[]) {\r\n        if (!this.isRecording) {\r\n            console.error(\"当前未开始录制,无法记录精彩时刻\");\r\n            return;\r\n        }\r\n        if (this.isPausing) {\r\n            console.log(\"当前录制状态已暂停,无法记录精彩时刻\");\r\n            return;\r\n        }\r\n        if (timeRange == null) {\r\n            this._nativeManager.recordClip({});\r\n        } else {\r\n            this._nativeManager.recordClip({ timeRange: timeRange });\r\n        }\r\n    }\r\n\r\n    StopRecord(onStop: Laya.Handler) {\r\n        console.log(\"调用结束录屏\");\r\n        this._cacheStopHandle = onStop;\r\n\r\n        this._nativeManager.stop();\r\n    }\r\n\r\n    ShareVideo(onSuccess: Laya.Handler, onCancel: Laya.Handler, onFailed: Laya.Handler) {\r\n        if (this.isRecordSuccess) {\r\n            let shareData = {\r\n                channel: \"video\",\r\n                title: \"\",\r\n                desc: \"\",\r\n                imageUrl: \"\",\r\n                templateId: this.Platform.platformData.shareId,\r\n                query: \"\",\r\n                extra: {\r\n                    videoPath: this.videoSavePath, // 可替换成录屏得到的视频地址\r\n                    videoTopics: ['抖音小游戏', '猫眼金币跑酷']\r\n                },\r\n                success() {\r\n                    if (onSuccess) {\r\n                        onSuccess.run();\r\n                    }\r\n                },\r\n                fail(e) {\r\n                    if (onCancel) {\r\n                        onCancel.run();\r\n                    }\r\n                }\r\n            } as any;\r\n            this._base.shareAppMessage(shareData);\r\n        } else {\r\n            console.log(\"无视频可以分享\");\r\n            if (onFailed) {\r\n                onFailed.run();\r\n            }\r\n        }\r\n    }\r\n}","import ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport StringUtils from \"../../Utils/StringUtils\";\r\nimport PlatformData from \"../Data/PlatformData\";\r\nimport TTDevice from \"../Device/TTDevice\";\r\nimport TTRecordManager from \"../Record/TTRecordManager\";\r\nimport { EPlatformType } from \"../T/EPlatformType\";\r\nimport { IDevice } from \"../T/IDevice\";\r\nimport IRecordManager from \"../T/IRecordManager\";\r\nimport { ShareInfo } from \"../T/ShareInfo\";\r\nimport WXPlatform from \"./WXPlatform\";\r\n/**\r\n * 头条平台实例\r\n */\r\nexport default class TTPlatform extends WXPlatform {\r\n\r\n    platform: EPlatformType = EPlatformType.TT;\r\n\r\n    protected _showVideoLoad: boolean = false;\r\n\r\n    recordManager: IRecordManager;\r\n    device: IDevice;\r\n\r\n    Init(platformData: PlatformData) {\r\n        this._base = window[\"tt\"];\r\n        if (this._base == null) {\r\n            console.error(...ConsoleEx.packError(\"平台初始化错误\"));\r\n            return;\r\n        }\r\n        this.platformData = platformData;\r\n        // 检测是否支持交叉推广\r\n        let tt = this._base;\r\n        let systemInfo = tt.getSystemInfoSync();\r\n        if (systemInfo.platform == \"ios\") {\r\n            this.isSupportJumpOther = false;\r\n        }\r\n        let [major, minor] = systemInfo.SDKVersion.split(\".\");\r\n        if (major >= 1 && minor >= 33) {\r\n\r\n        } else {\r\n            this.isSupportJumpOther = false;\r\n        }\r\n\r\n        this._InitLauchOption();\r\n        // this._Login();\r\n        this._InitShareInfo();\r\n        this._InitSystemInfo();\r\n        this._CreateBannerAd();\r\n        this._CreateVideoAd();\r\n        this._CreateInterstitalAd();\r\n\r\n        this.recordManager = new TTRecordManager(this._base);\r\n        this.recordManager.Platform = this;\r\n        this.device = new TTDevice(this._base);\r\n\r\n        window[\"iplatform\"] = this;\r\n    }\r\n\r\n    protected _CreateBannerAd() {\r\n        if (StringUtils.IsNullOrEmpty(this.platformData.bannerId)) {\r\n            console.log(\"无有效的banner广告ID,取消加载\");\r\n            return;\r\n        }\r\n        let windowWidth = this._base.getSystemInfoSync().windowWidth;\r\n        let windowHeight = this._base.getSystemInfoSync().windowHeight;\r\n        let bannerObj = {};\r\n        bannerObj[\"adUnitId\"] = this.platformData.bannerId; // \"adunit-b48894d44d318e5a\";\r\n        bannerObj[\"adIntervals\"] = 30;\r\n        let styleObj = {};\r\n        styleObj[\"left\"] = 0;\r\n        styleObj[\"top\"] = 0;\r\n        styleObj[\"width\"] = windowWidth;\r\n        bannerObj[\"style\"] = styleObj;\r\n\r\n        this._bannerAd = this._base.createBannerAd(bannerObj);\r\n        this._isBannerLoaded = false;\r\n        if (this._bannerAd) {\r\n            this._bannerAd.onLoad(() => {\r\n                console.log(\"banner加载成功\", this._bannerAd);\r\n                this._isBannerLoaded = true;\r\n            });\r\n\r\n            this._bannerAd.onError((res) => {\r\n                console.error(\"banner广告加载失败\", res);\r\n                this._bannerAd == null;\r\n            });\r\n\r\n            this._bannerAd.onResize((size) => {\r\n                this._bannerAd.style.top = windowHeight - size.height;\r\n                this._bannerAd.style.left = (windowWidth - size.width) / 2;\r\n            });\r\n        }\r\n    }\r\n\r\n    RecordEvent(eventId: string, param: object) {\r\n        let reportAnalytics = this._base[\"reportAnalytics\"];\r\n        if (reportAnalytics) {\r\n            if (param == null) {\r\n                param = {};\r\n            }\r\n            reportAnalytics(eventId, param);\r\n        } else {\r\n            console.error(\"reportAnalytics 方法不存在\");\r\n        }\r\n    }\r\n\r\n    ShowBannerAd() {\r\n        if (!this.IsBannerAvaliable()) {\r\n            return;\r\n        }\r\n        this._bannerAd.show();\r\n    }\r\n\r\n    ShareAppMessage(shareInfo: ShareInfo, onSuccess: Laya.Handler, onFailed: Laya.Handler) {\r\n        console.log(\"分享消息\", shareInfo);\r\n\r\n        let shareObj = WXPlatform._WrapShareInfo(shareInfo);\r\n        shareObj[\"success\"] = () => {\r\n            if (onSuccess) {\r\n                onSuccess.run();\r\n            }\r\n        }\r\n        shareObj[\"fail\"] = () => {\r\n            if (onFailed) {\r\n                onFailed.run();\r\n            }\r\n        }\r\n        this._base.shareAppMessage(shareObj);\r\n    }\r\n\r\n    OpenGameBox(appIds: string[]) {\r\n        let openData = [];\r\n        for (let i = 0; i < appIds.length; ++i) {\r\n            openData.push({\r\n                appId: appIds[i]\r\n            });\r\n        }\r\n        this._base.showMoreGamesModal({\r\n            appLaunchOptions: openData\r\n        });\r\n    }\r\n\r\n    NavigateToApp(appid: string, path?: string, extra?: any): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.isSupportJumpOther) {\r\n                reject(false);\r\n                console.log(\"当前平台不支持小游戏跳转\", this);\r\n            } else {\r\n                this._base.showMoreGamesModal({\r\n                    appLaunchOptions: [\r\n                        {\r\n                            appId: this.platformData.appId,\r\n                            query: \"foo=bar&baz=qux\",\r\n                            extraData: {}\r\n                        }\r\n                    ],\r\n                    success(res) {\r\n                        resolve(true);\r\n                        console.log(\"跳转小游戏成功\", appid);\r\n                    },\r\n                    fail(err) {\r\n                        reject(false);\r\n                        console.log(\"跳转小游戏失败\", appid);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}","import BDData from \"../../cFrameBridge/Platform/Data/BDData\";\r\nimport OPPOData from \"../../cFrameBridge/Platform/Data/OPPOData\";\r\nimport QQData from \"../../cFrameBridge/Platform/Data/QQData\";\r\nimport QTTData from \"../../cFrameBridge/Platform/Data/QTTData\";\r\nimport TTData from \"../../cFrameBridge/Platform/Data/TTData\";\r\nimport WXData from \"../../cFrameBridge/Platform/Data/WXData\";\r\nimport ConsoleEx from \"../Console/ConsoleEx\";\r\nimport IRootManager from \"../Manager/IRootManager\";\r\nimport PlatformData from \"./Data/PlatformData\";\r\nimport BDPlatform from \"./PlatformClass/BDPlatform\";\r\nimport DefaultPlatform from \"./PlatformClass/DefaultPlatform\";\r\nimport OppoPlatform from \"./PlatformClass/OppoPlatform\";\r\nimport QQPlatform from \"./PlatformClass/QQPlatform\";\r\nimport QTTPlatform from \"./PlatformClass/QTTPlatform\";\r\nimport TTPlatform from \"./PlatformClass/TTPlatform\";\r\nimport WXPlatform from \"./PlatformClass/WXPlatform\";\r\nimport PlatformManagerProxy from \"./PlatformManagerProxy\";\r\nimport IPlatform from \"./T/IPlatform\";\r\n/**\r\n * 平台管理器\r\n */\r\nexport default class PlatformManager implements IRootManager {\r\n    /** 平台实例 */\r\n    private static _instance: PlatformManager;\r\n    public static get instance(): PlatformManager {\r\n        if (this._instance == null) {\r\n            this._instance = new PlatformManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    /** 平台实例 */\r\n    private m_platformInstance: IPlatform;\r\n\r\n    /** 平台数据 */\r\n    private m_platformData: PlatformData;\r\n\r\n    /** 获取平台实例 */\r\n    public static get PlatformInstance(): IPlatform {\r\n        if (!this.instance.m_platformInstance) {\r\n            console.log(...ConsoleEx.packError('还没有设置过平台实例代理！'));\r\n        }\r\n        return this.instance.m_platformInstance;\r\n    }\r\n\r\n    /**\r\n     * 初始化平台\r\n     * @param appId \r\n     */\r\n    public init() {\r\n        if (this.m_platformInstance != null) {\r\n            console.error(...ConsoleEx.packError(\"已调用过平台创建为\", PlatformManagerProxy.GetPlatformStr(this.m_platformInstance.platform), \"不能重复创建\"));\r\n            return this.m_platformInstance;\r\n        }\r\n        let isQTT = window[\"qttGame\"] != null;\r\n        let isTT = window[\"tt\"] != null;\r\n        //获取平台实例\r\n        let result: IPlatform;\r\n        if (isTT) {\r\n            result = new TTPlatform();\r\n            //\r\n            this.m_platformData = new TTData();\r\n        } else if (Laya.Browser.onMiniGame) {\r\n            result = new WXPlatform();\r\n            //\r\n            this.m_platformData = new WXData();\r\n        } else if (Laya.Browser.onBDMiniGame) {\r\n            result = new BDPlatform();\r\n            //\r\n            this.m_platformData = new BDData();\r\n        } else if (isQTT) {\r\n            result = new QTTPlatform();\r\n            //\r\n            this.m_platformData = new QTTData();\r\n        } else if (Laya.Browser.onQQMiniGame) {\r\n            result = new QQPlatform();\r\n            //\r\n            this.m_platformData = new QQData();\r\n        } else if (Laya.Browser.onQGMiniGame) {\r\n            result = new OppoPlatform();\r\n            //\r\n            this.m_platformData = new OPPOData();\r\n        }\r\n        else {\r\n            console.log(...ConsoleEx.packWarn(\"未识别平台,默认创建为web\", Laya.Browser.userAgent));\r\n            result = new DefaultPlatform();\r\n        }\r\n        this.m_platformInstance = result;\r\n        //设置代理\r\n        PlatformManagerProxy.instance.PlatformInstance = result;\r\n        //设置到全局\r\n        window['$Platform'] = this.m_platformInstance;\r\n        //\r\n        console.log(...ConsoleEx.packPlatform(\"平台实例创建完成\", PlatformManagerProxy.GetPlatformStr(this.m_platformInstance.platform)));\r\n    }\r\n\r\n    /**\r\n     * 初始化平台\r\n     */\r\n    public initPlatform() {\r\n        //\r\n        this.m_platformInstance.Init(this.m_platformData);\r\n        //\r\n        console.log(...ConsoleEx.packPlatform('平台初始化完成'));\r\n    }\r\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_PGameTestPlatform extends fairygui.GComponent {\n\n\tpublic m_bg:fairygui.GGraph;\n\tpublic m_lookVAd:fairygui.GButton;\n\tpublic m_lookVAdText:fairygui.GTextField;\n\tpublic m__lookVAd:fairygui.GGroup;\n\tpublic m_share:fairygui.GButton;\n\tpublic m_shareText:fairygui.GTextField;\n\tpublic m__share:fairygui.GGroup;\n\tpublic m_showToast:fairygui.GButton;\n\tpublic m_showToastText:fairygui.GTextField;\n\tpublic m__showToast:fairygui.GGroup;\n\n\tpublic static URL:string = \"ui://kk7g5mmmt1pw9y\";\n\n\tpublic static createInstance():FGUI_PGameTestPlatform {\n\t\treturn <FGUI_PGameTestPlatform><any>(fairygui.UIPackage.createObject(\"GameMain\",\"PGameTestPlatform\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_bg = <fairygui.GGraph><any>(this.getChildAt(0));\n\t\tthis.m_lookVAd = <fairygui.GButton><any>(this.getChildAt(1));\n\t\tthis.m_lookVAdText = <fairygui.GTextField><any>(this.getChildAt(2));\n\t\tthis.m__lookVAd = <fairygui.GGroup><any>(this.getChildAt(3));\n\t\tthis.m_share = <fairygui.GButton><any>(this.getChildAt(4));\n\t\tthis.m_shareText = <fairygui.GTextField><any>(this.getChildAt(5));\n\t\tthis.m__share = <fairygui.GGroup><any>(this.getChildAt(6));\n\t\tthis.m_showToast = <fairygui.GButton><any>(this.getChildAt(7));\n\t\tthis.m_showToastText = <fairygui.GTextField><any>(this.getChildAt(8));\n\t\tthis.m__showToast = <fairygui.GGroup><any>(this.getChildAt(9));\n\t}\n}","import PlatformManager from \"../../../aTGame/Platform/PlatformManager\";\r\nimport BaseUIMediator from \"../../../aTGame/UI/FGUI/BaseUIMediator\";\r\nimport FGUI_PGameTestPlatform from \"../../../FGUI/GameMain/FGUI_PGameTestPlatform\";\r\nimport { EUI } from \"../../Enum/EUI\";\r\nimport UIManagerProxy from \"../../Manager/Proxy/UIManagerProxy\";\r\n/**\r\n * 游戏测试页面调度者\r\n */\r\nexport default class PGameTestPlatformMediator extends BaseUIMediator<FGUI_PGameTestPlatform> {\r\n    private static m_instance: PGameTestPlatformMediator;\r\n    /** 单例 */\r\n    public static get instance(): PGameTestPlatformMediator {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new PGameTestPlatformMediator();\r\n            this.m_instance._classDefine = FGUI_PGameTestPlatform;\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //显示时的生命周期函数\r\n    protected _OnShow() {\r\n        this.ui.m_bg.onClick(this, this.close);\r\n        this.ui.m_lookVAd.onClick(this, this.lookVAd);\r\n        this.ui.m_showToast.onClick(this, this.showToast);\r\n        this.ui.m_share.onClick(this, this.share);\r\n    }\r\n\r\n    //看广告\r\n    private lookVAd() {\r\n        console.log('看广告测试');\r\n        //广告测试\r\n        PlatformManager.PlatformInstance.ShowRewardVideoAdAsync().then((ifLook: boolean) => {\r\n            console.log('看广告完成测试', ifLook);\r\n        });\r\n    }\r\n\r\n    //显示消息\r\n    private showToast() {\r\n        console.log('显示消息测试');\r\n        //显示消息测试\r\n        PlatformManager.PlatformInstance.ShowToast('显示消息测试');\r\n    }\r\n\r\n    //分享\r\n    private share() {\r\n        console.log('分享测试');\r\n        //分享测试\r\n        PlatformManager.PlatformInstance.ShareAppMessage({\r\n            shareId: undefined,\r\n            shareImg: undefined,\r\n            sharePath: undefined,\r\n            shareTitle: '分享消息',\r\n        }, Laya.Handler.create(this, () => {\r\n            console.log('分享成功');\r\n        }), Laya.Handler.create(this, () => {\r\n            console.log('分享失败！');\r\n        }));\r\n    }\r\n\r\n    //关闭\r\n    private close() {\r\n        UIManagerProxy.instance.setUIState([\r\n            { typeIndex: EUI.TestPlatform, state: false },\r\n        ], false);\r\n    }\r\n\r\n    //隐藏时的生命周期函数\r\n    protected _OnHide() { }\r\n}","import ConsoleEx from \"../../Console/ConsoleEx\";\r\nimport ArrayUtils from \"../../Utils/ArrayUtils\";\r\nimport BaseUIMediator from \"./BaseUIMediator\";\r\nimport RootUIStateManagerProxy from \"./RootUIStateManagerProxy\";\r\n/**\r\n * UI管理器基类\r\n * 因配合UIStateManagerProxy类一起管理UI\r\n */\r\nexport default class BaseUIManager<UIProxy extends RootUIStateManagerProxy> {\r\n    //UI调度者列表\r\n    protected m_UIMediator: { [index: string]: BaseUIMediator<fgui.GComponent> };\r\n\r\n    //UI代理类\r\n    protected m_UIProxy: UIProxy;\r\n\r\n    //\r\n    public constructor() {\r\n        //\r\n        this.initUIMediator();\r\n        //\r\n        this._initUIMediator();\r\n    }\r\n\r\n    /** 初始化UI调度者列表和代理类 */\r\n    protected initUIMediator() { }\r\n\r\n    //初始化UI列表之后\r\n    private _initUIMediator() {\r\n        //判断是否注册UI代理\r\n        if (!this.m_UIMediator) {\r\n            console.log(...ConsoleEx.packWarn('注意！没有注册UI代理类。'));\r\n        }\r\n        this.m_UIProxy.setProxyMediatroList(this.m_UIMediator);\r\n        //\r\n        let _serialNumber: number[];\r\n        let _serialNumberLenth: number;\r\n        for (let _i in this.m_UIMediator) {\r\n            this.m_UIMediator[_i].keyId = _i;\r\n            //检测树形结构\r\n            _serialNumber = [];\r\n            this.getUIBelongSerialNumber(this.m_UIMediator[_i], _serialNumber);\r\n            //检测是否有重复使用的附属UI\r\n            _serialNumberLenth = _serialNumber.length;\r\n            _serialNumber = ArrayUtils.Unique<number>(_serialNumber);\r\n            if (_serialNumberLenth != _serialNumber.length) {\r\n                console.log(...ConsoleEx.packError('UI调度者', _i, '的附属UI有重复出现！'));\r\n            }\r\n        }\r\n    }\r\n\r\n    //获取一个UI调度者的附属UI序号列表\r\n    private getUIBelongSerialNumber(_UIMed: BaseUIMediator<fgui.GComponent>, _numbers: number[], _ifR: boolean = false) {\r\n        if (_UIMed.belongDownUIMediator.length > 0) {\r\n            _UIMed.belongDownUIMediator.forEach((item) => {\r\n                this.getUIBelongSerialNumber(item, _numbers, true);\r\n            });\r\n        }\r\n        //判断是否为附属UI\r\n        if (!_ifR) {\r\n            if (_UIMed.ifBelongUIMediator) {\r\n                console.log(...ConsoleEx.packWarn('注意！有一个附属UI调度者被添加进了UI管理器列表中，它将不会被显示。'));\r\n            }\r\n        } else {\r\n            if (!_UIMed.ifBelongUIMediator) {\r\n                console.log(...ConsoleEx.packWarn('注意！有一个不是附属的UI调度者被添加进了附属列表中'));\r\n            }\r\n        }\r\n        _numbers.push(_UIMed.serialNumber);\r\n        //\r\n        if (_UIMed.belongUpUIMediator.length > 0) {\r\n            _UIMed.belongUpUIMediator.forEach((item) => {\r\n                this.getUIBelongSerialNumber(item, _numbers, true);\r\n            });\r\n        }\r\n    }\r\n}","import PGameLoadingMediator from '../UIMediator/PGameLoadingMediator';\r\nimport PGameMainMediator from '../UIMediator/PGameMainMediator';\r\nimport PGamePlayMediator from '../UIMediator/PGamePlayMediator';\r\nimport PGameStartMediator from '../UIMediator/PGameStartMediator';\r\nimport { EUI } from '../Enum/EUI';\r\nimport UIManagerProxy from './Proxy/UIManagerProxy';\r\nimport PGameCustomsLoadingMediator from '../UIMediator/PGameCustomsLoadingMediator';\r\nimport PGamePauseMediator from '../UIMediator/PGamePauseMediator';\r\nimport PGameSetMediator from '../UIMediator/PGameSetMediator';\r\nimport PGameComMediator from '../UIMediator/PGameComMediator';\r\nimport PGameEndMediator from '../UIMediator/PGameEndMediator';\r\nimport PGameTestMainMediator from '../UIMediator/_test/PGameTestMainMediator';\r\nimport PGameTestPlatformMediator from '../UIMediator/_test/PGameTestPlatformMediator';\r\nimport BaseUIManager from '../../aTGame/UI/FGUI/BaseUIManager';\r\nimport IRootManager from '../../aTGame/Manager/IRootManager';\r\n/**\r\n * UI管理器\r\n * UI从这里开始，注册所有UI调度者，再分配给UI状态管理器管理,不能再UI调度者中直接调用\r\n * 沟通外界，处理一些不能在UI中产生和处理的事件，通过这里中转\r\n */\r\nexport default class UIManager extends BaseUIManager<UIManagerProxy> implements IRootManager {\r\n    private static m_instance: UIManager;\r\n    /** 单例 */\r\n    public static get instance(): UIManager {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new UIManager();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n\r\n    //\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 初始化UI调度者列表和代理类 */\r\n    protected initUIMediator() {\r\n        //初始化ui状态管理器\r\n        this.m_UIMediator = {\r\n            [EUI.GameLoading]: PGameLoadingMediator.instance,\r\n            [EUI.CustomsLoading]: PGameCustomsLoadingMediator.instance,\r\n            //\r\n            [EUI.TestMain]: PGameTestMainMediator.instance,\r\n            [EUI.TestPlatform]: PGameTestPlatformMediator.instance,\r\n            //\r\n            [EUI.Main]: PGameMainMediator.instance,\r\n            [EUI.Set]: PGameSetMediator.instance,\r\n            [EUI.Play]: PGamePlayMediator.instance,\r\n            [EUI.Start]: PGameStartMediator.instance,\r\n            [EUI.Pause]: PGamePauseMediator.instance,\r\n            [EUI.Com]: PGameComMediator.instance,\r\n            [EUI.End]: PGameEndMediator.instance,\r\n        };\r\n        //注册代理类\r\n        this.m_UIProxy = UIManagerProxy.instance;\r\n    }\r\n\r\n    /**\r\n     * 初始化,UI的一切都从这里开始\r\n     */\r\n    public init() {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 开始\r\n     */\r\n    public Start() {\r\n        this.m_UIProxy.Start();\r\n    }\r\n}","import IRootManager from '../../aTGame/Manager/IRootManager';\r\nimport { EEventGlobal } from '../EventEnum/EEventGlobal';\r\nimport MesManager from './MesManager';\r\n/**\r\n * 游戏全局状态管理器\r\n * 可以监听和触发全局事件\r\n */\r\nexport class GlobalStateManager implements IRootManager {\r\n    private static m_instance: GlobalStateManager;\r\n    /** 单例 */\r\n    public static get instance(): GlobalStateManager {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new GlobalStateManager();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n    private constructor() { }\r\n    /**\r\n     * 初始化\r\n     */\r\n    public init() { }\r\n\r\n    /** 游戏是否初始化 */\r\n    private m_GameIfInit: boolean = false;\r\n\r\n    /** 游戏是否初始化 */\r\n    public get gameIfInit(): boolean {\r\n        return this.m_GameIfInit\r\n    }\r\n\r\n    /**\r\n     * 游戏初始化\r\n     */\r\n    public GameInit() {\r\n        this.m_GameIfInit = false;\r\n        MesManager.instance.eventGlobal(EEventGlobal.GameInit);\r\n    }\r\n\r\n    /**\r\n     * 游戏初始化完成\r\n     */\r\n    public GameOnInit() {\r\n        this.m_GameIfInit = true;\r\n        MesManager.instance.eventGlobal(EEventGlobal.GameOnInit);\r\n    }\r\n}","import RootDataManger from './RootDataManger';\r\nimport RootGameData from './RootGameData';\r\n/**\r\n * 临时数据代理基类\r\n * 泛型为数据类型\r\n */\r\nexport default abstract class RootShortProxy<T extends RootGameData> extends RootDataManger {\r\n    /**\r\n     * 初始化数据\r\n     */\r\n    public abstract InitData();\r\n}","import RootGameData from \"../../../aTGame/Data/RootGameData\";\r\n\r\n/**\r\n * 当前关卡数据\r\n */\r\nexport default class GameOnCustomData extends RootGameData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameOnCustomData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n    //\r\n}","import RootGameData from \"../../aTGame/Data/RootGameData\";\r\nimport GameOnCustomData from \"./shortData/GameOnCustomData\";\r\n\r\n/**\r\n * 游戏临时数据类\r\n */\r\nexport default class GameShortData extends RootGameData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameShortData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n\r\n    /** 当前关卡的数据 */\r\n    public onCustomsData: GameOnCustomData = new GameOnCustomData();\r\n\r\n    //\r\n}","import RootShortProxy from '../../aTGame/Data/RootShortProxy';\r\nimport GameOnCustomData from './shortData/GameOnCustomData';\r\nimport GameShortData from './GameShortData';\r\n\r\n/**\r\n * 临时数据保存类\r\n */\r\nexport default class GameShortDataProxy extends RootShortProxy<GameShortData>{\r\n    //\r\n    private static _instance: GameShortDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GameShortDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GameShortDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    //\r\n    private _shortData: GameShortData; // 临时数据\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    // 初始化\r\n    public InitData() {\r\n        this._shortData = new GameShortData();\r\n    }\r\n\r\n    /**\r\n     * 获取当前游戏临时数据的副本\r\n     */\r\n    public static get shortData(): GameShortData {\r\n        //\r\n        return this._instance._shortData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    /**\r\n     * 获取当前关卡数据的可编辑版本\r\n     */\r\n    public static get getEditableOnCustomData(): GameOnCustomData {\r\n        return this._instance._shortData.onCustomsData;\r\n    }\r\n\r\n    /**\r\n     * 初始化临时数据\r\n     */\r\n    public static initShortData() {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * 同步临时数据\r\n     */\r\n    public static syncShortData() { }\r\n\r\n    /**\r\n     * 清空临时数据\r\n     */\r\n    public static emptyGameOnCustomData() {\r\n        this._instance._shortData = new GameShortData();\r\n    }\r\n}","import IRootManager from '../../aTGame/Manager/IRootManager';\r\nimport { EEventScene } from '../EventEnum/EEventScene';\r\nimport GameShortDataProxy from '../GameData/GameShortDataProxy';\r\nimport MesManager from './MesManager';\r\n/**\r\n * 游戏管理器\r\n */\r\nexport default class GameManager implements IRootManager {\r\n    //\r\n    private static m_instance: GameManager;\r\n    /** 单例 */\r\n    public static get instance(): GameManager {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new GameManager();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    public init() {\r\n        MesManager.instance.on3D(EEventScene.GameLevelsBuildBefore, this, this.gameLevelsBuildBefore);\r\n        MesManager.instance.on3D(EEventScene.GameLevelsOnBuild, this, this.gameLevelsOnBuild);\r\n        MesManager.instance.on3D(EEventScene.GameLevelsDelete, this, this.gameLevelsDelete);\r\n        MesManager.instance.on3D(EEventScene.GameStart, this, this.gameStart);\r\n    }\r\n\r\n    //游戏关卡构建之前调用\r\n    private gameLevelsBuildBefore() {\r\n        //清空临时数据\r\n        GameShortDataProxy.emptyGameOnCustomData();\r\n    }\r\n\r\n    //游戏关卡构建完成调用\r\n    private gameLevelsOnBuild() {\r\n        //\r\n    }\r\n\r\n    //关卡清除时调用\r\n    private gameLevelsDelete() {\r\n        //\r\n    }\r\n\r\n    //游戏开始\r\n    private gameStart() {\r\n        //\r\n    }\r\n}","export namespace TestConst {\r\n    export class config {\r\n        /** 是否开启调试面板 */ readonly if_debug: boolean;\r\n        /** 是否显示oimo物理网格 */ readonly if_show_oimo_mesh: boolean;\r\n        /** oimo物理网格透明度 */ readonly oimo_mesh_diaphaneity: number;\r\n    }\r\n    export var data : TestConst.config;\r\n    export const path = \"res/config/TestConst.json\";\r\n}\r\n\r\n\r\n","import { BaseConstDataProxy } from '../../aTGame/Config/RootDataProxy';\r\nimport MainGameConfig from '../../bTGameConfig/MainGameConfig';\r\nimport { TestConst } from '../_config/TestConst';\r\n\r\n/**\r\n * 测试配置表数据代理\r\n */\r\nexport default class TestConstProxy extends BaseConstDataProxy<TestConst.config>{\r\n    //\r\n    private static _instance: TestConstProxy;\r\n    /** 单例 */\r\n    public static get instance(): TestConstProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new TestConstProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    /** 不能直接访问 */\r\n    public get data(): TestConst.config {\r\n        return undefined;\r\n    }\r\n\r\n    //初始化\r\n    protected initData() {\r\n        this.m_data = TestConst.data;\r\n    }\r\n\r\n    /** 是否开启调试 */\r\n    public get ifDebug(): boolean {\r\n        if (!MainGameConfig.ifGameTest) return false;\r\n        return this.m_data.if_debug;\r\n    }\r\n\r\n    /** 是否开启oimo物理 */\r\n    public get ifShowOimoMesh(): boolean {\r\n        if (!MainGameConfig.ifGameTest) return false;\r\n        return this.m_data.if_show_oimo_mesh;\r\n    }\r\n\r\n    /** oimo物理网格透明度 */\r\n    public get oimoMeshDiaphaneity(): number {\r\n        return this.m_data.oimo_mesh_diaphaneity;\r\n    }\r\n}","/**\r\n * 音效事件\r\n * * 只有音效管理类能监听和抛出\r\n */\r\nexport enum EEventAudio {\r\n    /** BGM暂停 */\r\n    BGMSuspend = '_EEventAudio_BGMSuspend',\r\n    /** BGM继续 */\r\n    BGMGoOn = '_EEventAudio_BGMGoOn',\r\n    /** 音效暂停 */\r\n    SoundSuspend = '_EEventAudio_SoundSuspend',\r\n    /** 音效继续 */\r\n    SoundGoOn = '_EEventAudio_SoundGoOn',\r\n    /** BGM音量改变 */\r\n    BGMVolumeChange = '_EEventAudio_BGMVolumeChange',\r\n    /** Sound音量改变 */\r\n    SoundVolumeChange = '_EEventAudio_BGMVolumeChange',\r\n}\r\n\r\n/**\r\n    事件定义规则\r\n    只在产生事件时抛出事件\r\n    不要被动抛出事件避免事件循环抛出\r\n */","import { EKeyResName } from \"./EKeyResName\";\r\nimport KeyResManager from \"./KeyResManager\";\r\n\r\n/**\r\n * 资源公共根路径\r\n */\r\nexport default class ResUrl {\r\n    /**\r\n     * 音乐文件路径\r\n     * @param name 文件名称\r\n     */\r\n    public static music_url(name: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.music) + name + '.mp3';\r\n    }\r\n\r\n    /**\r\n     * 音效资源路径\r\n     * @param name 音效名字 \r\n     */\r\n    public static sound_url(name: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.sound) + name + '.mp3';\r\n    }\r\n\r\n    /**\r\n     * 图标资源路径\r\n     * @param name 图标名称 \r\n     */\r\n    public static icon_url(name: string): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.icon) + name + '.png';\r\n    }\r\n\r\n    /**\r\n     * 图片资源路径\r\n     * @param name 图片资源名字\r\n     * @param _suffix 图片资源后缀\r\n     */\r\n    public static img_url(name: string, _suffix: string = 'png'): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.img) + name + '.' + _suffix;\r\n    }\r\n\r\n    /**\r\n     * 皮肤资源路径\r\n     * @param name 皮肤名称 \r\n     * @param _suffix 皮肤资源后缀\r\n     */\r\n    public static skin_url(name: string, _suffix: string = 'png'): string {\r\n        return KeyResManager.instance.getResURL(EKeyResName.skin) + name + '.' + _suffix;\r\n    }\r\n}","import ResUrl from \"../../aTGame/Res/ResUrl\";\r\nimport ConsoleEx from \"../Console/ConsoleEx\";\r\n\r\n/**\r\n * 音效工具类\r\n * 必须要先预加载音效，不然播放会有延迟\r\n */\r\nexport default class AudioUtils {\r\n    //\r\n    private static _instance: AudioUtils;\r\n    /** 单例 */\r\n    public static get instance(): AudioUtils {\r\n        if (this._instance == null) {\r\n            this._instance = new AudioUtils();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    //初始化\r\n    public init() { }\r\n\r\n    //\r\n    private _bgPast: string[] = [];\r\n    private _urlBGM: string = '';\r\n    private _urlSOUND: string = '';\r\n\r\n    /**\r\n     * 播放背景音乐\r\n     * @param name 背景音乐名字\r\n     */\r\n    public playBGM(name: string, loops?: number, complete?: Handler, startTime?: number): void {\r\n        if (name != null && this._bgPast.slice(-1)[0] != name) {\r\n            this._bgPast.push(name);\r\n            this._urlBGM = ResUrl.music_url(name);\r\n            this._playMusic(loops, complete, startTime);\r\n            console.log(...ConsoleEx.packLog(\"播放背景音乐\", name));\r\n        }\r\n        else {\r\n            if (this._urlBGM != \"\") {\r\n                this._playMusic(loops, complete, startTime);\r\n                console.log(...ConsoleEx.packLog(\"播放背景音乐\", name));\r\n            } else {\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 转移背景音乐\r\n     * @param name \r\n     */\r\n    public shiftBGM(name: string, loops?: number, complete?: Handler, startTime?: number): void {\r\n        if (this._bgPast.slice(-1)[0] == name) {\r\n            this._bgPast.pop();\r\n            let pastBg: string = this._bgPast.slice(-1)[0];\r\n            if (pastBg) {\r\n                this._urlBGM = ResUrl.music_url(name);\r\n                this._playMusic(loops, complete, startTime);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 暂停背景音乐\r\n     */\r\n    public pauseBGM() {\r\n        Laya.SoundManager.stopMusic();\r\n        console.log(...ConsoleEx.packLog(\"停止播放音乐\", this._urlBGM));\r\n    }\r\n\r\n    /**\r\n     * 暂停特效音乐\r\n     */\r\n    public pauseSound() {\r\n        Laya.SoundManager.stopAllSound();\r\n    }\r\n\r\n    private _sounds: Laya.SoundChannel[] = [];\r\n    /**\r\n     * 播放特效音乐\r\n     * @param type 名字\r\n     * @param loops 是否循环\r\n     * @param complete 完成回调\r\n     * @param soundClass 使用哪个声音类进行播放，null表示自动选择。\r\n     * @param startTime 开始时间\r\n     */\r\n    public playSound(type: string, loops?: number, complete?: Laya.Handler, soundClass?: any, startTime?: number): void {\r\n        this._urlSOUND = ResUrl.sound_url(type);\r\n        for (let i = 0; i < this._sounds.length; i++) {\r\n            if (this._sounds[i]) {\r\n                if (this._sounds[i].url.indexOf(this._urlSOUND) >= 0) {\r\n                    this._sounds[i].stop();\r\n                    this._sounds.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        let temp = Laya.SoundManager.playSound(this._urlSOUND, loops, complete, soundClass, startTime);\r\n        this._sounds.push(temp);\r\n    }\r\n\r\n    /**\r\n     * 停止播放某个特效音乐\r\n     * @param type \r\n     */\r\n    public stopSound(type: string): void {\r\n        this._urlSOUND = ResUrl.sound_url(type);\r\n        Laya.SoundManager.stopSound(this._urlSOUND);\r\n    }\r\n\r\n    // 播放音乐后的回调\r\n    private _playMusic(loops: number = 0, complete?: Handler, startTime?: number) {\r\n        Laya.SoundManager.stopMusic();\r\n        Laya.SoundManager.playMusic(this._urlBGM, loops, complete, startTime);\r\n    }\r\n}","import AudioUtils from '../../aTGame/Audio/AudioUtils';\r\nimport GameDataProxy from '../GameData/GameDataProxy';\r\nimport { EBGMs } from '../ResList/EBGMs';\r\nimport { ESounds } from '../ResList/ESounds';\r\n/**\r\n * 音效代理类\r\n */\r\nexport default class AudioProxy {\r\n    //\r\n    private static m_instance: AudioProxy;\r\n    /** 单例 */\r\n    public static get instance(): AudioProxy {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new AudioProxy();\r\n        }\r\n        return this.m_instance;\r\n    }\r\n\r\n    private m_onBGM: EBGMs;\r\n    //当前播放的循环音效列表\r\n    private m_onLoopSoundList: Set<ESounds>;\r\n\r\n    //游戏是否暂停\r\n    private m_stop: boolean;\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    private constructor() {\r\n        this.m_stop = false;\r\n        this.m_onLoopSoundList = new Set<ESounds>();\r\n    }\r\n\r\n    /**\r\n     * 停止背景音乐\r\n     */\r\n    public stopBGM() {\r\n        AudioUtils.instance.pauseBGM();\r\n    }\r\n\r\n    /**\r\n     * 继续播放背景音乐\r\n     */\r\n    public BGMGoOn() {\r\n        this.playBGM(this.m_onBGM);\r\n    }\r\n\r\n    //音效暂停\r\n    public soundSuspend() {\r\n        this.m_stop = true;\r\n        //暂停所有循环播放音效\r\n        for (let _o of this.m_onLoopSoundList) {\r\n            AudioUtils.instance.stopSound(_o);\r\n        }\r\n    }\r\n\r\n    //音效继续\r\n    public soundGoOn() {\r\n        this.m_stop = false;\r\n        //继续播放暂停前的循环播放音效\r\n        for (let _o of this.m_onLoopSoundList) {\r\n            AudioUtils.instance.playSound(_o, 0);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 播放背景音乐\r\n     * @param _name 背景音乐名字\r\n     */\r\n    public playBGM(_name: EBGMs, loops?: number, complete?: Handler, startTime?: number): void {\r\n        if (!GameDataProxy.gameData.ifOpenBgm || this.m_stop) return;\r\n        AudioUtils.instance.playBGM(_name, loops, complete, startTime);\r\n        //记录\r\n        this.m_onBGM = _name;\r\n    }\r\n\r\n    /**\r\n     * 播放音效\r\n     * @param url 声音文件地址。\r\n     * @param loops 循环次数,0表示无限循环。\r\n     * @param complete 声音播放完成回调  Handler对象。\r\n     * @param soundClass 使用哪个声音类进行播放，null表示自动选择。\r\n     * @param startTime 声音播放起始时间。\r\n    */\r\n    public playSound(_eSoundName: ESounds, loops?: number, complete?: Laya.Handler, soundClass?: any, startTime?: number) {\r\n        if (!GameDataProxy.gameData.ifOpenSound || this.m_stop) return;\r\n        //判断是不是循环播放的音效，如果是的话就保存起来\r\n        if (loops == 0) {\r\n            this.m_onLoopSoundList.add(_eSoundName);\r\n        }\r\n        //正式播放音效\r\n        AudioUtils.instance.playSound(_eSoundName, loops, complete, soundClass, startTime);\r\n    }\r\n\r\n    /**\r\n     * 停止音效\r\n     * @param _eSoundName 音效名字\r\n     */\r\n    public stopSound(_eSoundName: ESounds) {\r\n        AudioUtils.instance.stopSound(_eSoundName);\r\n        //判断是否在当前循环播放列表中\r\n        if (this.m_onLoopSoundList.has(_eSoundName)) {\r\n            this.m_onLoopSoundList.delete(_eSoundName);\r\n        }\r\n    }\r\n}","import IRootManager from \"../../aTGame/Manager/IRootManager\";\r\nimport { EEventAudio } from \"../EventEnum/EEventAudio\";\r\nimport AudioProxy from \"../Proxy/AudioProxy\";\r\nimport MesManager from \"./MesManager\";\r\n/**\r\n * 音效管理类\r\n */\r\nexport default class AudioManager implements IRootManager {\r\n    //\r\n    private static _instance: AudioManager;\r\n    /** 单例 */\r\n    public static get instance(): AudioManager {\r\n        if (this._instance == null) {\r\n            this._instance = new AudioManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    //初始化\r\n    public init() {\r\n        MesManager.instance.onAudio(EEventAudio.BGMSuspend, this, this.BGMsuSpend);\r\n        MesManager.instance.onAudio(EEventAudio.BGMGoOn, this, this.BGMGoOn);\r\n        MesManager.instance.onAudio(EEventAudio.SoundSuspend, this, this.soundSuspend);\r\n        MesManager.instance.onAudio(EEventAudio.SoundGoOn, this, this.soundGoOn);\r\n        MesManager.instance.onAudio(EEventAudio.BGMVolumeChange, this, this.bgmVolumeChange);\r\n        MesManager.instance.onAudio(EEventAudio.SoundVolumeChange, this, this.soundVolumeChange);\r\n    }\r\n\r\n    //BGM暂停\r\n    private BGMsuSpend() {\r\n        AudioProxy.instance.stopBGM();\r\n    }\r\n\r\n    //BGM继续\r\n    private BGMGoOn() {\r\n        AudioProxy.instance.BGMGoOn();\r\n    }\r\n\r\n    //音效暂停\r\n    private soundSuspend() {\r\n        AudioProxy.instance.soundSuspend();\r\n    }\r\n\r\n    //音效继续\r\n    private soundGoOn() {\r\n        AudioProxy.instance.soundGoOn();\r\n    }\r\n\r\n    //BGM音量改变\r\n    private bgmVolumeChange(_n: number = 1) {\r\n        Laya.SoundManager.setMusicVolume(_n);\r\n    }\r\n\r\n    //音效音量改变\r\n    private soundVolumeChange(_n: number = 1) {\r\n        Laya.SoundManager.setSoundVolume(_n);\r\n    }\r\n}","import CustomsManager from '../../Manager/CustomsManager';\r\nimport UIManager from '../../Manager/UIManager';\r\nimport { GlobalStateManager } from '../../Manager/GlobalStateManager';\r\nimport GameManager from '../../Manager/GameManager';\r\nimport EnvironmentManager from '../../Manager/EnvironmentManager';\r\nimport MesManager from '../../Manager/MesManager';\r\nimport TestConstProxy from '../../ConfigProxy/TestConstProxy';\r\nimport AudioManager from '../../Manager/AudioManager';\r\n\r\n/**\r\n * 3d 游戏 入口\r\n */\r\nexport default class Game3D {\r\n    //\r\n    private static _instance: Game3D;\r\n    /** 单例 */\r\n    public static get instance(): Game3D {\r\n        if (this._instance == null) {\r\n            this._instance = new Game3D();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    /**\r\n     * 进入游戏\r\n     */\r\n    public enterGame() {\r\n        //初始化游戏\r\n        this.initGame();\r\n        //开始游戏前\r\n        this._startGame();\r\n        //开始游戏\r\n        this.startGame();\r\n    }\r\n\r\n    //初始化游戏\r\n    private initGame() {\r\n        //初始化全局状态管理器\r\n        GlobalStateManager.instance.init();\r\n        //简易消息管理器\r\n        MesManager.instance.init();\r\n        //音效管理器\r\n        AudioManager.instance.init();\r\n        //游戏管理器\r\n        GameManager.instance.init();\r\n        //初始化环境管理器\r\n        EnvironmentManager.instance.init();\r\n        //初始化UI\r\n        UIManager.instance.init();\r\n        //初始化场景\r\n        CustomsManager.instance.init();\r\n    }\r\n\r\n    //开始游戏之前\r\n    private _startGame() {\r\n        //打开debug显示页面\r\n        if (TestConstProxy.instance.ifDebug) {\r\n            Laya.Stat.show();\r\n        } else {\r\n            Laya.Stat.hide();\r\n        }\r\n        // 关闭多点触控\r\n        // Laya.MouseManager.multiTouchEnabled = true;\r\n    }\r\n\r\n    //开始游戏\r\n    private startGame() {\r\n        //\r\n        UIManager.instance.Start();\r\n        //\r\n        CustomsManager.instance.initLevelBuild();\r\n    }\r\n}","import EssentialResUrls from \"../Res/EssentialResUrls\";\r\nimport ResLoad from \"../Res/ResLoad\";\r\nimport ArrayUtils from \"../Utils/ArrayUtils\";\r\n\r\n/**\r\n * 配置管理器\r\n * 所有配置文件加载完处理后就销毁,只有额外的配置文件列表中的配置文件不会被销毁\r\n */\r\nexport class ConfigManager {\r\n    //\r\n    private static _configList: any[] = [];\r\n    //\r\n    private static _extraConfig: string[] = [];\r\n\r\n    /** 加载配置文件数量 */\r\n    static get needLoadCount(): number {\r\n        return this._configList.length;\r\n    }\r\n\r\n    /**\r\n     * 添加配置文件\r\n     * @param configName 配置文件\r\n     */\r\n    public static AddConfig(configName: any) {\r\n        ConfigManager._configList.push(configName);\r\n    }\r\n\r\n    /**\r\n     * 添加额外的配置文件列表\r\n     * @param _url \r\n     */\r\n    public static AddExtraConfig(_url: string[]) {\r\n        //\r\n        if (_url.length > 0) {\r\n            //添加\r\n            ConfigManager._extraConfig.push(..._url);\r\n            //去重\r\n            ConfigManager._extraConfig = ArrayUtils.Unique(ConfigManager._extraConfig);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 开始加载配置\r\n     * @param onFinished 加载完成回调\r\n     * @param onProgress 加载进度回调\r\n     */\r\n    public static StartLoad(onFinished: Laya.Handler, onProgress: Laya.Handler = null) {\r\n        //判断是否有配置\r\n        if (ConfigManager._configList.length == 0) {\r\n            if (onFinished) {\r\n                onFinished.run();\r\n            }\r\n            return;\r\n        }\r\n        //获取配置路径列表\r\n        var loadUrls = [];\r\n        for (let configName of ConfigManager._configList) {\r\n            loadUrls.push(EssentialResUrls.ConfigURL(configName.path.match(/[a-zA-Z0-9.]*$/)[0]));\r\n        }\r\n        //获取需要清理掉的配置文件路径\r\n        let _clearURLs: string[] = [];\r\n        loadUrls.forEach((item) => {\r\n            _clearURLs.push(item);\r\n        });\r\n        //添加额外的配置文件\r\n        loadUrls.push(...this._extraConfig);\r\n        //加载文件\r\n        Laya.loader.create(loadUrls, Laya.Handler.create(this, () => {\r\n            //获取文件并初始化数据\r\n            for (let configName of ConfigManager._configList) {\r\n                configName.data = Laya.loader.getRes(EssentialResUrls.ConfigURL(configName.path.match(/[a-zA-Z0-9.]*$/)[0]));\r\n                configName.dataList = [];\r\n                for (let configKey in configName.data) {\r\n                    let value = configName.data[configKey];\r\n                    if (value != null) {\r\n                        configName.dataList.push(value);\r\n                    }\r\n                }\r\n                if (configName.dataList.length > 0) {\r\n                    configName.lastData = configName.dataList[configName.dataList.length - 1];\r\n                }\r\n            }\r\n            if (onFinished) {\r\n                onFinished.run();\r\n            }\r\n            //清理资源\r\n            _clearURLs.forEach((item) => {\r\n                ResLoad.Unload(item);\r\n            });\r\n        }), onProgress);\r\n    }\r\n}","export namespace GameConst {\r\n    export class config {\r\n        /** Laya小游戏 */ readonly Game: string;\r\n    }\r\n    export var data : GameConst.config;\r\n    export const path = \"res/config/GameConst.json\";\r\n}\r\n\r\n\r\n","/**\r\n * 加载UI包类\r\n */\r\nexport class LoadUIPack {\r\n    // 包路径\r\n    private packPath: string;\r\n    // 其他资源数量\r\n    private atliasCount: number;\r\n    //额外的UI资源\r\n    private m_extraURL: any[];\r\n\r\n    /**\r\n     * 加载包\r\n     * @param packPath 包路径 \r\n     * @param atliasCount 图集数量\r\n     * @param _extraURL 额外的资源\r\n     */\r\n    constructor(packPath: string, atliasCount: number = -1, _extraURL?: any[]) {\r\n        this.packPath = packPath;\r\n        this.atliasCount = atliasCount;\r\n        this.m_extraURL = _extraURL\r\n    }\r\n\r\n    /**\r\n     * 获取所有路径\r\n     * @param urls 输出数组\r\n     */\r\n    public PushUrl(urls: any[]) {\r\n        //加入包名\r\n        urls.push({ url: this.packPath + \".bin\", type: Laya.Loader.BUFFER });\r\n        //加入其它资源\r\n        if (this.m_extraURL && this.m_extraURL.length > 0) {\r\n            urls.push(...this.m_extraURL);\r\n        }\r\n        //加载纹理集\r\n        if (this.atliasCount >= 0) {\r\n            urls.push({ url: this.packPath + \"_atlas0.png\", type: Laya.Loader.IMAGE });\r\n            //\r\n            for (let i = 1; i <= this.atliasCount; i++) {\r\n                urls.push({ url: this.packPath + \"_atlas0_\" + i + \".png\", type: Laya.Loader.IMAGE });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加包\r\n     */\r\n    public AddPackage() {\r\n        fgui.UIPackage.addPackage(this.packPath);\r\n    }\r\n}","import RootLocalStorageData from \"../Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 公共需要保存的数据\r\n */\r\nexport default class ComData extends RootLocalStorageData {\r\n    //\r\n}","import RootLocalStorageProxy from '../Data/RootLocalStorageProxy';\r\nimport ComData from './ComData';\r\n\r\n/**\r\n * 公共数据保存类\r\n */\r\nexport default class CommonDataProxy extends RootLocalStorageProxy<ComData> {\r\n    //\r\n    private static _instance: CommonDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): CommonDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new CommonDataProxy();\r\n        }\r\n        return this._instance;\r\n    }\r\n    /** 数据单例 */\r\n    public static get comData(): ComData {\r\n        return this._instance._saveData;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->CommonData<-\";\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): ComData {\r\n        return new ComData();\r\n    }\r\n\r\n    /**\r\n     * 保存数据到本地\r\n     */\r\n    public static SaveToDisk() {\r\n        this._instance._SaveToDisk(this._instance._saveData);\r\n    }\r\n}","/**\r\n * 框架依赖的分包数据\r\n */\r\nexport default class FrameSubpackages {\r\n    /** 分包列表,必须和分包配置文件中的列表一致 */\r\n    public static subpackages: {\r\n        //包名字\r\n        name: string,\r\n        //路径\r\n        root: string,\r\n    }[] = [\r\n            //\r\n        ];\r\n}","import { LoadUIPack } from '../UI/FGUI/LoadUIPack';\r\nimport { ConfigManager } from '../Config/ConfigManager';\r\nimport SceneManager from '../3D/SceneManager';\r\nimport FGuiRootManager from '../UI/FGUI/FGuiRootManager';\r\nimport Global3D from '../3D/Global3D';\r\nimport EssentialResUrls from '../Res/EssentialResUrls';\r\nimport CommonDataProxy from '../Commom/CommonDataProxy';\r\nimport KeyResManager from '../Res/KeyResManager';\r\nimport FrameSubpackages from '../../cFrameBridge/FrameSubpackages';\r\nimport PlatformManager from '../Platform/PlatformManager';\r\nimport { ELevelSceneName } from '../../cFrameBridge/Config/ELevelSceneName';\r\n/**\r\n * 游戏进入之前的加载操作基类\r\n * 加载分包\r\n * 加载顺序\r\n * 白屏显示UI包\r\n * 游戏初始化加载资源UI包\r\n * 配置文件\r\n * 其他UI包\r\n * 其他游戏资源\r\n */\r\nexport default class RootGameLoad {\r\n    /** 白屏时的UI包 */\r\n    protected _initEmptyScreen: LoadUIPack;\r\n\r\n    /** 用于初始化的ui包-只能有一个，减少游戏初始加载内容 */\r\n    protected _initUiPack: LoadUIPack;\r\n\r\n    /** 需要加载的其他UI包 */\r\n    protected _needLoadOtherUIPack: LoadUIPack[] = [];\r\n\r\n    /** 加载完成处理 */\r\n    private m_backHandler: Laya.Handler;\r\n\r\n    /**\r\n     * 资源加载权重\r\n     */\r\n    private _loadProgressWeight: {\r\n        config: number,\r\n        gameRes: number,\r\n        otherUI: number,\r\n    } = {\r\n            config: 1,//配置\r\n            gameRes: 5,//游戏资源\r\n            otherUI: 3,//其他ui\r\n        };\r\n    //配置文件加载进度\r\n    private _configProgress: number = 0;\r\n    //其他UI加载进度\r\n    private _otherUIProgress: number = 0;\r\n    //其他游戏资源加载进度\r\n    private _resProgress: number = 0;\r\n    //总加载进度\r\n    private get loadProgress(): number {\r\n        //总配比\r\n        let totalWeight: number = 0;\r\n        for (let i in this._loadProgressWeight) {\r\n            totalWeight += this._loadProgressWeight[i];\r\n        }\r\n        //加载配比\r\n        let loadWeight: number =\r\n            this._loadProgressWeight.config * this._configProgress//配置文件\r\n            + this._loadProgressWeight.gameRes * this._resProgress//游戏资源\r\n            + this._loadProgressWeight.otherUI * this._otherUIProgress;//其他UI\r\n        //返回总进度\r\n        return (loadWeight / totalWeight) * 100;\r\n    }\r\n\r\n    //加载分包资源\r\n    private loadSubpackage(): Promise<void> {\r\n        //\r\n        return new Promise<void>((r) => {\r\n            //分包列表\r\n            if (FrameSubpackages.subpackages.length > 0) {\r\n                //加载所有分包\r\n                let _promiseList: Promise<void>[] = [];\r\n                for (let _o of FrameSubpackages.subpackages) {\r\n                    //重置分包资源路径\r\n                    KeyResManager.instance.editKeyResList(_o.name, _o.root);\r\n                    //\r\n                    if (_o.name) {\r\n                        _promiseList.push(new Promise<void>((r) => {\r\n                            PlatformManager.PlatformInstance.LoadSubpackage(\r\n                                _o.name,\r\n                                Laya.Handler.create(this, () => {\r\n                                    r();\r\n                                }), Laya.Handler.create(this, () => {\r\n                                    r();\r\n                                }),\r\n                                undefined\r\n                            );\r\n                        }));\r\n                    }\r\n                }\r\n                //\r\n                Promise.all<Promise<void>>(_promiseList).then(() => {\r\n                    r();\r\n                });\r\n            } else {\r\n                r();\r\n            }\r\n        });\r\n    }\r\n\r\n    //初始化之前执行\r\n    private __Init(): Promise<void> {\r\n        return new Promise<void>((r: Function) => {\r\n            //初始化平台管理器\r\n            PlatformManager.instance.init();\r\n            PlatformManager.instance.initPlatform();\r\n            //加载分包资源\r\n            this.loadSubpackage().then(() => {\r\n                //初始化场景管理器\r\n                SceneManager.instance.init();\r\n                r();\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 开始\r\n     */\r\n    public Enter(_backHandler: Laya.Handler) {\r\n        //保存回调\r\n        this.m_backHandler = _backHandler;\r\n        //\r\n        this.__Init().then(() => {\r\n            //\r\n            this.Init();\r\n        });\r\n    }\r\n\r\n    //初始化之前(使用时重写)\r\n    protected _Init() { }\r\n\r\n    // 初始化\r\n    private Init() {\r\n        //初始化之前\r\n        this._Init();\r\n        //开始初始化白屏页面\r\n        this.initEmptyScreen();\r\n    }\r\n\r\n    //初始化空白页面\r\n    private initEmptyScreen() {\r\n        //初始化FGUI\r\n        FGuiRootManager.Init();\r\n        //捆绑所有UI\r\n        this.OnBindUI();\r\n        //获取空白页面资源地址列表\r\n        let loadUrl = [];\r\n        this._initEmptyScreen.PushUrl(loadUrl);\r\n        //判断是否有资源\r\n        if (loadUrl.length == 0) {\r\n            this.InitUI();\r\n            return;\r\n        }\r\n        //加载初始化UI包\r\n        Laya.loader.load(loadUrl, Laya.Handler.create(this, this.InitUI));\r\n    }\r\n\r\n    //初始化UI\r\n    private InitUI() {\r\n        //\r\n        this._initEmptyScreen.AddPackage();\r\n        //回调，打开空白页面\r\n        this._OnInitEmptyScreen();\r\n        //获取需要加载的初始化UI路径列表\r\n        let loadUrl = [];\r\n        this._initUiPack.PushUrl(loadUrl);\r\n        //判断是否有资源\r\n        if (loadUrl.length == 0) {\r\n            this.OnInitUILoaded();\r\n            return;\r\n        }\r\n        //加载初始化UI包\r\n        Laya.loader.load(loadUrl, Laya.Handler.create(this, this.OnInitUILoaded));\r\n    }\r\n\r\n    //初始化UI包加载完成\r\n    private OnInitUILoaded() {\r\n        //\r\n        this._initUiPack.AddPackage();\r\n        // 回调 (打开初始UI设置进度条)\r\n        this._OnInitUILoaded();\r\n        //\r\n        this.onLoading(this.loadProgress);\r\n        // 加载配置文件\r\n        this.OnConfigLoaded();\r\n    }\r\n\r\n    //加载配置文件\r\n    private OnConfigLoaded() {\r\n        //设置要添加的配置文件\r\n        this.OnSetLoadConfig();\r\n        //添加其他必要配置文件路径列表\r\n        let _levelSceneURLs: string[] = [];\r\n        for (let _i in ELevelSceneName) {\r\n            if (!ELevelSceneName[_i]) {\r\n                continue;\r\n            }\r\n            _levelSceneURLs.push(EssentialResUrls.levelConfigURL(ELevelSceneName[_i]));\r\n        }\r\n        ConfigManager.AddExtraConfig(_levelSceneURLs);\r\n        //\r\n        if (ConfigManager.needLoadCount <= 0) {\r\n            this._OnConfigProgress(1);\r\n            this._OnConfigLoaded();\r\n            return;\r\n        }\r\n        //使用的是Laya.loader.create方法加载\r\n        ConfigManager.StartLoad(\r\n            Laya.Handler.create(this, this._OnConfigLoaded),\r\n            Laya.Handler.create(this, this._OnConfigProgress, null, false)\r\n        );\r\n    }\r\n\r\n    //配置文件加载进度\r\n    private _OnConfigProgress(value: number) {\r\n        this._configProgress = value;\r\n        //\r\n        this.onLoading(this.loadProgress);\r\n    }\r\n\r\n    //加载配置文件完成\r\n    private _OnConfigLoaded() {\r\n        //设置配置文件\r\n        SceneManager.instance.initConfig();\r\n        //获取其他需要加载的UI文件路径列表\r\n        let uiLoadData = [];\r\n        for (let i = 0; i < this._needLoadOtherUIPack.length; ++i) {\r\n            this._needLoadOtherUIPack[i].PushUrl(uiLoadData);\r\n        }\r\n        //判断是否有资源\r\n        if (uiLoadData.length == 0) {\r\n            this._OnOtherUIProgress(1);\r\n            this._OnOtherUILoaded();\r\n            return;\r\n        }\r\n        //加载\r\n        Laya.loader.load(uiLoadData,\r\n            Laya.Handler.create(this, this._OnOtherUILoaded),\r\n            Laya.Handler.create(this, this._OnOtherUIProgress, null, false)\r\n        );\r\n    }\r\n\r\n    //其他UI加载进度\r\n    private _OnOtherUIProgress(value: number) {\r\n        this._otherUIProgress = value;\r\n        //\r\n        this.onLoading(this.loadProgress);\r\n    }\r\n\r\n    //其他UI加载完成\r\n    private _OnOtherUILoaded() {\r\n        for (let i = 0; i < this._needLoadOtherUIPack.length; ++i) {\r\n            this._needLoadOtherUIPack[i].AddPackage();\r\n        }\r\n        // 获取需要加载的游戏资源路径列表\r\n        let loadUrls = [];\r\n        this.OnGameResPrepared(loadUrls);\r\n        //添加必要的资源\r\n        loadUrls.push(...EssentialResUrls.EssentialOtherResUrl());\r\n        //获取需要预加载的场景资源\r\n        SceneManager.instance.Preload(loadUrls);\r\n        //判断是否有资源\r\n        if (loadUrls.length == 0) {\r\n            this._OnResProgress(1);\r\n            this._OnResLoaded();\r\n            return;\r\n        }\r\n        //加载\r\n        Laya.loader.create(loadUrls,\r\n            Laya.Handler.create(this, this._OnResLoaded),\r\n            Laya.Handler.create(this, this._OnResProgress, null, false)\r\n        );\r\n    }\r\n\r\n    //游戏其他资源加载进度\r\n    private _OnResProgress(value: number) {\r\n        this._resProgress = value;\r\n        //\r\n        this.onLoading(this.loadProgress);\r\n    }\r\n\r\n    //游戏其他资源加载完成\r\n    //# 所有内容加载完成\r\n    private _OnResLoaded() {\r\n        //初始化游戏场景\r\n        Global3D.InitAll();\r\n        //注册数据\r\n        this.loginCommonData();\r\n        this.loginData();\r\n        //游戏加载完毕\r\n        this.OnComplete();\r\n        //处理回调\r\n        this.m_backHandler.run();\r\n    }\r\n\r\n    //注册公共数据\r\n    private loginCommonData() {\r\n        CommonDataProxy.instance.InitData();\r\n    }\r\n\r\n    //! //\r\n    // * -----------------------------生命周期函数---------------------------- * //\r\n    //! //\r\n\r\n    /**\r\n     * 注册UI\r\n     */\r\n    protected OnBindUI() { }\r\n\r\n    /**\r\n     * 注册表格\r\n     */\r\n    protected OnSetLoadConfig() { }\r\n\r\n    /**\r\n     * 加载游戏资源\r\n     * @param urls 注入的目标列表\r\n     */\r\n    protected OnGameResPrepared(urls: string[]) { }\r\n\r\n    /**\r\n     * 空白页面UI初始化完成 (在这里设置空白页面)\r\n     */\r\n    protected _OnInitEmptyScreen() { }\r\n\r\n    /**\r\n     * 初始化UI加载完成 (在这里设置进度条)\r\n     */\r\n    protected _OnInitUILoaded() { }\r\n\r\n    /**\r\n     * 加载进度\r\n     * @param _n 0-100 \r\n     */\r\n    protected onLoading(_n: number) { }\r\n\r\n    /**\r\n     * 注册数据\r\n     */\r\n    protected loginData() { }\r\n\r\n    /**\r\n     * 全部加载完成\r\n     */\r\n    protected OnComplete() { }\r\n}","export namespace SkinConfig {\r\n    export class config {\r\n        /** 位移索引 */ readonly id: number;\r\n        /** 名字 */ readonly name: string;\r\n        /** 皮肤图片路径 */ readonly ImageURL: string;\r\n        /** 说明 */ readonly explain: string;\r\n    }\r\n    export var data : {[key: number]: SkinConfig.config};\r\n    export var dataList : SkinConfig.config[];\r\n    export var lastData : SkinConfig.config;\r\n    export const path = \"res/config/SkinConfig.json\";\r\n}\r\n\r\n\r\n","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_splash extends fairygui.GComponent {\n\n\tpublic m_bg:fairygui.GGraph;\n\tpublic m_progress:fairygui.GProgressBar;\n\tpublic m_loading_progress:fairygui.GTextField;\n\tpublic m_text_logo:fairygui.GTextField;\n\tpublic m_text_progress:fairygui.GTextField;\n\tpublic m_text_laya:fairygui.GTextField;\n\tpublic m_text_explain:fairygui.GTextField;\n\tpublic m_text_v:fairygui.GTextField;\n\tpublic m_text_laya_v:fairygui.GTextField;\n\tpublic m_text_game_explain:fairygui.GTextField;\n\n\tpublic static URL:string = \"ui://n3oedpp6nihr0\";\n\n\tpublic static createInstance():FGUI_splash {\n\t\treturn <FGUI_splash><any>(fairygui.UIPackage.createObject(\"InitLoad\",\"splash\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_bg = <fairygui.GGraph><any>(this.getChildAt(0));\n\t\tthis.m_progress = <fairygui.GProgressBar><any>(this.getChildAt(1));\n\t\tthis.m_loading_progress = <fairygui.GTextField><any>(this.getChildAt(2));\n\t\tthis.m_text_logo = <fairygui.GTextField><any>(this.getChildAt(3));\n\t\tthis.m_text_progress = <fairygui.GTextField><any>(this.getChildAt(4));\n\t\tthis.m_text_laya = <fairygui.GTextField><any>(this.getChildAt(5));\n\t\tthis.m_text_explain = <fairygui.GTextField><any>(this.getChildAt(6));\n\t\tthis.m_text_v = <fairygui.GTextField><any>(this.getChildAt(7));\n\t\tthis.m_text_laya_v = <fairygui.GTextField><any>(this.getChildAt(8));\n\t\tthis.m_text_game_explain = <fairygui.GTextField><any>(this.getChildAt(9));\n\t}\n}","export namespace GameStateConst {\r\n    export class config {\r\n        /** int类型测试 */ readonly intCs: number;\r\n        /** string类型测试 */ readonly stringCs: string;\r\n        /** float类型测试 */ readonly floatCs: number;\r\n        /** boolean类型测试 */ readonly booleanCs: boolean;\r\n    }\r\n    export var data : GameStateConst.config;\r\n    export const path = \"res/config/GameStateConst.json\";\r\n}\r\n\r\n\r\n","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class GameCommonBinder{\n\tpublic static bindAll():void {\n\n\t}\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\nimport FGUI_PGameSet from \"./FGUI_PGameSet\";\nimport FGUI_PGamePause from \"./FGUI_PGamePause\";\nimport FGUI_PGameCustomsLoading from \"./FGUI_PGameCustomsLoading\";\nimport FGUI_PGameLoading from \"./FGUI_PGameLoading\";\nimport FGUI_PGamePlay from \"./FGUI_PGamePlay\";\nimport FGUI_PGameStart from \"./FGUI_PGameStart\";\nimport FGUI_PGameEnd from \"./FGUI_PGameEnd\";\nimport FGUI_PGameTestMain from \"./FGUI_PGameTestMain\";\nimport FGUI_PGameCom from \"./FGUI_PGameCom\";\nimport FGUI_PGameMain from \"./FGUI_PGameMain\";\nimport FGUI_PGameTestPlatform from \"./FGUI_PGameTestPlatform\";\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class GameMainBinder{\n\tpublic static bindAll():void {\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameSet.URL, FGUI_PGameSet);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGamePause.URL, FGUI_PGamePause);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameCustomsLoading.URL, FGUI_PGameCustomsLoading);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameLoading.URL, FGUI_PGameLoading);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGamePlay.URL, FGUI_PGamePlay);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameStart.URL, FGUI_PGameStart);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameEnd.URL, FGUI_PGameEnd);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameTestMain.URL, FGUI_PGameTestMain);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameCom.URL, FGUI_PGameCom);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameMain.URL, FGUI_PGameMain);\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_PGameTestPlatform.URL, FGUI_PGameTestPlatform);\n\t}\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\n\n\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class FGUI_EmptyScreen extends fairygui.GComponent {\n\n\tpublic m_bg:fairygui.GGraph;\n\n\tpublic static URL:string = \"ui://7ktzib8oq3ng0\";\n\n\tpublic static createInstance():FGUI_EmptyScreen {\n\t\treturn <FGUI_EmptyScreen><any>(fairygui.UIPackage.createObject(\"InitEmptyScreen\",\"EmptyScreen\"));\n\t}\n\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\tprotected onConstruct(): void {\n\t\tthis.m_bg = <fairygui.GGraph><any>(this.getChildAt(0));\n\t}\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\nimport FGUI_EmptyScreen from \"./FGUI_EmptyScreen\";\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class InitEmptyScreenBinder{\n\tpublic static bindAll():void {\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_EmptyScreen.URL, FGUI_EmptyScreen);\n\t}\n}","/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\n// 导入文件\nimport FGUI_splash from \"./FGUI_splash\";\n//! 这是由FGUI自动生成的文件，请不要修改 ~~~ **/\n\nexport default class InitLoadBinder{\n\tpublic static bindAll():void {\n\t\tfairygui.UIObjectFactory.setPackageItemExtension(FGUI_splash.URL, FGUI_splash);\n\t}\n}","/**\r\n * 所有音效(会预加载)\r\n */\r\nexport enum ESounds {\r\n    null = '',\r\n    //音效\r\n}","export namespace CameraConst {\r\n    export class config {\r\n        /** 摄像机正价尺寸 */ readonly orthographic_size: number;\r\n    }\r\n    export var data : CameraConst.config;\r\n    export const path = \"res/config/CameraConst.json\";\r\n}\r\n\r\n\r\n","export namespace LightingConst {\r\n    export class config {\r\n    }\r\n    export var data : LightingConst.config;\r\n    export const path = \"res/config/LightingConst.json\";\r\n}\r\n\r\n\r\n","import RootLocalStorageData from \"../../aTGame/Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 游戏需要持久化的道具数据\r\n */\r\nexport default class GamePropData extends RootLocalStorageData {\r\n    /** 返回一个副本 */\r\n    public clone(): GamePropData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n\r\n    /** 金币数量 */\r\n    public coinCount: number = 0;\r\n}","import RootLocalStorageProxy from '../../aTGame/Data/RootLocalStorageProxy';\r\nimport GamePropData from './GamePropData';\r\n\r\n/**\r\n * 道具数据保存类\r\n */\r\nexport default class GamePropDataProxy extends RootLocalStorageProxy<GamePropData>{\r\n    //\r\n    private static _instance: GamePropDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GamePropDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GamePropDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->GamePropData<-\";\r\n    }\r\n\r\n    /** \r\n     * 获取数据的副本\r\n     */\r\n    public static get propData(): GamePropData {\r\n        return this._instance._saveData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    /**\r\n     * 加金币\r\n     * @param num 金币数量\r\n     */\r\n    public static addCoin(num: number) {\r\n        //化整\r\n        num = Math.floor(num);\r\n        //增加临时数据\r\n        this._instance._saveData.coinCount += num;\r\n        if (this._instance._saveData.coinCount < 0) {\r\n            this._instance._saveData.coinCount = 0;\r\n        }\r\n        this.SaveToDisk();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): GamePropData {\r\n        return new GamePropData();\r\n    }\r\n\r\n    /**\r\n     * 保存到本地 （改变本地数据时调用）\r\n     */\r\n    public static SaveToDisk() {\r\n        this._instance._SaveToDisk(this._instance._saveData);\r\n    }\r\n}","import RootLocalStorageData from \"../../aTGame/Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 游戏需要持久化的皮肤数据\r\n */\r\nexport default class GameSkinData extends RootLocalStorageData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameSkinData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n}","import RootLocalStorageProxy from '../../aTGame/Data/RootLocalStorageProxy';\r\nimport GameSkinData from './GameSkinData';\r\n\r\n\r\n/**\r\n * 皮肤数据保存类\r\n */\r\nexport default class GameSkinDataProxy extends RootLocalStorageProxy<GameSkinData>{\r\n    //\r\n    private static _instance: GameSkinDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GameSkinDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GameSkinDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->GameSkinData<-\";\r\n    }\r\n\r\n    /**\r\n     * 获取当前游戏临时数据的副本\r\n     */\r\n    public static get skinData(): GameSkinData {\r\n        //\r\n        return this._instance._saveData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): GameSkinData {\r\n        return new GameSkinData();\r\n    }\r\n\r\n    /**\r\n     * 保存到本地 （改变本地数据时调用）\r\n     */\r\n    public static SaveToDisk() {\r\n        this._instance._SaveToDisk(this._instance._saveData);\r\n    }\r\n}","import RootLocalStorageData from \"../../aTGame/Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 游戏需要持久化的签到数据\r\n */\r\nexport default class GameSignData extends RootLocalStorageData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameSignData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n\r\n    /** 是否签到 */\r\n    public ifSignIn: boolean = false;\r\n\r\n    /** 是否是第一天 */\r\n    public ifOneDay: boolean = false;\r\n}","import RootLocalStorageProxy from '../../aTGame/Data/RootLocalStorageProxy';\r\nimport GameSignData from './GameSignData';\r\n\r\n/**\r\n * 签到数据保存类\r\n */\r\nexport default class GameSignDataProxy extends RootLocalStorageProxy<GameSignData>{\r\n    //\r\n    private static _instance: GameSignDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GameSignDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GameSignDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->GameSignData<-\";\r\n    }\r\n\r\n    /**\r\n     * 获取当前游戏临时数据的副本\r\n     */\r\n    public static get signData(): GameSignData {\r\n        //\r\n        return this._instance._saveData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): GameSignData {\r\n        return new GameSignData();\r\n    }\r\n\r\n    /**\r\n     * 保存到本地 （改变本地数据时调用）\r\n     */\r\n    public static SaveToDisk() {\r\n        this._instance._SaveToDisk(this._instance._saveData);\r\n    }\r\n}","export namespace LevelPropConfig {\r\n    export class config {\r\n        /** 关卡id[必要] */ readonly id: number;\r\n    }\r\n    export var data : {[key: number]: LevelPropConfig.config};\r\n    export var dataList : LevelPropConfig.config[];\r\n    export var lastData : LevelPropConfig.config;\r\n    export const path = \"res/config/LevelPropConfig.json\";\r\n}\r\n\r\n\r\n","export namespace OtherConst {\r\n    export class config {\r\n        /** int类型cs */ readonly int: number;\r\n    }\r\n    export var data : OtherConst.config;\r\n    export const path = \"res/config/OtherConst.json\";\r\n}\r\n\r\n\r\n","/**\r\n * 所有背景音乐(会预加载)\r\n */\r\nexport enum EBGMs {\r\n    null = '',\r\n    //\r\n}","import RootLocalStorageData from \"../../aTGame/Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 游戏需要持久化的新手引导数据\r\n */\r\nexport default class GameNewHandData extends RootLocalStorageData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameNewHandData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n}","import RootLocalStorageProxy from '../../aTGame/Data/RootLocalStorageProxy';\r\nimport GameNewHandData from './GameNewHandData';\r\n\r\n/**\r\n * 新手引导数据保存类\r\n */\r\nexport default class GameNewHandDataProxy extends RootLocalStorageProxy<GameNewHandData>{\r\n    //\r\n    private static _instance: GameNewHandDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GameNewHandDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GameNewHandDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->GameNewHandData<-\";\r\n    }\r\n\r\n    /** 获取原始数据 */\r\n    public static get rootData(): GameNewHandData {\r\n        //\r\n        return this._instance._saveData;\r\n    }\r\n\r\n    /** \r\n     * 获取数据的副本\r\n     */\r\n    public static get newHandData(): GameNewHandData {\r\n        return this._instance._saveData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): GameNewHandData {\r\n        return new GameNewHandData();\r\n    }\r\n\r\n    /**\r\n     * 保存到本地 （改变本地数据时调用）\r\n     */\r\n    public static SaveToDisk() {\r\n        this._instance._SaveToDisk(this._instance._saveData);\r\n    }\r\n}","import RootLocalStorageData from \"../../aTGame/Data/RootLocalStorageData\";\r\n\r\n/**\r\n * 游戏需要持久化的测试数据\r\n */\r\nexport default class GameTestData extends RootLocalStorageData {\r\n    /** 返回一个副本 */\r\n    public clone(): GameTestData {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n\r\n    public testNumber: number = 0;\r\n\r\n    public testBoolean: boolean = false;\r\n\r\n    public testArray: string[] = [];\r\n\r\n    public testObject: object = {\r\n        a: 0,\r\n        b: 0,\r\n    };\r\n}","import RootLocalStorageProxy from '../../aTGame/Data/RootLocalStorageProxy';\r\nimport GameTestData from './GameTestData';\r\n\r\n\r\n/**\r\n * 测试数据保存类\r\n */\r\nexport default class GameTestDataProxy extends RootLocalStorageProxy<GameTestData>{\r\n    //\r\n    private static _instance: GameTestDataProxy;\r\n    /** 单例 */\r\n    public static get instance(): GameTestDataProxy {\r\n        if (this._instance == null) {\r\n            this._instance = new GameTestDataProxy();\r\n        }\r\n        //\r\n        return this._instance;\r\n    }\r\n\r\n    /** 不允许外界实例化 */\r\n    private constructor() {\r\n        super();\r\n    }\r\n\r\n    /** 设置数据代理 */\r\n    protected _ifSetDataProxy: boolean = true;\r\n\r\n    /** 获取保存名称 */\r\n    protected get _saveName(): string {\r\n        return \"->GameTestData<-\";\r\n    }\r\n\r\n    /**\r\n     * 获取当前游戏临时数据的副本\r\n     */\r\n    public static get testData(): GameTestData {\r\n        //\r\n        return this._instance._saveData.clone();\r\n    }\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    // ** -------------------------------------------------------------------------------------- ** //\r\n\r\n    //获取一个新的数据\r\n    protected getNewData(): GameTestData {\r\n        return new GameTestData();\r\n    }\r\n}","import { ConfigManager } from '../../aTGame/Config/ConfigManager';\r\nimport { GameConst } from '../_config/GameConst';\r\nimport { LevelConfig } from '../_config/LevelConfig';\r\nimport { EnvironmentConfig } from '../_config/EnvironmentConfig';\r\nimport { LoadUIPack } from '../../aTGame/UI/FGUI/LoadUIPack';\r\nimport MainConfig from '../../bTGameConfig/MainConfig';\r\nimport RootGameLoad from '../../aTGame/Main/RootGameLoad';\r\nimport { EUILayer } from '../../aTGame/UI/FGUI/EUILayer';\r\nimport FGuiRootManager from '../../aTGame/UI/FGUI/FGuiRootManager';\r\nimport { GlobalStateManager } from '../Manager/GlobalStateManager';\r\nimport { SkinConfig } from '../_config/SkinConfig';\r\nimport EssentialResUrls from '../../aTGame/Res/EssentialResUrls';\r\nimport FGUI_splash from '../../FGUI/InitLoad/FGUI_splash';\r\nimport { GameStateConst } from '../_config/GameStateConst';\r\nimport ResUrl from '../../aTGame/Res/ResUrl';\r\nimport GameCommonBinder from '../../FGUI/GameCommon/GameCommonBinder';\r\nimport GameMainBinder from '../../FGUI/GameMain/GameMainBinder';\r\nimport InitEmptyScreenBinder from '../../FGUI/InitEmptyScreen/InitEmptyScreenBinder';\r\nimport InitLoadBinder from '../../FGUI/InitLoad/InitLoadBinder';\r\nimport FGUI_EmptyScreen from '../../FGUI/InitEmptyScreen/FGUI_EmptyScreen';\r\nimport { ESounds } from '../ResList/ESounds';\r\nimport { CameraConst } from '../_config/CameraConst';\r\nimport { LightingConst } from '../_config/LightingConst';\r\nimport { TestConst } from '../_config/TestConst';\r\nimport GameDataProxy from '../GameData/GameDataProxy';\r\nimport GamePropDataProxy from '../GameData/GamePropDataProxy';\r\nimport GameSkinDataProxy from '../GameData/GameSkinDataProxy';\r\nimport GameSignDataProxy from '../GameData/GameSignDataProxy';\r\nimport GameShortDataProxy from '../GameData/GameShortDataProxy';\r\nimport { LevelPropConfig } from '../_config/LevelPropConfig';\r\nimport { OtherConst } from '../_config/OtherConst';\r\nimport { EBGMs } from '../ResList/EBGMs';\r\nimport GameNewHandDataProxy from '../GameData/GameNewHandDataProxy';\r\nimport { OtherLevelConfig } from '../_config/OtherLevelConfig';\r\nimport { OtherEnvironmentConfig } from '../_config/OtherEnvironmentConfig';\r\nimport GameTestDataProxy from '../GameData/GameTestDataProxy';\r\n/**\r\n * 游戏进入之前的加载操作类\r\n */\r\nexport default class GameLoad extends RootGameLoad {\r\n    /** 白屏时显示的UI */\r\n    private _emptyScreenShowUI: FGUI_EmptyScreen;\r\n    /** 加载资源时显示的进度条 */\r\n    private _loadingProgress: fgui.GProgressBar;\r\n    /** 显示进度的文字 */\r\n    private _loadingProgressText: fgui.GTextField;\r\n    //加载时显示的UI\r\n    private _loadShowUI: FGUI_splash;\r\n\r\n    //初始化之前的操作\r\n    protected _Init() {\r\n        GlobalStateManager.instance.GameInit();\r\n        //白屏时显示的包\r\n        this._initEmptyScreen = new LoadUIPack(EssentialResUrls.FGUIPack('InitEmptyScreen'));\r\n        //需要初始化加载的ui包。\r\n        this._initUiPack = new LoadUIPack(EssentialResUrls.FGUIPack('InitLoad'), 0);\r\n        //其他需要加载的UI包\r\n        this._needLoadOtherUIPack = [\r\n            new LoadUIPack(EssentialResUrls.FGUIPack('GameCommon')),//游戏公共包\r\n            new LoadUIPack(EssentialResUrls.FGUIPack('GameMain'), 0),//游戏主包\r\n        ];\r\n    }\r\n\r\n    //初始化\r\n    protected _OnInitEmptyScreen() {\r\n        //打开白屏UI\r\n        this._emptyScreenShowUI = FGuiRootManager.AddUI(FGUI_EmptyScreen, EUILayer.Main) as FGUI_EmptyScreen;\r\n    }\r\n\r\n    //初始化UI加载完成 (在这里设置进度条)\r\n    protected _OnInitUILoaded() {\r\n        //隐藏白屏U\r\n        this._emptyScreenShowUI.dispose();\r\n        //添加UI\r\n        this._loadShowUI = FGuiRootManager.AddUI(FGUI_splash, EUILayer.Loading) as FGUI_splash;\r\n        this._loadShowUI.sortingOrder = Number.MAX_SAFE_INTEGER;\r\n        //设置所属团队\r\n        this._loadShowUI.m_text_explain.text = MainConfig.GameWhatTeam;\r\n        //设置logo\r\n        this._loadShowUI.m_text_logo.text = MainConfig.GameName_;\r\n        //设置版本\r\n        this._loadShowUI.m_text_v.text = MainConfig.versions;\r\n        //设置说明\r\n        this._loadShowUI.m_text_game_explain.text = MainConfig.GameExplain;\r\n        //设置laya版本\r\n        this._loadShowUI.m_text_laya_v.text = Laya.version;\r\n        //获取加载进度条\r\n        this._loadingProgress = this._loadShowUI.m_progress;\r\n        //获取进度显示文字\r\n        this._loadingProgressText = this._loadShowUI.m_loading_progress;\r\n        //设置默认进度\r\n        this._loadingProgress.value = 0;\r\n    }\r\n\r\n    //捆绑UI\r\n    protected OnBindUI() {\r\n        InitEmptyScreenBinder.bindAll();\r\n        InitLoadBinder.bindAll();\r\n        GameCommonBinder.bindAll();\r\n        GameMainBinder.bindAll();\r\n    }\r\n\r\n    // 注册表格\r\n    protected OnSetLoadConfig() {\r\n        ConfigManager.AddConfig(CameraConst);\r\n        ConfigManager.AddConfig(EnvironmentConfig);\r\n        ConfigManager.AddConfig(OtherEnvironmentConfig);\r\n        ConfigManager.AddConfig(GameConst);\r\n        ConfigManager.AddConfig(GameStateConst);\r\n        ConfigManager.AddConfig(LevelConfig);\r\n        ConfigManager.AddConfig(OtherLevelConfig);\r\n        ConfigManager.AddConfig(LevelPropConfig);\r\n        ConfigManager.AddConfig(LightingConst);\r\n        ConfigManager.AddConfig(OtherConst);\r\n        ConfigManager.AddConfig(SkinConfig);\r\n        ConfigManager.AddConfig(TestConst);\r\n    }\r\n\r\n    //注册数据\r\n    protected loginData() {\r\n        //游戏主要保存数据\r\n        GameDataProxy.instance.InitData();\r\n        //游戏新手引导数据\r\n        GameNewHandDataProxy.instance.InitData();\r\n        //游戏道具数据\r\n        GamePropDataProxy.instance.InitData();\r\n        //游戏皮肤数据\r\n        GameSkinDataProxy.instance.InitData();\r\n        //游戏签到数据\r\n        GameSignDataProxy.instance.InitData();\r\n        //游戏临时数据\r\n        GameShortDataProxy.instance.InitData();\r\n        //测试数据\r\n        GameTestDataProxy.instance.InitData();\r\n    }\r\n\r\n    // 获取其它游戏资源, 可以依赖游戏表格\r\n    protected OnGameResPrepared(urls: string[]) {\r\n        //把所有音效添加进预加载列表\r\n        let _str: string;\r\n        //背景音乐\r\n        for (let _i in EBGMs) {\r\n            //\r\n            _str = EBGMs[_i];\r\n            //判断是否是空元素\r\n            if (_str == '') continue;\r\n            //添加进列表\r\n            urls.push(ResUrl.music_url(_str));\r\n        }\r\n        //音效\r\n        for (let _i in ESounds) {\r\n            //\r\n            _str = ESounds[_i];\r\n            //判断是否是空元素\r\n            if (_str == '') continue;\r\n            //添加进列表\r\n            urls.push(ResUrl.sound_url(_str));\r\n        }\r\n    }\r\n\r\n    //游戏加载进度\r\n    protected onLoading(_n: number) {\r\n        this._loadingProgress.value = _n;//设置进度条\r\n        this._loadingProgressText.text = Math.floor(_n).toString() + '%';//设置文字进度\r\n    }\r\n\r\n    // 完成\r\n    protected OnComplete() {\r\n        //关闭加载时显示的UI\r\n        this._loadShowUI.dispose();\r\n        //游戏初始化完成\r\n        GlobalStateManager.instance.GameOnInit();\r\n    }\r\n}","/**\r\n * 2d 游戏 入口\r\n */\r\nexport default class Game2D {\r\n    //\r\n    private static _instance: Game2D;\r\n    /** 单例 */\r\n    public static get instance(): Game2D {\r\n        if (this._instance == null) {\r\n            this._instance = new Game2D();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //\r\n    private constructor() { }\r\n\r\n    /**\r\n     * 进入游戏\r\n     */\r\n    public enterGame() {\r\n        this.initGame();\r\n    }\r\n\r\n    //初始化游戏\r\n    private initGame() {\r\n        //\r\n    }\r\n}","/**\r\n * 测试类基类\r\n */\r\nexport default class RootTest {\r\n    /**\r\n     * 开始测试\r\n     */\r\n    public startTest() { }\r\n}","import ConsoleEx from \"../Console/ConsoleEx\";\r\nimport RootTest from \"./RootTest\";\r\n\r\n/**\r\n * 打印测试\r\n */\r\nexport default class ConsoleTest extends RootTest {\r\n    // 打印字符串\r\n    private _consoleExStr: string = '输出测试';\r\n    //开始测试\r\n    public startTest() {\r\n        //\r\n        console.log('->开启测试<-');\r\n        //\r\n        console.log(...ConsoleEx.packLog(this._consoleExStr));\r\n        console.log(...ConsoleEx.packWarn(this._consoleExStr));\r\n        console.log(...ConsoleEx.packError(this._consoleExStr));\r\n    }\r\n}","import ConsoleTest from \"./ConsoleTest\";\r\nimport RootTest from \"./RootTest\";\r\n\r\n/**\r\n * 测试类入口\r\n */\r\nexport default class MainTest extends RootTest {\r\n    //开始测试\r\n    public startTest() {\r\n        //开始测试\r\n        new ConsoleTest().startTest();\r\n    }\r\n}","import RootTest from \"../aTGame/Test/RootTest\";\r\n\r\n/**\r\n * 异步测试类\r\n */\r\nexport default class AsyncTest extends RootTest {\r\n    //开始测试\r\n    public startTest() {\r\n        //\r\n        this.asyncTest();\r\n    }\r\n\r\n    //\r\n    private async asyncTest() {\r\n        console.log('异步开始');\r\n        await this._asyncTest();\r\n        console.log('异步结束');\r\n    }\r\n\r\n    //\r\n    private _asyncTest(): Promise<void> {\r\n        return new Promise<void>((_r) => {\r\n            Laya.timer.once(1000, this, () => {\r\n                console.log('异步函数执行中');\r\n                _r();\r\n            });\r\n        });\r\n    }\r\n}","import RootTest from \"../aTGame/Test/RootTest\"\r\n/**\r\n * OIMO物理测试\r\n */\r\nexport default class OIMODebug extends RootTest {\r\n    //单例\r\n    private static _instance: OIMODebug;\r\n    /** 单例对象 */\r\n    public static get instance(): OIMODebug {\r\n        if (this._instance) {\r\n            return this._instance;\r\n        } else {\r\n            this._instance = new OIMODebug();\r\n            return this._instance;\r\n        }\r\n    }\r\n    //\r\n    public goodsList: Laya.Sprite3D[];\r\n    public wallList: Laya.Sprite3D[];\r\n\r\n    //\r\n    public start(_prefabs: { [index: string]: Laya.Sprite3D[] }) {\r\n        let _spr: Laya.Sprite3D[] = [];\r\n    }\r\n}","import RootTest from \"../aTGame/Test/RootTest\";\r\nimport AsyncTest from \"./AsyncTest\";\r\nimport OIMODebug from \"./OIMODebug\";\r\n/**\r\n * 我的测试类\r\n */\r\nexport default class MyMainTest extends RootTest {\r\n    //开始测试\r\n    public startTest() {\r\n        //开启测试\r\n        new AsyncTest().startTest();\r\n        new OIMODebug().startTest();\r\n    }\r\n}","import EnvironmentDebug from \"./EnvironmentDebug\";\r\nimport RootDebug from \"./RootDebug\";\r\n\r\n/**\r\n * 调试类入口\r\n */\r\nexport default class MainDebug extends RootDebug {\r\n    protected _name: string = 'Main';\r\n\r\n    /** 开启调试 */\r\n    protected _startDebug() {\r\n        console.log('开启主调试');\r\n        //环境调试类\r\n        EnvironmentDebug.instance.startDebug();\r\n    }\r\n}","import RootDebug from \"../aTGame/Debug/RootDebug\";\r\n/**\r\n * 自定义调试\r\n */\r\nexport default class CustomDebug extends RootDebug {\r\n    private static m_instance: CustomDebug;\r\n    /** 单例 */\r\n    public static get instance(): CustomDebug {\r\n        if (!this.m_instance) {\r\n            this.m_instance = new CustomDebug();\r\n        }\r\n        //\r\n        return this.m_instance;\r\n    }\r\n    //\r\n    private constructor() { super(); }\r\n\r\n    //\r\n    protected _name: string = 'Custom';\r\n}","import RootDebug from \"../aTGame/Debug/RootDebug\";\r\nimport CustomDebug from \"./CustomDebug\";\r\n/**\r\n * 我的调试类\r\n */\r\nexport default class MyMainDebug extends RootDebug {\r\n    protected _name: string = 'MyMainDebug';\r\n\r\n    //开始调试\r\n    protected _startDebug() {\r\n        //开启自定义调试\r\n        CustomDebug.instance.startDebug();\r\n    }\r\n}","import Game3D from './Main/Game/Game3D';\r\nimport GameLoad from './Main/GameLoad';\r\nimport Game2D from './Main/Game/Game2D';\r\nimport MainTest from '../aTGame/Test/MainTest';\r\nimport MainGameConfig from '../bTGameConfig/MainGameConfig';\r\nimport ConsoleEx from '../aTGame/Console/ConsoleEx';\r\nimport MyMainTest from '../eTest/MyMainTest';\r\nimport MainDebug from '../aTGame/Debug/MainDebug';\r\nimport MyMainDebug from '../fDebug/MyMainDebug';\r\n/**\r\n * 游戏开始类\r\n */\r\nexport default class MainStart {\r\n    //游戏开始创建\r\n    constructor() {\r\n        //\r\n        this.upGameLoad();\r\n        //\r\n        this.gameLoad();\r\n    }\r\n\r\n    /** 游戏加载之前 */\r\n    private upGameLoad() {\r\n        //判断是否开启测试\r\n        if (MainGameConfig.ifTest) {\r\n            //激活测试类\r\n            new MainTest().startTest();//主测试\r\n            new MyMainTest().startTest();//项目测试\r\n        }\r\n        //判断是否开启调试\r\n        if (MainGameConfig.ifDebug) {\r\n            //激活调试类\r\n            new MainDebug().startDebug();//主调试\r\n            new MyMainDebug().startDebug();//项目调试\r\n        }\r\n    }\r\n\r\n    /** 加载游戏 */\r\n    private gameLoad() {\r\n        let _gameLoad: GameLoad = new GameLoad();\r\n        //\r\n        console.log(...ConsoleEx.comLog('开始加载游戏'));\r\n        //开始加载处理\r\n        _gameLoad.Enter(Laya.Handler.create(this, this.OnGameLoad));\r\n    }\r\n\r\n    /** 游戏进入之前的操作之前之后 */\r\n    private OnGameLoad() {\r\n        console.log(...ConsoleEx.comLog('游戏加载完成'));\r\n        //判断游戏类型\r\n        if (MainGameConfig.support3D) {\r\n            //进入3D游戏\r\n            Game3D.instance.enterGame();\r\n        }\r\n        if (MainGameConfig.support2D) {\r\n            //进入2D游戏\r\n            Game2D.instance.enterGame();\r\n        }\r\n        //\r\n        this.OnGameEnter();\r\n    }\r\n\r\n    /** 进入游戏之后 */\r\n    private OnGameEnter() { }\r\n}","import GameConfig from \"./GameConfig\";\r\nimport MainStart from './dMyGame/MainStart';\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\t// GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t\t//进入游戏\r\n\t\tnew MainStart();\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();"],"names":[],"mappings":"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"}