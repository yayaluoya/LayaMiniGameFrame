(function(e){function n(n){for(var o,l,a=n[0],c=n[1],s=n[2],f=0,h=[];f<a.length;f++)l=a[f],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&h.push(r[l][0]),r[l]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(n);while(h.length)h.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,a=1;a<t.length;a++){var c=t[a];0!==r[c]&&(o=!1)}o&&(i.splice(n--,1),e=l(l.s=t[0]))}return e}var o={},r={app:0},i=[];function l(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=o,l.d=function(e,n,t){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)l.d(t,o,function(n){return e[n]}.bind(null,o));return t},l.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=n,a=a.slice();for(var s=0;s<a.length;s++)n(a[s]);var u=c;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"00c2":function(e,n,t){"use strict";t("e54e")},"034f":function(e,n,t){"use strict";t("ecfe")},"0c96":function(e,n,t){"use strict";t("7d2c")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("Main")],1)},i=[],l=t("5c96"),a=t.n(l),c=(t("0fae"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"main"}},[t("el-tabs",{attrs:{type:"card"},model:{value:e.nav,callback:function(n){e.nav=n},expression:"nav"}},[t("el-tab-pane",{attrs:{label:"环境调试",name:"environment"}},[t("EnvironmentDebug")],1)],1)],1)}),s=[],u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"EnvironmentDebug"}},[t("el-form",{ref:"form",attrs:{"label-width":"40%"}},[t("el-form-item",{attrs:{label:"摄像机清除颜色"}},[t("el-color-picker",{attrs:{"show-alpha":""},on:{"active-change":e.clear_color_change},model:{value:e.clear_color,callback:function(n){e.clear_color=n},expression:"clear_color"}})],1),t("el-form-item",{attrs:{label:"灯光颜色"}},[t("el-color-picker",{attrs:{"show-alpha":""},on:{"active-change":e.light_color_change},model:{value:e.light_color,callback:function(n){e.light_color=n},expression:"light_color"}})],1),t("el-form-item",{attrs:{label:"灯光强度","label-width":"25%"}},[t("div",{staticClass:"block"},[t("el-slider",{attrs:{min:0,max:1,step:.01},on:{input:e.light_intensity_change},model:{value:e.light_intensity,callback:function(n){e.light_intensity=n},expression:"light_intensity"}})],1)]),t("el-form-item",{attrs:{label:"环境光颜色"}},[t("el-color-picker",{attrs:{"show-alpha":""},on:{"active-change":e.ambient_color_change},model:{value:e.ambient_color,callback:function(n){e.ambient_color=n},expression:"ambient_color"}})],1)],1)],1)},f=[],h=(t("99af"),t("ac1f"),t("1276"),t("4478")),p=t("2909"),m={Mes:"$Mes"},v={SetEnvironment:"setEnvironment"},d={data:function(){return{Laya:void 0,environment:void 0,clear_color:"",light_color:"",light_intensity:0,ambient_color:""}},methods:{clear_color_change:function(e){if(this.clear_color=e,this.environment){var n=this.colorRGBtoHex(e);this.environment.camera.clearColor=Object(h["a"])(this.Laya.Vector4,Object(p["a"])(n))}},light_color_change:function(e){if(this.light_color=e,this.environment){var n=this.colorRGBtoHex(e);this.environment.light.color=new this.Laya.Vector3(n[0],n[1],n[2])}},light_intensity_change:function(e){this.light_intensity=e,this.environment&&(this.environment.light.intensity=e)},ambient_color_change:function(e){if(this.ambient_color=e,this.environment){var n=this.colorRGBtoHex(e);this.environment.s3d.ambientColor=new this.Laya.Vector3(n[0],n[1],n[2])}},colorRGBtoHex:function(e){var n=e.split(","),t=parseInt(n[0].split("(")[1]),o=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3].split(")")[0]);return[t/225,o/225,r/225,i/225]},colorHexToRGB:function(e){return"rgba(".concat(225*e.x,", ").concat(225*e.y,", ").concat(225*e.z,", ").concat(e.w?e.w:1,")")}},mounted:function(){var e=this;window.opener&&window[m.Mes].onMes(void 0,v.SetEnvironment,(function(){console.log("环境改变事件"),e.Laya=window.opener.Laya,e.environment=window.opener.$Debug.Environment,e.clear_color=e.colorHexToRGB(e.environment.camera.clearColor),e.light_color=e.colorHexToRGB(e.environment.light.color),e.light_intensity=e.environment.light.intensity,e.ambient_color=e.colorHexToRGB(e.environment.s3d.ambientColor)}))}},b=d,_=(t("0c96"),t("0c7c")),g=Object(_["a"])(b,u,f,!1,null,"4dfef7f8",null),y=g.exports,w={name:"HelloWorld",components:{EnvironmentDebug:y},data:function(){return{nav:"environment"}}},x=w,O=(t("00c2"),Object(_["a"])(x,c,s,!1,null,"57fa550e",null)),j=O.exports;o["default"].use(a.a);var k={name:"App",components:{Main:j}},E=k,M=(t("034f"),Object(_["a"])(E,r,i,!1,null,null,null)),H=M.exports;o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(H)}}).$mount("#app")},"7d2c":function(e,n,t){},e54e:function(e,n,t){},ecfe:function(e,n,t){}});
//# sourceMappingURL=app.f84b65c6.js.map